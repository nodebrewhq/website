{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, extend, isNullOrUndefined, closest, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { formatUnit, remove, removeClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * Base class for the common drag and resize related actions\n */\nvar ActionBase = /** @class */function () {\n  function ActionBase(parent) {\n    this.daysVariation = 0;\n    this.parent = parent;\n    this.actionObj = {\n      X: 0,\n      Y: 0,\n      groupIndex: 0,\n      cellWidth: 0,\n      cellHeight: 0,\n      slotInterval: 0,\n      interval: 0,\n      actionIndex: 0,\n      cloneElement: [],\n      originalElement: [],\n      action: null,\n      isAllDay: null,\n      excludeSelectors: null,\n      index: 0,\n      navigationInterval: null,\n      scrollInterval: null\n    };\n    this.scrollArgs = {\n      element: null,\n      width: 0,\n      height: 0\n    };\n    this.resizeEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    this.scrollEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n  }\n  ActionBase.prototype.getChangedData = function (multiData) {\n    var _this = this;\n    var eventObj = extend({}, this.actionObj.event, null, true);\n    eventObj[this.parent.eventFields.startTime] = this.actionObj.start;\n    eventObj[this.parent.eventFields.endTime] = this.actionObj.end;\n    if (!isNullOrUndefined(this.actionObj.isAllDay)) {\n      eventObj[this.parent.eventFields.isAllDay] = this.actionObj.isAllDay;\n    }\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      var originalElement = this.getOriginalElement(this.actionObj.element);\n      if (originalElement) {\n        var indexCol_1 = originalElement.map(function (element) {\n          return parseInt(element.getAttribute('data-group-index'), 10);\n        });\n        if (indexCol_1.indexOf(this.actionObj.groupIndex) === -1 || !isNullOrUndefined(multiData) && multiData.length > 0) {\n          var cloneIndex_1 = parseInt(this.actionObj.clone.getAttribute('data-group-index'), 10);\n          indexCol_1 = indexCol_1.filter(function (index) {\n            return index !== cloneIndex_1;\n          });\n          indexCol_1.push(this.actionObj.groupIndex);\n          if (multiData && multiData.length > 0) {\n            multiData.forEach(function (data) {\n              _this.parent.resourceBase.getResourceData(data, _this.actionObj.groupIndex, indexCol_1);\n            });\n          } else {\n            this.parent.resourceBase.getResourceData(eventObj, this.actionObj.groupIndex, indexCol_1);\n          }\n        }\n      }\n    }\n    return eventObj;\n  };\n  ActionBase.prototype.saveChangedData = function (eventArgs, isMultiSelect) {\n    if (isMultiSelect === void 0) {\n      isMultiSelect = false;\n    }\n    this.parent.activeEventData.event = this.actionObj.event;\n    this.parent.currentAction = 'Save';\n    var currentAction;\n    var eventsCollection = [eventArgs.data];\n    if (isMultiSelect) {\n      eventsCollection = eventArgs.selectedData;\n    }\n    for (var _i = 0, eventsCollection_1 = eventsCollection; _i < eventsCollection_1.length; _i++) {\n      var eventObj = eventsCollection_1[_i];\n      var isSameResource = this.parent.activeViewOptions.group.resources.length > 0 ? parseInt(this.actionObj.element.getAttribute('data-group-index'), 10) === this.actionObj.groupIndex : true;\n      if (+eventObj[this.parent.eventFields.startTime] === +this.actionObj.event[this.parent.eventFields.startTime] && +eventObj[this.parent.eventFields.endTime] === +this.actionObj.event[this.parent.eventFields.endTime] && isSameResource) {\n        this.parent.crudModule.crudObj.isCrudAction = false;\n        return;\n      }\n      if (eventObj[this.parent.eventFields.recurrenceRule]) {\n        var eveId = eventObj[this.parent.eventFields.recurrenceID] || eventObj[this.parent.eventFields.id];\n        if (eventObj[this.parent.eventFields.id] === eventObj[this.parent.eventFields.recurrenceID]) {\n          eventObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n          currentAction = 'EditOccurrence';\n        }\n        if (this.parent.enableRecurrenceValidation && this.parent.eventWindow.editOccurrenceValidation(eveId, eventObj, this.actionObj.event)) {\n          return;\n        }\n      } else {\n        currentAction = null;\n      }\n      if (eventObj[this.parent.eventFields.startTimezone] || eventObj[this.parent.eventFields.endTimezone]) {\n        this.parent.eventBase.timezoneConvert(eventObj);\n      }\n      this.parent.crudModule.saveEvent(eventObj, currentAction);\n    }\n  };\n  ActionBase.prototype.calculateIntervalTime = function (date) {\n    var intervalTime = new Date(+date);\n    intervalTime.setMinutes(Math.floor(intervalTime.getMinutes() / this.actionObj.interval) * this.actionObj.interval);\n    return intervalTime;\n  };\n  ActionBase.prototype.getContentAreaDimension = function () {\n    var viewElement = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    var trElement = [].slice.call(viewElement.querySelector('tr').children);\n    if (!this.parent.activeView.isTimelineView() && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.isAdaptive && !this.parent.enableAdaptiveUI && !this.parent.virtualScrollModule) {\n      trElement = this.getResourceElements(trElement);\n    }\n    var leftOffset = trElement[0].getBoundingClientRect();\n    var rightOffset = trElement.slice(-1)[0].getBoundingClientRect();\n    var viewDimension = {\n      bottom: viewElement.scrollHeight - 5,\n      left: this.parent.enableRtl ? rightOffset.left : leftOffset.left,\n      right: this.parent.enableRtl ? leftOffset.right : rightOffset.right,\n      top: 0,\n      leftOffset: this.parent.enableRtl ? rightOffset.right : leftOffset.right,\n      rightOffset: this.parent.enableRtl ? leftOffset.left : rightOffset.left\n    };\n    return viewDimension;\n  };\n  ActionBase.prototype.getIndex = function (index) {\n    var contentElements = [].slice.call(this.parent.getContentTable().querySelector('tr').children);\n    var indexes = {\n      minIndex: 0,\n      maxIndex: contentElements.length - 1\n    };\n    if (this.actionObj.action === 'resize' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeView.isTimelineView()) {\n      var groupElements = this.getResourceElements(contentElements);\n      indexes.minIndex = groupElements[0].cellIndex;\n      indexes.maxIndex = groupElements.slice(-1)[0].cellIndex;\n    }\n    if (index < indexes.minIndex) {\n      index = indexes.minIndex;\n    }\n    if (index > indexes.maxIndex) {\n      index = indexes.maxIndex;\n    }\n    return index;\n  };\n  ActionBase.prototype.updateTimePosition = function (date, multiData) {\n    var index = 0;\n    for (var _i = 0, _a = this.actionObj.cloneElement; _i < _a.length; _i++) {\n      var cloneElement = _a[_i];\n      var timeElement = cloneElement.querySelector('.' + cls.APPOINTMENT_TIME);\n      if (timeElement) {\n        var startTime = this.actionObj.start;\n        var endTime = this.actionObj.end;\n        if (multiData && multiData.length > 0) {\n          startTime = multiData[parseInt(index.toString(), 10)][this.parent.eventFields.startTime];\n          endTime = multiData[parseInt(index.toString(), 10)][this.parent.eventFields.endTime];\n        }\n        timeElement.innerHTML = this.parent.getTimeString(startTime) + ' - ' + this.parent.getTimeString(endTime);\n      }\n      index++;\n    }\n    if (!this.parent.activeViewOptions.timeScale.enable || !this.parent.isAdaptive || this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineMonth') {\n      return;\n    }\n    var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n    if (!timeIndicator) {\n      timeIndicator = createElement('div', {\n        className: cls.CLONE_TIME_INDICATOR_CLASS\n      });\n      var wrapperClass = this.parent.activeView.isTimelineView() ? cls.DATE_HEADER_WRAP_CLASS : cls.TIME_CELLS_WRAP_CLASS;\n      this.parent.element.querySelector('.' + wrapperClass).appendChild(timeIndicator);\n    }\n    timeIndicator.innerHTML = this.parent.getTimeString(date);\n    var offsetValue = 0;\n    if (this.parent.activeView.isTimelineView()) {\n      if (this.parent.enableRtl) {\n        var rightValue = parseInt(this.actionObj.clone.style.right, 10);\n        offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ? rightValue + this.actionObj.clone.offsetWidth : rightValue;\n        timeIndicator.style.right = formatUnit(offsetValue);\n      } else {\n        var leftValue = parseInt(this.actionObj.clone.style.left, 10);\n        offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ? leftValue : leftValue + this.actionObj.clone.offsetWidth;\n        timeIndicator.style.left = formatUnit(offsetValue);\n      }\n    } else {\n      offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.top ? this.actionObj.clone.offsetTop : this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight;\n      timeIndicator.style.top = formatUnit(offsetValue);\n    }\n  };\n  ActionBase.prototype.getResourceElements = function (table) {\n    var _this = this;\n    return table.filter(function (element) {\n      return parseInt(element.getAttribute('data-group-index'), 10) === _this.actionObj.groupIndex;\n    });\n  };\n  ActionBase.prototype.getOriginalElement = function (element) {\n    var originalElement;\n    var guid = element.getAttribute('data-guid');\n    var isMorePopup = element.offsetParent && element.offsetParent.classList.contains(cls.MORE_EVENT_POPUP_CLASS);\n    if (isMorePopup || this.parent.activeView.isTimelineView() || this.actionObj.action !== 'resize' && this.parent.virtualScrollModule) {\n      originalElement = [].slice.call(this.parent.element.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n    } else {\n      var tr = closest(element, 'tr');\n      if (tr) {\n        originalElement = [].slice.call(tr.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n      }\n    }\n    return originalElement;\n  };\n  ActionBase.prototype.createCloneElement = function (element) {\n    var cloneWrapper = createElement('div', {\n      innerHTML: element.outerHTML\n    });\n    var cloneElement = cloneWrapper.children[0];\n    var cloneClassLists = [cls.CLONE_ELEMENT_CLASS];\n    cloneClassLists.push(this.actionObj.action === 'drag' ? cls.DRAG_CLONE_CLASS : cls.RESIZE_CLONE_CLASS);\n    if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineMonth') {\n      cloneClassLists.push(cls.MONTH_CLONE_ELEMENT_CLASS);\n    }\n    addClass([cloneElement], cloneClassLists);\n    addClass([element], cls.EVENT_ACTION_CLASS);\n    if (!isNullOrUndefined(element.parentElement)) {\n      element.parentElement.appendChild(cloneElement);\n    }\n    cloneElement.style.width = formatUnit(cloneElement.offsetWidth - 2);\n    var dragElement = document.querySelector(this.parent.eventDragArea);\n    if (this.parent.eventDragArea && this.actionObj.action === 'drag' && dragElement) {\n      dragElement.appendChild(cloneElement);\n    }\n    setStyleAttribute(cloneElement, {\n      border: '0px'\n    });\n    return cloneElement;\n  };\n  ActionBase.prototype.removeCloneElementClasses = function () {\n    var elements = this.actionObj.originalElement;\n    if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear' || this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek') {\n      elements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.EVENT_ACTION_CLASS));\n    }\n    removeClass(elements, cls.EVENT_ACTION_CLASS);\n  };\n  ActionBase.prototype.removeCloneElement = function () {\n    this.actionObj.originalElement = [];\n    var dynamicEle = [].slice.call(this.parent.element.querySelectorAll('.e-dynamic-clone'));\n    for (var _i = 0, dynamicEle_1 = dynamicEle; _i < dynamicEle_1.length; _i++) {\n      var cloneEle = dynamicEle_1[_i];\n      remove(cloneEle);\n    }\n    for (var _a = 0, _b = this.actionObj.cloneElement; _a < _b.length; _a++) {\n      var cloneElement = _b[_a];\n      if (!isNullOrUndefined(cloneElement.parentNode)) {\n        remove(cloneElement);\n      }\n    }\n    this.actionObj.cloneElement = [];\n    var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n    if (timeIndicator) {\n      remove(timeIndicator);\n    }\n  };\n  ActionBase.prototype.getCursorElement = function (e) {\n    var pages = this.parent.eventBase.getPageCoordinates(e);\n    return document.elementFromPoint(pages.clientX, pages.clientY);\n  };\n  ActionBase.prototype.autoScroll = function () {\n    var parent = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    var yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n    var xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n    var yInBounds = yIsScrollable && parent.scrollTop >= 0 && parent.scrollTop + parent.offsetHeight <= parent.scrollHeight;\n    var xInBounds = xIsScrollable && parent.scrollLeft >= 0 && parent.scrollLeft + parent.offsetWidth <= parent.scrollWidth;\n    if (this.actionObj.action === 'resize' && this.scrollEdges.right && parent.scrollLeft + parent.offsetWidth > parent.scrollWidth) {\n      var tdCollections = [].slice.call(this.parent.getContentTable().querySelector('tr').children).length - 1;\n      var cellIndex = Math.ceil((this.actionObj.clone.offsetLeft + this.actionObj.clone.offsetWidth) / this.actionObj.cellWidth);\n      xInBounds = cellIndex === tdCollections;\n    }\n    if (yInBounds && (this.scrollEdges.top || this.scrollEdges.bottom)) {\n      parent.scrollTop += this.scrollEdges.top ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n      if (this.actionObj.action === 'resize') {\n        if (parent.scrollHeight !== parent.offsetHeight + parent.scrollTop && parent.scrollTop > 0) {\n          this.actionObj.Y += this.scrollEdges.top ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n        }\n      }\n    }\n    if (xInBounds && (this.scrollEdges.left || this.scrollEdges.right)) {\n      parent.scrollLeft += this.scrollEdges.left ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n      if (this.actionObj.action === 'resize') {\n        if (parent.scrollWidth !== parent.offsetWidth + parent.scrollLeft && parent.scrollLeft > 0) {\n          this.actionObj.X += this.scrollEdges.left ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n        }\n      }\n    }\n  };\n  ActionBase.prototype.autoScrollValidation = function () {\n    if (!this.actionObj.scroll.enable) {\n      return false;\n    }\n    var res = this.parent.boundaryValidation(this.actionObj.pageY, this.actionObj.pageX);\n    this.scrollEdges = res;\n    return res.bottom || res.top || res.left || res.right;\n  };\n  ActionBase.prototype.actionClass = function (type) {\n    if (type === 'addClass') {\n      addClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n    } else {\n      removeClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n    }\n  };\n  ActionBase.prototype.updateScrollPosition = function (e) {\n    var _this = this;\n    this.scrollEventArgs = e;\n    if (this.actionObj.scroll.enable && isNullOrUndefined(this.actionObj.scrollInterval)) {\n      this.actionObj.scrollInterval = window.setInterval(function () {\n        if (_this.autoScrollValidation() && !_this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n          if (_this.parent.activeView.isTimelineView() && _this.parent.activeViewOptions.group.resources.length > 0 && _this.actionObj.groupIndex < 0) {\n            return;\n          }\n          _this.autoScroll();\n          if (_this.actionObj.action === 'drag') {\n            _this.parent.dragAndDropModule.updateDraggingDateTime(_this.scrollEventArgs);\n          } else {\n            _this.parent.resizeModule.updateResizingDirection(_this.scrollEventArgs);\n          }\n        }\n      }, this.actionObj.scroll.timeDelay);\n    }\n  };\n  ActionBase.prototype.updateOriginalElement = function (cloneElement) {\n    var query = '[data-id=\"' + cloneElement.getAttribute('data-id') + '\"]';\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      query = query.concat('[data-group-index = \"' + cloneElement.getAttribute('data-group-index') + '\"]');\n    }\n    var elements = [].slice.call(this.parent.element.querySelectorAll(query));\n    addClass(elements, cls.EVENT_ACTION_CLASS);\n    var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n    removeClass(eventWrappers, cls.EVENT_ACTION_CLASS);\n  };\n  ActionBase.prototype.getUpdatedEvent = function (startTime, endTime, eventObj) {\n    var event = JSON.parse(JSON.stringify(eventObj));\n    event[this.parent.eventFields.startTime] = startTime;\n    event[this.parent.eventFields.endTime] = endTime;\n    return event;\n  };\n  ActionBase.prototype.dynamicYearlyEventsRendering = function (event, isResize) {\n    if (isResize === void 0) {\n      isResize = false;\n    }\n    if (!isNullOrUndefined(this.parent.eventDragArea)) {\n      return;\n    }\n    var appWidth = this.actionObj.cellWidth - 7;\n    if (isResize && (this.resizeEdges.left || this.resizeEdges.right)) {\n      appWidth = this.actionObj.cellWidth * event.count;\n    }\n    if (!isResize && this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length === 0) {\n      var eventObj = this.yearEvent.isSpannedEvent(event, event[this.parent.eventFields.startTime]);\n      if (eventObj[this.parent.eventFields.startTime].getTime() === eventObj[this.parent.eventFields.endTime].getTime()) {\n        eventObj.isSpanned.count = 1;\n      }\n      appWidth = eventObj.isSpanned.count * this.actionObj.cellWidth;\n    }\n    if (!isResize && this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length !== 0) {\n      var eventObj = this.yearEvent.isSpannedEvent(event, event[this.parent.eventFields.startTime]);\n      appWidth = eventObj.isSpanned.count * this.actionObj.cellWidth;\n    }\n    var appointmentElement = this.createAppointmentElement(this.actionObj.groupIndex, event[this.parent.eventFields.subject]);\n    appointmentElement.setAttribute('drag', 'true');\n    addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n    setStyleAttribute(appointmentElement, {\n      'width': appWidth + 'px',\n      'border': '0px',\n      'pointer-events': 'none',\n      'position': 'absolute',\n      'overflow': 'hidden',\n      'padding': '3px'\n    });\n    if (this.actionObj.clone.style.backgroundColor !== '') {\n      setStyleAttribute(appointmentElement, {\n        'backgroundColor': this.actionObj.clone.style.backgroundColor\n      });\n    }\n    var date = util.resetTime(event[this.parent.eventFields.startTime]).getTime();\n    var query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"]';\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"][data-group-index=\"' + this.actionObj.groupIndex + '\"]';\n    }\n    var cellTd = this.parent.element.querySelector(query);\n    if (isNullOrUndefined(cellTd)) {\n      return;\n    }\n    if (isResize) {\n      var dateHeader = cellTd.querySelector('.' + cls.DATE_HEADER_CLASS);\n      var appHeight = this.actionObj.cellHeight * event.count - (dateHeader ? dateHeader.offsetHeight : 0) - 7;\n      if (this.resizeEdges.right || this.resizeEdges.left) {\n        appHeight = parseInt(this.actionObj.clone.style.height, 10);\n      }\n      setStyleAttribute(appointmentElement, {\n        'height': appHeight + 'px'\n      });\n    }\n    this.renderDynamicElement(cellTd, appointmentElement, true);\n    this.actionObj.cloneElement.push(appointmentElement);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ActionBase.prototype.renderDynamicElement = function (cellTd, element, isAppointment) {\n    if (isAppointment === void 0) {\n      isAppointment = false;\n    }\n    if (cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS)) {\n      cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS).appendChild(element);\n    } else {\n      var wrapper = createElement('div', {\n        className: cls.APPOINTMENT_WRAPPER_CLASS\n      });\n      wrapper.appendChild(element);\n      cellTd.appendChild(wrapper);\n    }\n  };\n  ActionBase.prototype.createAppointmentElement = function (resIndex, innerText) {\n    var appointmentWrapper = createElement('div', {\n      className: cls.APPOINTMENT_CLASS,\n      innerHTML: innerText\n    });\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      appointmentWrapper.setAttribute('data-group-index', resIndex.toString());\n    }\n    return appointmentWrapper;\n  };\n  ActionBase.prototype.dynamicEventsRendering = function (event) {\n    var _this = this;\n    if (!isNullOrUndefined(this.parent.eventDragArea)) {\n      return;\n    }\n    var dateRender = this.parent.activeView.renderDates;\n    var workCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n    var workDays = this.parent.activeViewOptions.workDays;\n    var groupOrder;\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      var renderedResource = this.parent.virtualScrollModule && this.parent.virtualScrollModule.isHorizontalScroll ? this.parent.resourceBase.renderedResources : this.parent.resourceBase.lastResourceLevel;\n      var resources = renderedResource.filter(function (res) {\n        return res.groupIndex === _this.actionObj.groupIndex;\n      });\n      dateRender = resources[0].renderDates;\n      var elementSelector = \".\" + cls.WORK_CELLS_CLASS + \"[data-group-index=\\\"\" + this.actionObj.groupIndex + \"\\\"]\";\n      workCells = [].slice.call(this.parent.element.querySelectorAll(elementSelector));\n      workDays = resources[0].workDays;\n      groupOrder = resources[0].groupOrder;\n    }\n    this.monthEvent.dateRender = dateRender;\n    this.monthEvent.getSlotDates(workDays);\n    if (this.resizeEdges.left || this.resizeEdges.right) {\n      var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n      for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n        var wrapper = eventWrappers_1[_i];\n        remove(wrapper);\n      }\n    }\n    var spannedEvents = this.monthEvent.splitEvent(event, dateRender);\n    for (var _a = 0, spannedEvents_1 = spannedEvents; _a < spannedEvents_1.length; _a++) {\n      var event_1 = spannedEvents_1[_a];\n      var day = this.parent.getIndexOfDate(dateRender, util.resetTime(event_1[this.monthEvent.fields.startTime]));\n      var diffInDays = event_1.data.count;\n      var appWidth = diffInDays * this.actionObj.cellWidth - 7;\n      var appointmentElement = this.monthEvent.createAppointmentElement(event_1, this.actionObj.groupIndex, true);\n      appointmentElement.setAttribute('drag', 'true');\n      addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n      this.monthEvent.applyResourceColor(appointmentElement, event_1, 'backgroundColor', groupOrder);\n      setStyleAttribute(appointmentElement, {\n        'width': appWidth + 'px',\n        'border': '0px',\n        'pointer-events': 'none'\n      });\n      var cellTd = workCells[parseInt(day.toString(), 10)];\n      if (cellTd) {\n        this.monthEvent.renderElement(cellTd, appointmentElement, true);\n        this.actionObj.cloneElement.push(appointmentElement);\n      }\n    }\n  };\n  ActionBase.prototype.destroy = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    this.actionObj = {};\n    this.scrollArgs = {};\n    this.resizeEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    this.scrollEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n  };\n  return ActionBase;\n}();\nexport { ActionBase };","map":{"version":3,"names":["addClass","createElement","extend","isNullOrUndefined","closest","setStyleAttribute","formatUnit","remove","removeClass","cls","util","ActionBase","parent","daysVariation","actionObj","X","Y","groupIndex","cellWidth","cellHeight","slotInterval","interval","actionIndex","cloneElement","originalElement","action","isAllDay","excludeSelectors","index","navigationInterval","scrollInterval","scrollArgs","element","width","height","resizeEdges","left","right","top","bottom","scrollEdges","prototype","getChangedData","multiData","_this","eventObj","event","eventFields","startTime","start","endTime","end","activeViewOptions","group","resources","length","getOriginalElement","indexCol_1","map","parseInt","getAttribute","indexOf","cloneIndex_1","clone","filter","push","forEach","data","resourceBase","getResourceData","saveChangedData","eventArgs","isMultiSelect","activeEventData","currentAction","eventsCollection","selectedData","_i","eventsCollection_1","isSameResource","crudModule","crudObj","isCrudAction","recurrenceRule","eveId","recurrenceID","id","eventBase","getEventMaxID","enableRecurrenceValidation","eventWindow","editOccurrenceValidation","startTimezone","endTimezone","timezoneConvert","saveEvent","calculateIntervalTime","date","intervalTime","Date","setMinutes","Math","floor","getMinutes","getContentAreaDimension","viewElement","querySelector","CONTENT_WRAP_CLASS","trElement","slice","call","children","activeView","isTimelineView","isAdaptive","enableAdaptiveUI","virtualScrollModule","getResourceElements","leftOffset","getBoundingClientRect","rightOffset","viewDimension","scrollHeight","enableRtl","getIndex","contentElements","getContentTable","indexes","minIndex","maxIndex","uiStateValues","isGroupAdaptive","groupElements","cellIndex","updateTimePosition","_a","timeElement","APPOINTMENT_TIME","toString","innerHTML","getTimeString","timeScale","enable","currentView","timeIndicator","CLONE_TIME_INDICATOR_CLASS","className","wrapperClass","DATE_HEADER_WRAP_CLASS","TIME_CELLS_WRAP_CLASS","appendChild","offsetValue","rightValue","style","offsetWidth","leftValue","offsetTop","offsetHeight","table","guid","isMorePopup","offsetParent","classList","contains","MORE_EVENT_POPUP_CLASS","querySelectorAll","tr","createCloneElement","cloneWrapper","outerHTML","cloneClassLists","CLONE_ELEMENT_CLASS","DRAG_CLONE_CLASS","RESIZE_CLONE_CLASS","MONTH_CLONE_ELEMENT_CLASS","EVENT_ACTION_CLASS","parentElement","dragElement","document","eventDragArea","border","removeCloneElementClasses","elements","removeCloneElement","dynamicEle","dynamicEle_1","cloneEle","_b","parentNode","getCursorElement","e","pages","getPageCoordinates","elementFromPoint","clientX","clientY","autoScroll","yIsScrollable","xIsScrollable","scrollWidth","yInBounds","scrollTop","xInBounds","scrollLeft","tdCollections","ceil","offsetLeft","scroll","scrollBy","autoScrollValidation","res","boundaryValidation","pageY","pageX","actionClass","type","updateScrollPosition","scrollEventArgs","window","setInterval","ALLDAY_APPOINTMENT_CLASS","dragAndDropModule","updateDraggingDateTime","resizeModule","updateResizingDirection","timeDelay","updateOriginalElement","query","concat","eventWrappers","getUpdatedEvent","JSON","parse","stringify","dynamicYearlyEventsRendering","isResize","appWidth","count","orientation","yearEvent","isSpannedEvent","getTime","isSpanned","appointmentElement","createAppointmentElement","subject","setAttribute","backgroundColor","resetTime","WORK_CELLS_CLASS","cellTd","dateHeader","DATE_HEADER_CLASS","appHeight","renderDynamicElement","isAppointment","APPOINTMENT_WRAPPER_CLASS","wrapper","resIndex","innerText","appointmentWrapper","APPOINTMENT_CLASS","dynamicEventsRendering","dateRender","renderDates","workCells","workDays","groupOrder","renderedResource","isHorizontalScroll","renderedResources","lastResourceLevel","elementSelector","monthEvent","getSlotDates","eventWrappers_1","spannedEvents","splitEvent","spannedEvents_1","event_1","day","getIndexOfDate","fields","diffInDays","applyResourceColor","renderElement","destroy","isDestroyed"],"sources":["/Users/anjalichaturvedi/GitHub/brew-bridge-dashboard/website/node_modules/@syncfusion/ej2-schedule/src/schedule/actions/action-base.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, extend, isNullOrUndefined, closest, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { formatUnit, remove, removeClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * Base class for the common drag and resize related actions\n */\nvar ActionBase = /** @class */ (function () {\n    function ActionBase(parent) {\n        this.daysVariation = 0;\n        this.parent = parent;\n        this.actionObj = {\n            X: 0, Y: 0, groupIndex: 0, cellWidth: 0, cellHeight: 0, slotInterval: 0, interval: 0, actionIndex: 0,\n            cloneElement: [], originalElement: [], action: null, isAllDay: null, excludeSelectors: null,\n            index: 0, navigationInterval: null, scrollInterval: null\n        };\n        this.scrollArgs = { element: null, width: 0, height: 0 };\n        this.resizeEdges = { left: false, right: false, top: false, bottom: false };\n        this.scrollEdges = { left: false, right: false, top: false, bottom: false };\n    }\n    ActionBase.prototype.getChangedData = function (multiData) {\n        var _this = this;\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        eventObj[this.parent.eventFields.startTime] = this.actionObj.start;\n        eventObj[this.parent.eventFields.endTime] = this.actionObj.end;\n        if (!isNullOrUndefined(this.actionObj.isAllDay)) {\n            eventObj[this.parent.eventFields.isAllDay] = this.actionObj.isAllDay;\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var originalElement = this.getOriginalElement(this.actionObj.element);\n            if (originalElement) {\n                var indexCol_1 = originalElement.map(function (element) { return parseInt(element.getAttribute('data-group-index'), 10); });\n                if (indexCol_1.indexOf(this.actionObj.groupIndex) === -1 || (!isNullOrUndefined(multiData) && multiData.length > 0)) {\n                    var cloneIndex_1 = parseInt(this.actionObj.clone.getAttribute('data-group-index'), 10);\n                    indexCol_1 = indexCol_1.filter(function (index) { return index !== cloneIndex_1; });\n                    indexCol_1.push(this.actionObj.groupIndex);\n                    if (multiData && multiData.length > 0) {\n                        multiData.forEach(function (data) {\n                            _this.parent.resourceBase.getResourceData(data, _this.actionObj.groupIndex, indexCol_1);\n                        });\n                    }\n                    else {\n                        this.parent.resourceBase.getResourceData(eventObj, this.actionObj.groupIndex, indexCol_1);\n                    }\n                }\n            }\n        }\n        return eventObj;\n    };\n    ActionBase.prototype.saveChangedData = function (eventArgs, isMultiSelect) {\n        if (isMultiSelect === void 0) { isMultiSelect = false; }\n        this.parent.activeEventData.event = this.actionObj.event;\n        this.parent.currentAction = 'Save';\n        var currentAction;\n        var eventsCollection = [eventArgs.data];\n        if (isMultiSelect) {\n            eventsCollection = eventArgs.selectedData;\n        }\n        for (var _i = 0, eventsCollection_1 = eventsCollection; _i < eventsCollection_1.length; _i++) {\n            var eventObj = eventsCollection_1[_i];\n            var isSameResource = (this.parent.activeViewOptions.group.resources.length > 0) ?\n                parseInt(this.actionObj.element.getAttribute('data-group-index'), 10) === this.actionObj.groupIndex : true;\n            if (+eventObj[this.parent.eventFields.startTime] === +this.actionObj.event[this.parent.eventFields.startTime] &&\n                +eventObj[this.parent.eventFields.endTime] === +this.actionObj.event[this.parent.eventFields.endTime] && isSameResource) {\n                this.parent.crudModule.crudObj.isCrudAction = false;\n                return;\n            }\n            if (eventObj[this.parent.eventFields.recurrenceRule]) {\n                var eveId = (eventObj[this.parent.eventFields.recurrenceID] || eventObj[this.parent.eventFields.id]);\n                if (eventObj[this.parent.eventFields.id] === eventObj[this.parent.eventFields.recurrenceID]) {\n                    eventObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n                    currentAction = 'EditOccurrence';\n                }\n                if (this.parent.enableRecurrenceValidation\n                    && this.parent.eventWindow.editOccurrenceValidation(eveId, eventObj, this.actionObj.event)) {\n                    return;\n                }\n            }\n            else {\n                currentAction = null;\n            }\n            if (eventObj[this.parent.eventFields.startTimezone] || eventObj[this.parent.eventFields.endTimezone]) {\n                this.parent.eventBase.timezoneConvert(eventObj);\n            }\n            this.parent.crudModule.saveEvent(eventObj, currentAction);\n        }\n    };\n    ActionBase.prototype.calculateIntervalTime = function (date) {\n        var intervalTime = new Date(+date);\n        intervalTime.setMinutes(Math.floor(intervalTime.getMinutes() / this.actionObj.interval) * this.actionObj.interval);\n        return intervalTime;\n    };\n    ActionBase.prototype.getContentAreaDimension = function () {\n        var viewElement = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var trElement = [].slice.call(viewElement.querySelector('tr').children);\n        if (!this.parent.activeView.isTimelineView() && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.isAdaptive && !this.parent.enableAdaptiveUI && !this.parent.virtualScrollModule) {\n            trElement = this.getResourceElements(trElement);\n        }\n        var leftOffset = trElement[0].getBoundingClientRect();\n        var rightOffset = trElement.slice(-1)[0].getBoundingClientRect();\n        var viewDimension = {\n            bottom: viewElement.scrollHeight - 5,\n            left: this.parent.enableRtl ? rightOffset.left : leftOffset.left,\n            right: this.parent.enableRtl ? leftOffset.right : rightOffset.right,\n            top: 0,\n            leftOffset: this.parent.enableRtl ? rightOffset.right : leftOffset.right,\n            rightOffset: this.parent.enableRtl ? leftOffset.left : rightOffset.left\n        };\n        return viewDimension;\n    };\n    ActionBase.prototype.getIndex = function (index) {\n        var contentElements = [].slice.call(this.parent.getContentTable().querySelector('tr').children);\n        var indexes = { minIndex: 0, maxIndex: contentElements.length - 1 };\n        if (this.actionObj.action === 'resize' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeView.isTimelineView()) {\n            var groupElements = this.getResourceElements(contentElements);\n            indexes.minIndex = groupElements[0].cellIndex;\n            indexes.maxIndex = groupElements.slice(-1)[0].cellIndex;\n        }\n        if (index < indexes.minIndex) {\n            index = indexes.minIndex;\n        }\n        if (index > indexes.maxIndex) {\n            index = indexes.maxIndex;\n        }\n        return index;\n    };\n    ActionBase.prototype.updateTimePosition = function (date, multiData) {\n        var index = 0;\n        for (var _i = 0, _a = this.actionObj.cloneElement; _i < _a.length; _i++) {\n            var cloneElement = _a[_i];\n            var timeElement = cloneElement.querySelector('.' + cls.APPOINTMENT_TIME);\n            if (timeElement) {\n                var startTime = this.actionObj.start;\n                var endTime = this.actionObj.end;\n                if (multiData && multiData.length > 0) {\n                    startTime = multiData[parseInt(index.toString(), 10)][this.parent.eventFields.startTime];\n                    endTime = multiData[parseInt(index.toString(), 10)][this.parent.eventFields.endTime];\n                }\n                timeElement.innerHTML = this.parent.getTimeString(startTime) + ' - ' +\n                    this.parent.getTimeString(endTime);\n            }\n            index++;\n        }\n        if (!this.parent.activeViewOptions.timeScale.enable || !this.parent.isAdaptive || this.parent.currentView === 'Month' ||\n            this.parent.currentView === 'TimelineMonth') {\n            return;\n        }\n        var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n        if (!timeIndicator) {\n            timeIndicator = createElement('div', { className: cls.CLONE_TIME_INDICATOR_CLASS });\n            var wrapperClass = this.parent.activeView.isTimelineView() ? cls.DATE_HEADER_WRAP_CLASS : cls.TIME_CELLS_WRAP_CLASS;\n            this.parent.element.querySelector('.' + wrapperClass).appendChild(timeIndicator);\n        }\n        timeIndicator.innerHTML = this.parent.getTimeString(date);\n        var offsetValue = 0;\n        if (this.parent.activeView.isTimelineView()) {\n            if (this.parent.enableRtl) {\n                var rightValue = parseInt(this.actionObj.clone.style.right, 10);\n                offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ?\n                    rightValue + this.actionObj.clone.offsetWidth : rightValue;\n                timeIndicator.style.right = formatUnit(offsetValue);\n            }\n            else {\n                var leftValue = parseInt(this.actionObj.clone.style.left, 10);\n                offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ?\n                    leftValue : leftValue + this.actionObj.clone.offsetWidth;\n                timeIndicator.style.left = formatUnit(offsetValue);\n            }\n        }\n        else {\n            offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.top ? this.actionObj.clone.offsetTop :\n                this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight;\n            timeIndicator.style.top = formatUnit(offsetValue);\n        }\n    };\n    ActionBase.prototype.getResourceElements = function (table) {\n        var _this = this;\n        return table.filter(function (element) {\n            return parseInt(element.getAttribute('data-group-index'), 10) === _this.actionObj.groupIndex;\n        });\n    };\n    ActionBase.prototype.getOriginalElement = function (element) {\n        var originalElement;\n        var guid = element.getAttribute('data-guid');\n        var isMorePopup = element.offsetParent && element.offsetParent.classList.contains(cls.MORE_EVENT_POPUP_CLASS);\n        if (isMorePopup || this.parent.activeView.isTimelineView() || (this.actionObj.action !== 'resize' && this.parent.virtualScrollModule)) {\n            originalElement = [].slice.call(this.parent.element.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n        }\n        else {\n            var tr = closest(element, 'tr');\n            if (tr) {\n                originalElement = [].slice.call(tr.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n            }\n        }\n        return originalElement;\n    };\n    ActionBase.prototype.createCloneElement = function (element) {\n        var cloneWrapper = createElement('div', { innerHTML: element.outerHTML });\n        var cloneElement = cloneWrapper.children[0];\n        var cloneClassLists = [cls.CLONE_ELEMENT_CLASS];\n        cloneClassLists.push((this.actionObj.action === 'drag') ? cls.DRAG_CLONE_CLASS : cls.RESIZE_CLONE_CLASS);\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineMonth') {\n            cloneClassLists.push(cls.MONTH_CLONE_ELEMENT_CLASS);\n        }\n        addClass([cloneElement], cloneClassLists);\n        addClass([element], cls.EVENT_ACTION_CLASS);\n        if (!isNullOrUndefined(element.parentElement)) {\n            element.parentElement.appendChild(cloneElement);\n        }\n        cloneElement.style.width = formatUnit(cloneElement.offsetWidth - 2);\n        var dragElement = document.querySelector(this.parent.eventDragArea);\n        if (this.parent.eventDragArea && this.actionObj.action === 'drag' && dragElement) {\n            dragElement.appendChild(cloneElement);\n        }\n        setStyleAttribute(cloneElement, { border: '0px' });\n        return cloneElement;\n    };\n    ActionBase.prototype.removeCloneElementClasses = function () {\n        var elements = this.actionObj.originalElement;\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear' ||\n            this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek') {\n            elements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.EVENT_ACTION_CLASS));\n        }\n        removeClass(elements, cls.EVENT_ACTION_CLASS);\n    };\n    ActionBase.prototype.removeCloneElement = function () {\n        this.actionObj.originalElement = [];\n        var dynamicEle = [].slice.call(this.parent.element.querySelectorAll('.e-dynamic-clone'));\n        for (var _i = 0, dynamicEle_1 = dynamicEle; _i < dynamicEle_1.length; _i++) {\n            var cloneEle = dynamicEle_1[_i];\n            remove(cloneEle);\n        }\n        for (var _a = 0, _b = this.actionObj.cloneElement; _a < _b.length; _a++) {\n            var cloneElement = _b[_a];\n            if (!isNullOrUndefined(cloneElement.parentNode)) {\n                remove(cloneElement);\n            }\n        }\n        this.actionObj.cloneElement = [];\n        var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n        if (timeIndicator) {\n            remove(timeIndicator);\n        }\n    };\n    ActionBase.prototype.getCursorElement = function (e) {\n        var pages = this.parent.eventBase.getPageCoordinates(e);\n        return document.elementFromPoint(pages.clientX, pages.clientY);\n    };\n    ActionBase.prototype.autoScroll = function () {\n        var parent = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n        var xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n        var yInBounds = yIsScrollable && parent.scrollTop >= 0 && parent.scrollTop + parent.offsetHeight <= parent.scrollHeight;\n        var xInBounds = xIsScrollable && parent.scrollLeft >= 0 && parent.scrollLeft + parent.offsetWidth <= parent.scrollWidth;\n        if (this.actionObj.action === 'resize' && this.scrollEdges.right && (parent.scrollLeft + parent.offsetWidth) > parent.scrollWidth) {\n            var tdCollections = ([].slice.call(this.parent.getContentTable().querySelector('tr').children)).length - 1;\n            var cellIndex = Math.ceil((this.actionObj.clone.offsetLeft + (this.actionObj.clone.offsetWidth)) /\n                this.actionObj.cellWidth);\n            xInBounds = cellIndex === tdCollections;\n        }\n        if (yInBounds && (this.scrollEdges.top || this.scrollEdges.bottom)) {\n            parent.scrollTop += this.scrollEdges.top ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n            if (this.actionObj.action === 'resize') {\n                if (parent.scrollHeight !== parent.offsetHeight + parent.scrollTop && parent.scrollTop > 0) {\n                    this.actionObj.Y += this.scrollEdges.top ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n                }\n            }\n        }\n        if (xInBounds && (this.scrollEdges.left || this.scrollEdges.right)) {\n            parent.scrollLeft += this.scrollEdges.left ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n            if (this.actionObj.action === 'resize') {\n                if (parent.scrollWidth !== parent.offsetWidth + parent.scrollLeft && parent.scrollLeft > 0) {\n                    this.actionObj.X += this.scrollEdges.left ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n                }\n            }\n        }\n    };\n    ActionBase.prototype.autoScrollValidation = function () {\n        if (!this.actionObj.scroll.enable) {\n            return false;\n        }\n        var res = this.parent.boundaryValidation(this.actionObj.pageY, this.actionObj.pageX);\n        this.scrollEdges = res;\n        return res.bottom || res.top || res.left || res.right;\n    };\n    ActionBase.prototype.actionClass = function (type) {\n        if (type === 'addClass') {\n            addClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n        }\n        else {\n            removeClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n        }\n    };\n    ActionBase.prototype.updateScrollPosition = function (e) {\n        var _this = this;\n        this.scrollEventArgs = e;\n        if (this.actionObj.scroll.enable && isNullOrUndefined(this.actionObj.scrollInterval)) {\n            this.actionObj.scrollInterval = window.setInterval(function () {\n                if (_this.autoScrollValidation() && !_this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n                    if (_this.parent.activeView.isTimelineView() && _this.parent.activeViewOptions.group.resources.length > 0\n                        && _this.actionObj.groupIndex < 0) {\n                        return;\n                    }\n                    _this.autoScroll();\n                    if (_this.actionObj.action === 'drag') {\n                        _this.parent.dragAndDropModule.updateDraggingDateTime(_this.scrollEventArgs);\n                    }\n                    else {\n                        _this.parent.resizeModule.updateResizingDirection(_this.scrollEventArgs);\n                    }\n                }\n            }, this.actionObj.scroll.timeDelay);\n        }\n    };\n    ActionBase.prototype.updateOriginalElement = function (cloneElement) {\n        var query = '[data-id=\"' + cloneElement.getAttribute('data-id') + '\"]';\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            query = query.concat('[data-group-index = \"' + cloneElement.getAttribute('data-group-index') + '\"]');\n        }\n        var elements = [].slice.call(this.parent.element.querySelectorAll(query));\n        addClass(elements, cls.EVENT_ACTION_CLASS);\n        var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n        removeClass(eventWrappers, cls.EVENT_ACTION_CLASS);\n    };\n    ActionBase.prototype.getUpdatedEvent = function (startTime, endTime, eventObj) {\n        var event = JSON.parse(JSON.stringify(eventObj));\n        event[this.parent.eventFields.startTime] = startTime;\n        event[this.parent.eventFields.endTime] = endTime;\n        return event;\n    };\n    ActionBase.prototype.dynamicYearlyEventsRendering = function (event, isResize) {\n        if (isResize === void 0) { isResize = false; }\n        if (!isNullOrUndefined(this.parent.eventDragArea)) {\n            return;\n        }\n        var appWidth = this.actionObj.cellWidth - 7;\n        if (isResize && (this.resizeEdges.left || this.resizeEdges.right)) {\n            appWidth = this.actionObj.cellWidth * event.count;\n        }\n        if (!isResize && (this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length === 0)) {\n            var eventObj = this.yearEvent.isSpannedEvent(event, event[this.parent.eventFields.startTime]);\n            if (eventObj[this.parent.eventFields.startTime].getTime() ===\n                eventObj[this.parent.eventFields.endTime].getTime()) {\n                eventObj.isSpanned.count = 1;\n            }\n            appWidth = eventObj.isSpanned.count * this.actionObj.cellWidth;\n        }\n        if (!isResize && this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length !== 0) {\n            var eventObj = this.yearEvent.isSpannedEvent(event, event[this.parent.eventFields.startTime]);\n            appWidth = eventObj.isSpanned.count * this.actionObj.cellWidth;\n        }\n        var appointmentElement = this.createAppointmentElement(this.actionObj.groupIndex, event[this.parent.eventFields.subject]);\n        appointmentElement.setAttribute('drag', 'true');\n        addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n        setStyleAttribute(appointmentElement, {\n            'width': appWidth + 'px', 'border': '0px', 'pointer-events': 'none',\n            'position': 'absolute', 'overflow': 'hidden', 'padding': '3px'\n        });\n        if (this.actionObj.clone.style.backgroundColor !== '') {\n            setStyleAttribute(appointmentElement, { 'backgroundColor': this.actionObj.clone.style.backgroundColor });\n        }\n        var date = util.resetTime(event[this.parent.eventFields.startTime]).getTime();\n        var query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"]';\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"][data-group-index=\"' + this.actionObj.groupIndex + '\"]';\n        }\n        var cellTd = this.parent.element.querySelector(query);\n        if (isNullOrUndefined(cellTd)) {\n            return;\n        }\n        if (isResize) {\n            var dateHeader = cellTd.querySelector('.' + cls.DATE_HEADER_CLASS);\n            var appHeight = this.actionObj.cellHeight * event.count -\n                (dateHeader ? dateHeader.offsetHeight : 0) - 7;\n            if (this.resizeEdges.right || this.resizeEdges.left) {\n                appHeight = parseInt(this.actionObj.clone.style.height, 10);\n            }\n            setStyleAttribute(appointmentElement, { 'height': appHeight + 'px' });\n        }\n        this.renderDynamicElement(cellTd, appointmentElement, true);\n        this.actionObj.cloneElement.push(appointmentElement);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ActionBase.prototype.renderDynamicElement = function (cellTd, element, isAppointment) {\n        if (isAppointment === void 0) { isAppointment = false; }\n        if (cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS)) {\n            cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS).appendChild(element);\n        }\n        else {\n            var wrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            wrapper.appendChild(element);\n            cellTd.appendChild(wrapper);\n        }\n    };\n    ActionBase.prototype.createAppointmentElement = function (resIndex, innerText) {\n        var appointmentWrapper = createElement('div', {\n            className: cls.APPOINTMENT_CLASS,\n            innerHTML: innerText\n        });\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            appointmentWrapper.setAttribute('data-group-index', resIndex.toString());\n        }\n        return appointmentWrapper;\n    };\n    ActionBase.prototype.dynamicEventsRendering = function (event) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.eventDragArea)) {\n            return;\n        }\n        var dateRender = this.parent.activeView.renderDates;\n        var workCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n        var workDays = this.parent.activeViewOptions.workDays;\n        var groupOrder;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var renderedResource = this.parent.virtualScrollModule && this.parent.virtualScrollModule.isHorizontalScroll ?\n                this.parent.resourceBase.renderedResources : this.parent.resourceBase.lastResourceLevel;\n            var resources = renderedResource.\n                filter(function (res) { return res.groupIndex === _this.actionObj.groupIndex; });\n            dateRender = resources[0].renderDates;\n            var elementSelector = \".\" + cls.WORK_CELLS_CLASS + \"[data-group-index=\\\"\" + this.actionObj.groupIndex + \"\\\"]\";\n            workCells = [].slice.call(this.parent.element.querySelectorAll(elementSelector));\n            workDays = resources[0].workDays;\n            groupOrder = resources[0].groupOrder;\n        }\n        this.monthEvent.dateRender = dateRender;\n        this.monthEvent.getSlotDates(workDays);\n        if (this.resizeEdges.left || this.resizeEdges.right) {\n            var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n            for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n                var wrapper = eventWrappers_1[_i];\n                remove(wrapper);\n            }\n        }\n        var spannedEvents = this.monthEvent.splitEvent(event, dateRender);\n        for (var _a = 0, spannedEvents_1 = spannedEvents; _a < spannedEvents_1.length; _a++) {\n            var event_1 = spannedEvents_1[_a];\n            var day = this.parent.getIndexOfDate(dateRender, util.resetTime(event_1[this.monthEvent.fields.startTime]));\n            var diffInDays = event_1.data.count;\n            var appWidth = (diffInDays * this.actionObj.cellWidth) - 7;\n            var appointmentElement = this.monthEvent.createAppointmentElement(event_1, this.actionObj.groupIndex, true);\n            appointmentElement.setAttribute('drag', 'true');\n            addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n            this.monthEvent.applyResourceColor(appointmentElement, event_1, 'backgroundColor', groupOrder);\n            setStyleAttribute(appointmentElement, { 'width': appWidth + 'px', 'border': '0px', 'pointer-events': 'none' });\n            var cellTd = workCells[parseInt(day.toString(), 10)];\n            if (cellTd) {\n                this.monthEvent.renderElement(cellTd, appointmentElement, true);\n                this.actionObj.cloneElement.push(appointmentElement);\n            }\n        }\n    };\n    ActionBase.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.actionObj = {};\n        this.scrollArgs = {};\n        this.resizeEdges = { left: false, right: false, top: false, bottom: false };\n        this.scrollEdges = { left: false, right: false, top: false, bottom: false };\n    };\n    return ActionBase;\n}());\nexport { ActionBase };\n"],"mappings":"AAAA;AACA,SAASA,QAAQ,EAAEC,aAAa,EAAEC,MAAM,EAAEC,iBAAiB,EAAEC,OAAO,EAAEC,iBAAiB,QAAQ,sBAAsB;AACrH,SAASC,UAAU,EAAEC,MAAM,EAAEC,WAAW,QAAQ,sBAAsB;AACtE,OAAO,KAAKC,GAAG,MAAM,sBAAsB;AAC3C,OAAO,KAAKC,IAAI,MAAM,cAAc;AACpC;AACA;AACA;AACA,IAAIC,UAAU,GAAG,aAAe,YAAY;EACxC,SAASA,UAAUA,CAACC,MAAM,EAAE;IACxB,IAAI,CAACC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACE,SAAS,GAAG;MACbC,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE,CAAC;MAAEC,UAAU,EAAE,CAAC;MAAEC,SAAS,EAAE,CAAC;MAAEC,UAAU,EAAE,CAAC;MAAEC,YAAY,EAAE,CAAC;MAAEC,QAAQ,EAAE,CAAC;MAAEC,WAAW,EAAE,CAAC;MACpGC,YAAY,EAAE,EAAE;MAAEC,eAAe,EAAE,EAAE;MAAEC,MAAM,EAAE,IAAI;MAAEC,QAAQ,EAAE,IAAI;MAAEC,gBAAgB,EAAE,IAAI;MAC3FC,KAAK,EAAE,CAAC;MAAEC,kBAAkB,EAAE,IAAI;MAAEC,cAAc,EAAE;IACxD,CAAC;IACD,IAAI,CAACC,UAAU,GAAG;MAAEC,OAAO,EAAE,IAAI;MAAEC,KAAK,EAAE,CAAC;MAAEC,MAAM,EAAE;IAAE,CAAC;IACxD,IAAI,CAACC,WAAW,GAAG;MAAEC,IAAI,EAAE,KAAK;MAAEC,KAAK,EAAE,KAAK;MAAEC,GAAG,EAAE,KAAK;MAAEC,MAAM,EAAE;IAAM,CAAC;IAC3E,IAAI,CAACC,WAAW,GAAG;MAAEJ,IAAI,EAAE,KAAK;MAAEC,KAAK,EAAE,KAAK;MAAEC,GAAG,EAAE,KAAK;MAAEC,MAAM,EAAE;IAAM,CAAC;EAC/E;EACA5B,UAAU,CAAC8B,SAAS,CAACC,cAAc,GAAG,UAAUC,SAAS,EAAE;IACvD,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAIC,QAAQ,GAAG3C,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACY,SAAS,CAACgC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;IAC3DD,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACC,SAAS,CAAC,GAAG,IAAI,CAAClC,SAAS,CAACmC,KAAK;IAClEJ,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACG,OAAO,CAAC,GAAG,IAAI,CAACpC,SAAS,CAACqC,GAAG;IAC9D,IAAI,CAAChD,iBAAiB,CAAC,IAAI,CAACW,SAAS,CAACY,QAAQ,CAAC,EAAE;MAC7CmB,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACrB,QAAQ,CAAC,GAAG,IAAI,CAACZ,SAAS,CAACY,QAAQ;IACxE;IACA,IAAI,IAAI,CAACd,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;MAC1D,IAAI/B,eAAe,GAAG,IAAI,CAACgC,kBAAkB,CAAC,IAAI,CAAC1C,SAAS,CAACkB,OAAO,CAAC;MACrE,IAAIR,eAAe,EAAE;QACjB,IAAIiC,UAAU,GAAGjC,eAAe,CAACkC,GAAG,CAAC,UAAU1B,OAAO,EAAE;UAAE,OAAO2B,QAAQ,CAAC3B,OAAO,CAAC4B,YAAY,CAAC,kBAAkB,CAAC,EAAE,EAAE,CAAC;QAAE,CAAC,CAAC;QAC3H,IAAIH,UAAU,CAACI,OAAO,CAAC,IAAI,CAAC/C,SAAS,CAACG,UAAU,CAAC,KAAK,CAAC,CAAC,IAAK,CAACd,iBAAiB,CAACwC,SAAS,CAAC,IAAIA,SAAS,CAACY,MAAM,GAAG,CAAE,EAAE;UACjH,IAAIO,YAAY,GAAGH,QAAQ,CAAC,IAAI,CAAC7C,SAAS,CAACiD,KAAK,CAACH,YAAY,CAAC,kBAAkB,CAAC,EAAE,EAAE,CAAC;UACtFH,UAAU,GAAGA,UAAU,CAACO,MAAM,CAAC,UAAUpC,KAAK,EAAE;YAAE,OAAOA,KAAK,KAAKkC,YAAY;UAAE,CAAC,CAAC;UACnFL,UAAU,CAACQ,IAAI,CAAC,IAAI,CAACnD,SAAS,CAACG,UAAU,CAAC;UAC1C,IAAI0B,SAAS,IAAIA,SAAS,CAACY,MAAM,GAAG,CAAC,EAAE;YACnCZ,SAAS,CAACuB,OAAO,CAAC,UAAUC,IAAI,EAAE;cAC9BvB,KAAK,CAAChC,MAAM,CAACwD,YAAY,CAACC,eAAe,CAACF,IAAI,EAAEvB,KAAK,CAAC9B,SAAS,CAACG,UAAU,EAAEwC,UAAU,CAAC;YAC3F,CAAC,CAAC;UACN,CAAC,MACI;YACD,IAAI,CAAC7C,MAAM,CAACwD,YAAY,CAACC,eAAe,CAACxB,QAAQ,EAAE,IAAI,CAAC/B,SAAS,CAACG,UAAU,EAAEwC,UAAU,CAAC;UAC7F;QACJ;MACJ;IACJ;IACA,OAAOZ,QAAQ;EACnB,CAAC;EACDlC,UAAU,CAAC8B,SAAS,CAAC6B,eAAe,GAAG,UAAUC,SAAS,EAAEC,aAAa,EAAE;IACvE,IAAIA,aAAa,KAAK,KAAK,CAAC,EAAE;MAAEA,aAAa,GAAG,KAAK;IAAE;IACvD,IAAI,CAAC5D,MAAM,CAAC6D,eAAe,CAAC3B,KAAK,GAAG,IAAI,CAAChC,SAAS,CAACgC,KAAK;IACxD,IAAI,CAAClC,MAAM,CAAC8D,aAAa,GAAG,MAAM;IAClC,IAAIA,aAAa;IACjB,IAAIC,gBAAgB,GAAG,CAACJ,SAAS,CAACJ,IAAI,CAAC;IACvC,IAAIK,aAAa,EAAE;MACfG,gBAAgB,GAAGJ,SAAS,CAACK,YAAY;IAC7C;IACA,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEC,kBAAkB,GAAGH,gBAAgB,EAAEE,EAAE,GAAGC,kBAAkB,CAACvB,MAAM,EAAEsB,EAAE,EAAE,EAAE;MAC1F,IAAIhC,QAAQ,GAAGiC,kBAAkB,CAACD,EAAE,CAAC;MACrC,IAAIE,cAAc,GAAI,IAAI,CAACnE,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,GAC1EI,QAAQ,CAAC,IAAI,CAAC7C,SAAS,CAACkB,OAAO,CAAC4B,YAAY,CAAC,kBAAkB,CAAC,EAAE,EAAE,CAAC,KAAK,IAAI,CAAC9C,SAAS,CAACG,UAAU,GAAG,IAAI;MAC9G,IAAI,CAAC4B,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAClC,SAAS,CAACgC,KAAK,CAAC,IAAI,CAAClC,MAAM,CAACmC,WAAW,CAACC,SAAS,CAAC,IACzG,CAACH,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACG,OAAO,CAAC,KAAK,CAAC,IAAI,CAACpC,SAAS,CAACgC,KAAK,CAAC,IAAI,CAAClC,MAAM,CAACmC,WAAW,CAACG,OAAO,CAAC,IAAI6B,cAAc,EAAE;QACzH,IAAI,CAACnE,MAAM,CAACoE,UAAU,CAACC,OAAO,CAACC,YAAY,GAAG,KAAK;QACnD;MACJ;MACA,IAAIrC,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACoC,cAAc,CAAC,EAAE;QAClD,IAAIC,KAAK,GAAIvC,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACsC,YAAY,CAAC,IAAIxC,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACuC,EAAE,CAAE;QACpG,IAAIzC,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACuC,EAAE,CAAC,KAAKzC,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACsC,YAAY,CAAC,EAAE;UACzFxC,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACuC,EAAE,CAAC,GAAG,IAAI,CAAC1E,MAAM,CAAC2E,SAAS,CAACC,aAAa,CAAC,CAAC;UAC5Ed,aAAa,GAAG,gBAAgB;QACpC;QACA,IAAI,IAAI,CAAC9D,MAAM,CAAC6E,0BAA0B,IACnC,IAAI,CAAC7E,MAAM,CAAC8E,WAAW,CAACC,wBAAwB,CAACP,KAAK,EAAEvC,QAAQ,EAAE,IAAI,CAAC/B,SAAS,CAACgC,KAAK,CAAC,EAAE;UAC5F;QACJ;MACJ,CAAC,MACI;QACD4B,aAAa,GAAG,IAAI;MACxB;MACA,IAAI7B,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAAC6C,aAAa,CAAC,IAAI/C,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAAC8C,WAAW,CAAC,EAAE;QAClG,IAAI,CAACjF,MAAM,CAAC2E,SAAS,CAACO,eAAe,CAACjD,QAAQ,CAAC;MACnD;MACA,IAAI,CAACjC,MAAM,CAACoE,UAAU,CAACe,SAAS,CAAClD,QAAQ,EAAE6B,aAAa,CAAC;IAC7D;EACJ,CAAC;EACD/D,UAAU,CAAC8B,SAAS,CAACuD,qBAAqB,GAAG,UAAUC,IAAI,EAAE;IACzD,IAAIC,YAAY,GAAG,IAAIC,IAAI,CAAC,CAACF,IAAI,CAAC;IAClCC,YAAY,CAACE,UAAU,CAACC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACK,UAAU,CAAC,CAAC,GAAG,IAAI,CAACzF,SAAS,CAACO,QAAQ,CAAC,GAAG,IAAI,CAACP,SAAS,CAACO,QAAQ,CAAC;IAClH,OAAO6E,YAAY;EACvB,CAAC;EACDvF,UAAU,CAAC8B,SAAS,CAAC+D,uBAAuB,GAAG,YAAY;IACvD,IAAIC,WAAW,GAAG,IAAI,CAAC7F,MAAM,CAACoB,OAAO,CAAC0E,aAAa,CAAC,GAAG,GAAGjG,GAAG,CAACkG,kBAAkB,CAAC;IACjF,IAAIC,SAAS,GAAG,EAAE,CAACC,KAAK,CAACC,IAAI,CAACL,WAAW,CAACC,aAAa,CAAC,IAAI,CAAC,CAACK,QAAQ,CAAC;IACvE,IAAI,CAAC,IAAI,CAACnG,MAAM,CAACoG,UAAU,CAACC,cAAc,CAAC,CAAC,IAAI,IAAI,CAACrG,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,IACpG,CAAC,IAAI,CAAC3C,MAAM,CAACsG,UAAU,IAAI,CAAC,IAAI,CAACtG,MAAM,CAACuG,gBAAgB,IAAI,CAAC,IAAI,CAACvG,MAAM,CAACwG,mBAAmB,EAAE;MAC9FR,SAAS,GAAG,IAAI,CAACS,mBAAmB,CAACT,SAAS,CAAC;IACnD;IACA,IAAIU,UAAU,GAAGV,SAAS,CAAC,CAAC,CAAC,CAACW,qBAAqB,CAAC,CAAC;IACrD,IAAIC,WAAW,GAAGZ,SAAS,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACU,qBAAqB,CAAC,CAAC;IAChE,IAAIE,aAAa,GAAG;MAChBlF,MAAM,EAAEkE,WAAW,CAACiB,YAAY,GAAG,CAAC;MACpCtF,IAAI,EAAE,IAAI,CAACxB,MAAM,CAAC+G,SAAS,GAAGH,WAAW,CAACpF,IAAI,GAAGkF,UAAU,CAAClF,IAAI;MAChEC,KAAK,EAAE,IAAI,CAACzB,MAAM,CAAC+G,SAAS,GAAGL,UAAU,CAACjF,KAAK,GAAGmF,WAAW,CAACnF,KAAK;MACnEC,GAAG,EAAE,CAAC;MACNgF,UAAU,EAAE,IAAI,CAAC1G,MAAM,CAAC+G,SAAS,GAAGH,WAAW,CAACnF,KAAK,GAAGiF,UAAU,CAACjF,KAAK;MACxEmF,WAAW,EAAE,IAAI,CAAC5G,MAAM,CAAC+G,SAAS,GAAGL,UAAU,CAAClF,IAAI,GAAGoF,WAAW,CAACpF;IACvE,CAAC;IACD,OAAOqF,aAAa;EACxB,CAAC;EACD9G,UAAU,CAAC8B,SAAS,CAACmF,QAAQ,GAAG,UAAUhG,KAAK,EAAE;IAC7C,IAAIiG,eAAe,GAAG,EAAE,CAAChB,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACkH,eAAe,CAAC,CAAC,CAACpB,aAAa,CAAC,IAAI,CAAC,CAACK,QAAQ,CAAC;IAC/F,IAAIgB,OAAO,GAAG;MAAEC,QAAQ,EAAE,CAAC;MAAEC,QAAQ,EAAEJ,eAAe,CAACtE,MAAM,GAAG;IAAE,CAAC;IACnE,IAAI,IAAI,CAACzC,SAAS,CAACW,MAAM,KAAK,QAAQ,IAAI,IAAI,CAACb,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,IAC9F,CAAC,IAAI,CAAC3C,MAAM,CAACsH,aAAa,CAACC,eAAe,IAAI,CAAC,IAAI,CAACvH,MAAM,CAACoG,UAAU,CAACC,cAAc,CAAC,CAAC,EAAE;MACxF,IAAImB,aAAa,GAAG,IAAI,CAACf,mBAAmB,CAACQ,eAAe,CAAC;MAC7DE,OAAO,CAACC,QAAQ,GAAGI,aAAa,CAAC,CAAC,CAAC,CAACC,SAAS;MAC7CN,OAAO,CAACE,QAAQ,GAAGG,aAAa,CAACvB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACwB,SAAS;IAC3D;IACA,IAAIzG,KAAK,GAAGmG,OAAO,CAACC,QAAQ,EAAE;MAC1BpG,KAAK,GAAGmG,OAAO,CAACC,QAAQ;IAC5B;IACA,IAAIpG,KAAK,GAAGmG,OAAO,CAACE,QAAQ,EAAE;MAC1BrG,KAAK,GAAGmG,OAAO,CAACE,QAAQ;IAC5B;IACA,OAAOrG,KAAK;EAChB,CAAC;EACDjB,UAAU,CAAC8B,SAAS,CAAC6F,kBAAkB,GAAG,UAAUrC,IAAI,EAAEtD,SAAS,EAAE;IACjE,IAAIf,KAAK,GAAG,CAAC;IACb,KAAK,IAAIiD,EAAE,GAAG,CAAC,EAAE0D,EAAE,GAAG,IAAI,CAACzH,SAAS,CAACS,YAAY,EAAEsD,EAAE,GAAG0D,EAAE,CAAChF,MAAM,EAAEsB,EAAE,EAAE,EAAE;MACrE,IAAItD,YAAY,GAAGgH,EAAE,CAAC1D,EAAE,CAAC;MACzB,IAAI2D,WAAW,GAAGjH,YAAY,CAACmF,aAAa,CAAC,GAAG,GAAGjG,GAAG,CAACgI,gBAAgB,CAAC;MACxE,IAAID,WAAW,EAAE;QACb,IAAIxF,SAAS,GAAG,IAAI,CAAClC,SAAS,CAACmC,KAAK;QACpC,IAAIC,OAAO,GAAG,IAAI,CAACpC,SAAS,CAACqC,GAAG;QAChC,IAAIR,SAAS,IAAIA,SAAS,CAACY,MAAM,GAAG,CAAC,EAAE;UACnCP,SAAS,GAAGL,SAAS,CAACgB,QAAQ,CAAC/B,KAAK,CAAC8G,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC9H,MAAM,CAACmC,WAAW,CAACC,SAAS,CAAC;UACxFE,OAAO,GAAGP,SAAS,CAACgB,QAAQ,CAAC/B,KAAK,CAAC8G,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC9H,MAAM,CAACmC,WAAW,CAACG,OAAO,CAAC;QACxF;QACAsF,WAAW,CAACG,SAAS,GAAG,IAAI,CAAC/H,MAAM,CAACgI,aAAa,CAAC5F,SAAS,CAAC,GAAG,KAAK,GAChE,IAAI,CAACpC,MAAM,CAACgI,aAAa,CAAC1F,OAAO,CAAC;MAC1C;MACAtB,KAAK,EAAE;IACX;IACA,IAAI,CAAC,IAAI,CAAChB,MAAM,CAACwC,iBAAiB,CAACyF,SAAS,CAACC,MAAM,IAAI,CAAC,IAAI,CAAClI,MAAM,CAACsG,UAAU,IAAI,IAAI,CAACtG,MAAM,CAACmI,WAAW,KAAK,OAAO,IACjH,IAAI,CAACnI,MAAM,CAACmI,WAAW,KAAK,eAAe,EAAE;MAC7C;IACJ;IACA,IAAIC,aAAa,GAAG,IAAI,CAACpI,MAAM,CAACoB,OAAO,CAAC0E,aAAa,CAAC,GAAG,GAAGjG,GAAG,CAACwI,0BAA0B,CAAC;IAC3F,IAAI,CAACD,aAAa,EAAE;MAChBA,aAAa,GAAG/I,aAAa,CAAC,KAAK,EAAE;QAAEiJ,SAAS,EAAEzI,GAAG,CAACwI;MAA2B,CAAC,CAAC;MACnF,IAAIE,YAAY,GAAG,IAAI,CAACvI,MAAM,CAACoG,UAAU,CAACC,cAAc,CAAC,CAAC,GAAGxG,GAAG,CAAC2I,sBAAsB,GAAG3I,GAAG,CAAC4I,qBAAqB;MACnH,IAAI,CAACzI,MAAM,CAACoB,OAAO,CAAC0E,aAAa,CAAC,GAAG,GAAGyC,YAAY,CAAC,CAACG,WAAW,CAACN,aAAa,CAAC;IACpF;IACAA,aAAa,CAACL,SAAS,GAAG,IAAI,CAAC/H,MAAM,CAACgI,aAAa,CAAC3C,IAAI,CAAC;IACzD,IAAIsD,WAAW,GAAG,CAAC;IACnB,IAAI,IAAI,CAAC3I,MAAM,CAACoG,UAAU,CAACC,cAAc,CAAC,CAAC,EAAE;MACzC,IAAI,IAAI,CAACrG,MAAM,CAAC+G,SAAS,EAAE;QACvB,IAAI6B,UAAU,GAAG7F,QAAQ,CAAC,IAAI,CAAC7C,SAAS,CAACiD,KAAK,CAAC0F,KAAK,CAACpH,KAAK,EAAE,EAAE,CAAC;QAC/DkH,WAAW,GAAG,IAAI,CAACzI,SAAS,CAACW,MAAM,KAAK,MAAM,IAAI,IAAI,CAACU,WAAW,CAACC,IAAI,GACnEoH,UAAU,GAAG,IAAI,CAAC1I,SAAS,CAACiD,KAAK,CAAC2F,WAAW,GAAGF,UAAU;QAC9DR,aAAa,CAACS,KAAK,CAACpH,KAAK,GAAG/B,UAAU,CAACiJ,WAAW,CAAC;MACvD,CAAC,MACI;QACD,IAAII,SAAS,GAAGhG,QAAQ,CAAC,IAAI,CAAC7C,SAAS,CAACiD,KAAK,CAAC0F,KAAK,CAACrH,IAAI,EAAE,EAAE,CAAC;QAC7DmH,WAAW,GAAG,IAAI,CAACzI,SAAS,CAACW,MAAM,KAAK,MAAM,IAAI,IAAI,CAACU,WAAW,CAACC,IAAI,GACnEuH,SAAS,GAAGA,SAAS,GAAG,IAAI,CAAC7I,SAAS,CAACiD,KAAK,CAAC2F,WAAW;QAC5DV,aAAa,CAACS,KAAK,CAACrH,IAAI,GAAG9B,UAAU,CAACiJ,WAAW,CAAC;MACtD;IACJ,CAAC,MACI;MACDA,WAAW,GAAG,IAAI,CAACzI,SAAS,CAACW,MAAM,KAAK,MAAM,IAAI,IAAI,CAACU,WAAW,CAACG,GAAG,GAAG,IAAI,CAACxB,SAAS,CAACiD,KAAK,CAAC6F,SAAS,GACnG,IAAI,CAAC9I,SAAS,CAACiD,KAAK,CAAC6F,SAAS,GAAG,IAAI,CAAC9I,SAAS,CAACiD,KAAK,CAAC8F,YAAY;MACtEb,aAAa,CAACS,KAAK,CAACnH,GAAG,GAAGhC,UAAU,CAACiJ,WAAW,CAAC;IACrD;EACJ,CAAC;EACD5I,UAAU,CAAC8B,SAAS,CAAC4E,mBAAmB,GAAG,UAAUyC,KAAK,EAAE;IACxD,IAAIlH,KAAK,GAAG,IAAI;IAChB,OAAOkH,KAAK,CAAC9F,MAAM,CAAC,UAAUhC,OAAO,EAAE;MACnC,OAAO2B,QAAQ,CAAC3B,OAAO,CAAC4B,YAAY,CAAC,kBAAkB,CAAC,EAAE,EAAE,CAAC,KAAKhB,KAAK,CAAC9B,SAAS,CAACG,UAAU;IAChG,CAAC,CAAC;EACN,CAAC;EACDN,UAAU,CAAC8B,SAAS,CAACe,kBAAkB,GAAG,UAAUxB,OAAO,EAAE;IACzD,IAAIR,eAAe;IACnB,IAAIuI,IAAI,GAAG/H,OAAO,CAAC4B,YAAY,CAAC,WAAW,CAAC;IAC5C,IAAIoG,WAAW,GAAGhI,OAAO,CAACiI,YAAY,IAAIjI,OAAO,CAACiI,YAAY,CAACC,SAAS,CAACC,QAAQ,CAAC1J,GAAG,CAAC2J,sBAAsB,CAAC;IAC7G,IAAIJ,WAAW,IAAI,IAAI,CAACpJ,MAAM,CAACoG,UAAU,CAACC,cAAc,CAAC,CAAC,IAAK,IAAI,CAACnG,SAAS,CAACW,MAAM,KAAK,QAAQ,IAAI,IAAI,CAACb,MAAM,CAACwG,mBAAoB,EAAE;MACnI5F,eAAe,GAAG,EAAE,CAACqF,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACoB,OAAO,CAACqI,gBAAgB,CAAC,cAAc,GAAGN,IAAI,GAAG,IAAI,CAAC,CAAC;IACvG,CAAC,MACI;MACD,IAAIO,EAAE,GAAGlK,OAAO,CAAC4B,OAAO,EAAE,IAAI,CAAC;MAC/B,IAAIsI,EAAE,EAAE;QACJ9I,eAAe,GAAG,EAAE,CAACqF,KAAK,CAACC,IAAI,CAACwD,EAAE,CAACD,gBAAgB,CAAC,cAAc,GAAGN,IAAI,GAAG,IAAI,CAAC,CAAC;MACtF;IACJ;IACA,OAAOvI,eAAe;EAC1B,CAAC;EACDb,UAAU,CAAC8B,SAAS,CAAC8H,kBAAkB,GAAG,UAAUvI,OAAO,EAAE;IACzD,IAAIwI,YAAY,GAAGvK,aAAa,CAAC,KAAK,EAAE;MAAE0I,SAAS,EAAE3G,OAAO,CAACyI;IAAU,CAAC,CAAC;IACzE,IAAIlJ,YAAY,GAAGiJ,YAAY,CAACzD,QAAQ,CAAC,CAAC,CAAC;IAC3C,IAAI2D,eAAe,GAAG,CAACjK,GAAG,CAACkK,mBAAmB,CAAC;IAC/CD,eAAe,CAACzG,IAAI,CAAE,IAAI,CAACnD,SAAS,CAACW,MAAM,KAAK,MAAM,GAAIhB,GAAG,CAACmK,gBAAgB,GAAGnK,GAAG,CAACoK,kBAAkB,CAAC;IACxG,IAAI,IAAI,CAACjK,MAAM,CAACmI,WAAW,KAAK,OAAO,IAAI,IAAI,CAACnI,MAAM,CAACmI,WAAW,KAAK,eAAe,EAAE;MACpF2B,eAAe,CAACzG,IAAI,CAACxD,GAAG,CAACqK,yBAAyB,CAAC;IACvD;IACA9K,QAAQ,CAAC,CAACuB,YAAY,CAAC,EAAEmJ,eAAe,CAAC;IACzC1K,QAAQ,CAAC,CAACgC,OAAO,CAAC,EAAEvB,GAAG,CAACsK,kBAAkB,CAAC;IAC3C,IAAI,CAAC5K,iBAAiB,CAAC6B,OAAO,CAACgJ,aAAa,CAAC,EAAE;MAC3ChJ,OAAO,CAACgJ,aAAa,CAAC1B,WAAW,CAAC/H,YAAY,CAAC;IACnD;IACAA,YAAY,CAACkI,KAAK,CAACxH,KAAK,GAAG3B,UAAU,CAACiB,YAAY,CAACmI,WAAW,GAAG,CAAC,CAAC;IACnE,IAAIuB,WAAW,GAAGC,QAAQ,CAACxE,aAAa,CAAC,IAAI,CAAC9F,MAAM,CAACuK,aAAa,CAAC;IACnE,IAAI,IAAI,CAACvK,MAAM,CAACuK,aAAa,IAAI,IAAI,CAACrK,SAAS,CAACW,MAAM,KAAK,MAAM,IAAIwJ,WAAW,EAAE;MAC9EA,WAAW,CAAC3B,WAAW,CAAC/H,YAAY,CAAC;IACzC;IACAlB,iBAAiB,CAACkB,YAAY,EAAE;MAAE6J,MAAM,EAAE;IAAM,CAAC,CAAC;IAClD,OAAO7J,YAAY;EACvB,CAAC;EACDZ,UAAU,CAAC8B,SAAS,CAAC4I,yBAAyB,GAAG,YAAY;IACzD,IAAIC,QAAQ,GAAG,IAAI,CAACxK,SAAS,CAACU,eAAe;IAC7C,IAAI,IAAI,CAACZ,MAAM,CAACmI,WAAW,KAAK,OAAO,IAAI,IAAI,CAACnI,MAAM,CAACmI,WAAW,KAAK,cAAc,IACjF,IAAI,CAACnI,MAAM,CAACmI,WAAW,KAAK,KAAK,IAAI,IAAI,CAACnI,MAAM,CAACmI,WAAW,KAAK,MAAM,IAAI,IAAI,CAACnI,MAAM,CAACmI,WAAW,KAAK,UAAU,EAAE;MACnHuC,QAAQ,GAAG,EAAE,CAACzE,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACoB,OAAO,CAACqI,gBAAgB,CAAC,GAAG,GAAG5J,GAAG,CAACsK,kBAAkB,CAAC,CAAC;IAChG;IACAvK,WAAW,CAAC8K,QAAQ,EAAE7K,GAAG,CAACsK,kBAAkB,CAAC;EACjD,CAAC;EACDpK,UAAU,CAAC8B,SAAS,CAAC8I,kBAAkB,GAAG,YAAY;IAClD,IAAI,CAACzK,SAAS,CAACU,eAAe,GAAG,EAAE;IACnC,IAAIgK,UAAU,GAAG,EAAE,CAAC3E,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACoB,OAAO,CAACqI,gBAAgB,CAAC,kBAAkB,CAAC,CAAC;IACxF,KAAK,IAAIxF,EAAE,GAAG,CAAC,EAAE4G,YAAY,GAAGD,UAAU,EAAE3G,EAAE,GAAG4G,YAAY,CAAClI,MAAM,EAAEsB,EAAE,EAAE,EAAE;MACxE,IAAI6G,QAAQ,GAAGD,YAAY,CAAC5G,EAAE,CAAC;MAC/BtE,MAAM,CAACmL,QAAQ,CAAC;IACpB;IACA,KAAK,IAAInD,EAAE,GAAG,CAAC,EAAEoD,EAAE,GAAG,IAAI,CAAC7K,SAAS,CAACS,YAAY,EAAEgH,EAAE,GAAGoD,EAAE,CAACpI,MAAM,EAAEgF,EAAE,EAAE,EAAE;MACrE,IAAIhH,YAAY,GAAGoK,EAAE,CAACpD,EAAE,CAAC;MACzB,IAAI,CAACpI,iBAAiB,CAACoB,YAAY,CAACqK,UAAU,CAAC,EAAE;QAC7CrL,MAAM,CAACgB,YAAY,CAAC;MACxB;IACJ;IACA,IAAI,CAACT,SAAS,CAACS,YAAY,GAAG,EAAE;IAChC,IAAIyH,aAAa,GAAG,IAAI,CAACpI,MAAM,CAACoB,OAAO,CAAC0E,aAAa,CAAC,GAAG,GAAGjG,GAAG,CAACwI,0BAA0B,CAAC;IAC3F,IAAID,aAAa,EAAE;MACfzI,MAAM,CAACyI,aAAa,CAAC;IACzB;EACJ,CAAC;EACDrI,UAAU,CAAC8B,SAAS,CAACoJ,gBAAgB,GAAG,UAAUC,CAAC,EAAE;IACjD,IAAIC,KAAK,GAAG,IAAI,CAACnL,MAAM,CAAC2E,SAAS,CAACyG,kBAAkB,CAACF,CAAC,CAAC;IACvD,OAAOZ,QAAQ,CAACe,gBAAgB,CAACF,KAAK,CAACG,OAAO,EAAEH,KAAK,CAACI,OAAO,CAAC;EAClE,CAAC;EACDxL,UAAU,CAAC8B,SAAS,CAAC2J,UAAU,GAAG,YAAY;IAC1C,IAAIxL,MAAM,GAAG,IAAI,CAACA,MAAM,CAACoB,OAAO,CAAC0E,aAAa,CAAC,GAAG,GAAGjG,GAAG,CAACkG,kBAAkB,CAAC;IAC5E,IAAI0F,aAAa,GAAGzL,MAAM,CAACiJ,YAAY,IAAIjJ,MAAM,CAAC8G,YAAY;IAC9D,IAAI4E,aAAa,GAAG1L,MAAM,CAAC8I,WAAW,IAAI9I,MAAM,CAAC2L,WAAW;IAC5D,IAAIC,SAAS,GAAGH,aAAa,IAAIzL,MAAM,CAAC6L,SAAS,IAAI,CAAC,IAAI7L,MAAM,CAAC6L,SAAS,GAAG7L,MAAM,CAACiJ,YAAY,IAAIjJ,MAAM,CAAC8G,YAAY;IACvH,IAAIgF,SAAS,GAAGJ,aAAa,IAAI1L,MAAM,CAAC+L,UAAU,IAAI,CAAC,IAAI/L,MAAM,CAAC+L,UAAU,GAAG/L,MAAM,CAAC8I,WAAW,IAAI9I,MAAM,CAAC2L,WAAW;IACvH,IAAI,IAAI,CAACzL,SAAS,CAACW,MAAM,KAAK,QAAQ,IAAI,IAAI,CAACe,WAAW,CAACH,KAAK,IAAKzB,MAAM,CAAC+L,UAAU,GAAG/L,MAAM,CAAC8I,WAAW,GAAI9I,MAAM,CAAC2L,WAAW,EAAE;MAC/H,IAAIK,aAAa,GAAI,EAAE,CAAC/F,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACkH,eAAe,CAAC,CAAC,CAACpB,aAAa,CAAC,IAAI,CAAC,CAACK,QAAQ,CAAC,CAAExD,MAAM,GAAG,CAAC;MAC1G,IAAI8E,SAAS,GAAGhC,IAAI,CAACwG,IAAI,CAAC,CAAC,IAAI,CAAC/L,SAAS,CAACiD,KAAK,CAAC+I,UAAU,GAAI,IAAI,CAAChM,SAAS,CAACiD,KAAK,CAAC2F,WAAY,IAC3F,IAAI,CAAC5I,SAAS,CAACI,SAAS,CAAC;MAC7BwL,SAAS,GAAGrE,SAAS,KAAKuE,aAAa;IAC3C;IACA,IAAIJ,SAAS,KAAK,IAAI,CAAChK,WAAW,CAACF,GAAG,IAAI,IAAI,CAACE,WAAW,CAACD,MAAM,CAAC,EAAE;MAChE3B,MAAM,CAAC6L,SAAS,IAAI,IAAI,CAACjK,WAAW,CAACF,GAAG,GAAG,CAAC,IAAI,CAACxB,SAAS,CAACiM,MAAM,CAACC,QAAQ,GAAG,IAAI,CAAClM,SAAS,CAACiM,MAAM,CAACC,QAAQ;MAC3G,IAAI,IAAI,CAAClM,SAAS,CAACW,MAAM,KAAK,QAAQ,EAAE;QACpC,IAAIb,MAAM,CAAC8G,YAAY,KAAK9G,MAAM,CAACiJ,YAAY,GAAGjJ,MAAM,CAAC6L,SAAS,IAAI7L,MAAM,CAAC6L,SAAS,GAAG,CAAC,EAAE;UACxF,IAAI,CAAC3L,SAAS,CAACE,CAAC,IAAI,IAAI,CAACwB,WAAW,CAACF,GAAG,GAAG,IAAI,CAACxB,SAAS,CAACiM,MAAM,CAACC,QAAQ,GAAG,CAAC,IAAI,CAAClM,SAAS,CAACiM,MAAM,CAACC,QAAQ;QAC/G;MACJ;IACJ;IACA,IAAIN,SAAS,KAAK,IAAI,CAAClK,WAAW,CAACJ,IAAI,IAAI,IAAI,CAACI,WAAW,CAACH,KAAK,CAAC,EAAE;MAChEzB,MAAM,CAAC+L,UAAU,IAAI,IAAI,CAACnK,WAAW,CAACJ,IAAI,GAAG,CAAC,IAAI,CAACtB,SAAS,CAACiM,MAAM,CAACC,QAAQ,GAAG,IAAI,CAAClM,SAAS,CAACiM,MAAM,CAACC,QAAQ;MAC7G,IAAI,IAAI,CAAClM,SAAS,CAACW,MAAM,KAAK,QAAQ,EAAE;QACpC,IAAIb,MAAM,CAAC2L,WAAW,KAAK3L,MAAM,CAAC8I,WAAW,GAAG9I,MAAM,CAAC+L,UAAU,IAAI/L,MAAM,CAAC+L,UAAU,GAAG,CAAC,EAAE;UACxF,IAAI,CAAC7L,SAAS,CAACC,CAAC,IAAI,IAAI,CAACyB,WAAW,CAACJ,IAAI,GAAG,IAAI,CAACtB,SAAS,CAACiM,MAAM,CAACC,QAAQ,GAAG,CAAC,IAAI,CAAClM,SAAS,CAACiM,MAAM,CAACC,QAAQ;QAChH;MACJ;IACJ;EACJ,CAAC;EACDrM,UAAU,CAAC8B,SAAS,CAACwK,oBAAoB,GAAG,YAAY;IACpD,IAAI,CAAC,IAAI,CAACnM,SAAS,CAACiM,MAAM,CAACjE,MAAM,EAAE;MAC/B,OAAO,KAAK;IAChB;IACA,IAAIoE,GAAG,GAAG,IAAI,CAACtM,MAAM,CAACuM,kBAAkB,CAAC,IAAI,CAACrM,SAAS,CAACsM,KAAK,EAAE,IAAI,CAACtM,SAAS,CAACuM,KAAK,CAAC;IACpF,IAAI,CAAC7K,WAAW,GAAG0K,GAAG;IACtB,OAAOA,GAAG,CAAC3K,MAAM,IAAI2K,GAAG,CAAC5K,GAAG,IAAI4K,GAAG,CAAC9K,IAAI,IAAI8K,GAAG,CAAC7K,KAAK;EACzD,CAAC;EACD1B,UAAU,CAAC8B,SAAS,CAAC6K,WAAW,GAAG,UAAUC,IAAI,EAAE;IAC/C,IAAIA,IAAI,KAAK,UAAU,EAAE;MACrBvN,QAAQ,CAAC,CAAC,IAAI,CAACY,MAAM,CAACoB,OAAO,CAAC,EAAEvB,GAAG,CAACsK,kBAAkB,CAAC;IAC3D,CAAC,MACI;MACDvK,WAAW,CAAC,CAAC,IAAI,CAACI,MAAM,CAACoB,OAAO,CAAC,EAAEvB,GAAG,CAACsK,kBAAkB,CAAC;IAC9D;EACJ,CAAC;EACDpK,UAAU,CAAC8B,SAAS,CAAC+K,oBAAoB,GAAG,UAAU1B,CAAC,EAAE;IACrD,IAAIlJ,KAAK,GAAG,IAAI;IAChB,IAAI,CAAC6K,eAAe,GAAG3B,CAAC;IACxB,IAAI,IAAI,CAAChL,SAAS,CAACiM,MAAM,CAACjE,MAAM,IAAI3I,iBAAiB,CAAC,IAAI,CAACW,SAAS,CAACgB,cAAc,CAAC,EAAE;MAClF,IAAI,CAAChB,SAAS,CAACgB,cAAc,GAAG4L,MAAM,CAACC,WAAW,CAAC,YAAY;QAC3D,IAAI/K,KAAK,CAACqK,oBAAoB,CAAC,CAAC,IAAI,CAACrK,KAAK,CAAC9B,SAAS,CAACiD,KAAK,CAACmG,SAAS,CAACC,QAAQ,CAAC1J,GAAG,CAACmN,wBAAwB,CAAC,EAAE;UACzG,IAAIhL,KAAK,CAAChC,MAAM,CAACoG,UAAU,CAACC,cAAc,CAAC,CAAC,IAAIrE,KAAK,CAAChC,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,IAClGX,KAAK,CAAC9B,SAAS,CAACG,UAAU,GAAG,CAAC,EAAE;YACnC;UACJ;UACA2B,KAAK,CAACwJ,UAAU,CAAC,CAAC;UAClB,IAAIxJ,KAAK,CAAC9B,SAAS,CAACW,MAAM,KAAK,MAAM,EAAE;YACnCmB,KAAK,CAAChC,MAAM,CAACiN,iBAAiB,CAACC,sBAAsB,CAAClL,KAAK,CAAC6K,eAAe,CAAC;UAChF,CAAC,MACI;YACD7K,KAAK,CAAChC,MAAM,CAACmN,YAAY,CAACC,uBAAuB,CAACpL,KAAK,CAAC6K,eAAe,CAAC;UAC5E;QACJ;MACJ,CAAC,EAAE,IAAI,CAAC3M,SAAS,CAACiM,MAAM,CAACkB,SAAS,CAAC;IACvC;EACJ,CAAC;EACDtN,UAAU,CAAC8B,SAAS,CAACyL,qBAAqB,GAAG,UAAU3M,YAAY,EAAE;IACjE,IAAI4M,KAAK,GAAG,YAAY,GAAG5M,YAAY,CAACqC,YAAY,CAAC,SAAS,CAAC,GAAG,IAAI;IACtE,IAAI,IAAI,CAAChD,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;MAC1D4K,KAAK,GAAGA,KAAK,CAACC,MAAM,CAAC,uBAAuB,GAAG7M,YAAY,CAACqC,YAAY,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;IACxG;IACA,IAAI0H,QAAQ,GAAG,EAAE,CAACzE,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACoB,OAAO,CAACqI,gBAAgB,CAAC8D,KAAK,CAAC,CAAC;IACzEnO,QAAQ,CAACsL,QAAQ,EAAE7K,GAAG,CAACsK,kBAAkB,CAAC;IAC1C,IAAIsD,aAAa,GAAG,EAAE,CAACxH,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACoB,OAAO,CAACqI,gBAAgB,CAAC,GAAG,GAAG5J,GAAG,CAACkK,mBAAmB,CAAC,CAAC;IACtGnK,WAAW,CAAC6N,aAAa,EAAE5N,GAAG,CAACsK,kBAAkB,CAAC;EACtD,CAAC;EACDpK,UAAU,CAAC8B,SAAS,CAAC6L,eAAe,GAAG,UAAUtL,SAAS,EAAEE,OAAO,EAAEL,QAAQ,EAAE;IAC3E,IAAIC,KAAK,GAAGyL,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC5L,QAAQ,CAAC,CAAC;IAChDC,KAAK,CAAC,IAAI,CAAClC,MAAM,CAACmC,WAAW,CAACC,SAAS,CAAC,GAAGA,SAAS;IACpDF,KAAK,CAAC,IAAI,CAAClC,MAAM,CAACmC,WAAW,CAACG,OAAO,CAAC,GAAGA,OAAO;IAChD,OAAOJ,KAAK;EAChB,CAAC;EACDnC,UAAU,CAAC8B,SAAS,CAACiM,4BAA4B,GAAG,UAAU5L,KAAK,EAAE6L,QAAQ,EAAE;IAC3E,IAAIA,QAAQ,KAAK,KAAK,CAAC,EAAE;MAAEA,QAAQ,GAAG,KAAK;IAAE;IAC7C,IAAI,CAACxO,iBAAiB,CAAC,IAAI,CAACS,MAAM,CAACuK,aAAa,CAAC,EAAE;MAC/C;IACJ;IACA,IAAIyD,QAAQ,GAAG,IAAI,CAAC9N,SAAS,CAACI,SAAS,GAAG,CAAC;IAC3C,IAAIyN,QAAQ,KAAK,IAAI,CAACxM,WAAW,CAACC,IAAI,IAAI,IAAI,CAACD,WAAW,CAACE,KAAK,CAAC,EAAE;MAC/DuM,QAAQ,GAAG,IAAI,CAAC9N,SAAS,CAACI,SAAS,GAAG4B,KAAK,CAAC+L,KAAK;IACrD;IACA,IAAI,CAACF,QAAQ,IAAK,IAAI,CAAC/N,MAAM,CAACwC,iBAAiB,CAAC0L,WAAW,KAAK,YAAY,IAAI,IAAI,CAAClO,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,KAAK,CAAE,EAAE;MACzI,IAAIV,QAAQ,GAAG,IAAI,CAACkM,SAAS,CAACC,cAAc,CAAClM,KAAK,EAAEA,KAAK,CAAC,IAAI,CAAClC,MAAM,CAACmC,WAAW,CAACC,SAAS,CAAC,CAAC;MAC7F,IAAIH,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACC,SAAS,CAAC,CAACiM,OAAO,CAAC,CAAC,KACrDpM,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACmC,WAAW,CAACG,OAAO,CAAC,CAAC+L,OAAO,CAAC,CAAC,EAAE;QACrDpM,QAAQ,CAACqM,SAAS,CAACL,KAAK,GAAG,CAAC;MAChC;MACAD,QAAQ,GAAG/L,QAAQ,CAACqM,SAAS,CAACL,KAAK,GAAG,IAAI,CAAC/N,SAAS,CAACI,SAAS;IAClE;IACA,IAAI,CAACyN,QAAQ,IAAI,IAAI,CAAC/N,MAAM,CAACwC,iBAAiB,CAAC0L,WAAW,KAAK,UAAU,IAAI,IAAI,CAAClO,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,KAAK,CAAC,EAAE;MACrI,IAAIV,QAAQ,GAAG,IAAI,CAACkM,SAAS,CAACC,cAAc,CAAClM,KAAK,EAAEA,KAAK,CAAC,IAAI,CAAClC,MAAM,CAACmC,WAAW,CAACC,SAAS,CAAC,CAAC;MAC7F4L,QAAQ,GAAG/L,QAAQ,CAACqM,SAAS,CAACL,KAAK,GAAG,IAAI,CAAC/N,SAAS,CAACI,SAAS;IAClE;IACA,IAAIiO,kBAAkB,GAAG,IAAI,CAACC,wBAAwB,CAAC,IAAI,CAACtO,SAAS,CAACG,UAAU,EAAE6B,KAAK,CAAC,IAAI,CAAClC,MAAM,CAACmC,WAAW,CAACsM,OAAO,CAAC,CAAC;IACzHF,kBAAkB,CAACG,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;IAC/CtP,QAAQ,CAAC,CAACmP,kBAAkB,CAAC,EAAE1O,GAAG,CAACkK,mBAAmB,CAAC;IACvDtK,iBAAiB,CAAC8O,kBAAkB,EAAE;MAClC,OAAO,EAAEP,QAAQ,GAAG,IAAI;MAAE,QAAQ,EAAE,KAAK;MAAE,gBAAgB,EAAE,MAAM;MACnE,UAAU,EAAE,UAAU;MAAE,UAAU,EAAE,QAAQ;MAAE,SAAS,EAAE;IAC7D,CAAC,CAAC;IACF,IAAI,IAAI,CAAC9N,SAAS,CAACiD,KAAK,CAAC0F,KAAK,CAAC8F,eAAe,KAAK,EAAE,EAAE;MACnDlP,iBAAiB,CAAC8O,kBAAkB,EAAE;QAAE,iBAAiB,EAAE,IAAI,CAACrO,SAAS,CAACiD,KAAK,CAAC0F,KAAK,CAAC8F;MAAgB,CAAC,CAAC;IAC5G;IACA,IAAItJ,IAAI,GAAGvF,IAAI,CAAC8O,SAAS,CAAC1M,KAAK,CAAC,IAAI,CAAClC,MAAM,CAACmC,WAAW,CAACC,SAAS,CAAC,CAAC,CAACiM,OAAO,CAAC,CAAC;IAC7E,IAAId,KAAK,GAAG,GAAG,GAAG1N,GAAG,CAACgP,gBAAgB,GAAG,cAAc,GAAGxJ,IAAI,GAAG,IAAI;IACrE,IAAI,IAAI,CAACrF,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC3C,MAAM,CAACsH,aAAa,CAACC,eAAe,EAAE;MACxGgG,KAAK,GAAG,GAAG,GAAG1N,GAAG,CAACgP,gBAAgB,GAAG,cAAc,GAAGxJ,IAAI,GAAG,uBAAuB,GAAG,IAAI,CAACnF,SAAS,CAACG,UAAU,GAAG,IAAI;IAC3H;IACA,IAAIyO,MAAM,GAAG,IAAI,CAAC9O,MAAM,CAACoB,OAAO,CAAC0E,aAAa,CAACyH,KAAK,CAAC;IACrD,IAAIhO,iBAAiB,CAACuP,MAAM,CAAC,EAAE;MAC3B;IACJ;IACA,IAAIf,QAAQ,EAAE;MACV,IAAIgB,UAAU,GAAGD,MAAM,CAAChJ,aAAa,CAAC,GAAG,GAAGjG,GAAG,CAACmP,iBAAiB,CAAC;MAClE,IAAIC,SAAS,GAAG,IAAI,CAAC/O,SAAS,CAACK,UAAU,GAAG2B,KAAK,CAAC+L,KAAK,IAClDc,UAAU,GAAGA,UAAU,CAAC9F,YAAY,GAAG,CAAC,CAAC,GAAG,CAAC;MAClD,IAAI,IAAI,CAAC1H,WAAW,CAACE,KAAK,IAAI,IAAI,CAACF,WAAW,CAACC,IAAI,EAAE;QACjDyN,SAAS,GAAGlM,QAAQ,CAAC,IAAI,CAAC7C,SAAS,CAACiD,KAAK,CAAC0F,KAAK,CAACvH,MAAM,EAAE,EAAE,CAAC;MAC/D;MACA7B,iBAAiB,CAAC8O,kBAAkB,EAAE;QAAE,QAAQ,EAAEU,SAAS,GAAG;MAAK,CAAC,CAAC;IACzE;IACA,IAAI,CAACC,oBAAoB,CAACJ,MAAM,EAAEP,kBAAkB,EAAE,IAAI,CAAC;IAC3D,IAAI,CAACrO,SAAS,CAACS,YAAY,CAAC0C,IAAI,CAACkL,kBAAkB,CAAC;EACxD,CAAC;EACD;EACAxO,UAAU,CAAC8B,SAAS,CAACqN,oBAAoB,GAAG,UAAUJ,MAAM,EAAE1N,OAAO,EAAE+N,aAAa,EAAE;IAClF,IAAIA,aAAa,KAAK,KAAK,CAAC,EAAE;MAAEA,aAAa,GAAG,KAAK;IAAE;IACvD,IAAIL,MAAM,CAAChJ,aAAa,CAAC,GAAG,GAAGjG,GAAG,CAACuP,yBAAyB,CAAC,EAAE;MAC3DN,MAAM,CAAChJ,aAAa,CAAC,GAAG,GAAGjG,GAAG,CAACuP,yBAAyB,CAAC,CAAC1G,WAAW,CAACtH,OAAO,CAAC;IAClF,CAAC,MACI;MACD,IAAIiO,OAAO,GAAGhQ,aAAa,CAAC,KAAK,EAAE;QAAEiJ,SAAS,EAAEzI,GAAG,CAACuP;MAA0B,CAAC,CAAC;MAChFC,OAAO,CAAC3G,WAAW,CAACtH,OAAO,CAAC;MAC5B0N,MAAM,CAACpG,WAAW,CAAC2G,OAAO,CAAC;IAC/B;EACJ,CAAC;EACDtP,UAAU,CAAC8B,SAAS,CAAC2M,wBAAwB,GAAG,UAAUc,QAAQ,EAAEC,SAAS,EAAE;IAC3E,IAAIC,kBAAkB,GAAGnQ,aAAa,CAAC,KAAK,EAAE;MAC1CiJ,SAAS,EAAEzI,GAAG,CAAC4P,iBAAiB;MAChC1H,SAAS,EAAEwH;IACf,CAAC,CAAC;IACF,IAAI,IAAI,CAACvP,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;MAC1D6M,kBAAkB,CAACd,YAAY,CAAC,kBAAkB,EAAEY,QAAQ,CAACxH,QAAQ,CAAC,CAAC,CAAC;IAC5E;IACA,OAAO0H,kBAAkB;EAC7B,CAAC;EACDzP,UAAU,CAAC8B,SAAS,CAAC6N,sBAAsB,GAAG,UAAUxN,KAAK,EAAE;IAC3D,IAAIF,KAAK,GAAG,IAAI;IAChB,IAAI,CAACzC,iBAAiB,CAAC,IAAI,CAACS,MAAM,CAACuK,aAAa,CAAC,EAAE;MAC/C;IACJ;IACA,IAAIoF,UAAU,GAAG,IAAI,CAAC3P,MAAM,CAACoG,UAAU,CAACwJ,WAAW;IACnD,IAAIC,SAAS,GAAG,EAAE,CAAC5J,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACoB,OAAO,CAACqI,gBAAgB,CAAC,GAAG,GAAG5J,GAAG,CAACgP,gBAAgB,CAAC,CAAC;IAC/F,IAAIiB,QAAQ,GAAG,IAAI,CAAC9P,MAAM,CAACwC,iBAAiB,CAACsN,QAAQ;IACrD,IAAIC,UAAU;IACd,IAAI,IAAI,CAAC/P,MAAM,CAACwC,iBAAiB,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;MAC1D,IAAIqN,gBAAgB,GAAG,IAAI,CAAChQ,MAAM,CAACwG,mBAAmB,IAAI,IAAI,CAACxG,MAAM,CAACwG,mBAAmB,CAACyJ,kBAAkB,GACxG,IAAI,CAACjQ,MAAM,CAACwD,YAAY,CAAC0M,iBAAiB,GAAG,IAAI,CAAClQ,MAAM,CAACwD,YAAY,CAAC2M,iBAAiB;MAC3F,IAAIzN,SAAS,GAAGsN,gBAAgB,CAC5B5M,MAAM,CAAC,UAAUkJ,GAAG,EAAE;QAAE,OAAOA,GAAG,CAACjM,UAAU,KAAK2B,KAAK,CAAC9B,SAAS,CAACG,UAAU;MAAE,CAAC,CAAC;MACpFsP,UAAU,GAAGjN,SAAS,CAAC,CAAC,CAAC,CAACkN,WAAW;MACrC,IAAIQ,eAAe,GAAG,GAAG,GAAGvQ,GAAG,CAACgP,gBAAgB,GAAG,sBAAsB,GAAG,IAAI,CAAC3O,SAAS,CAACG,UAAU,GAAG,KAAK;MAC7GwP,SAAS,GAAG,EAAE,CAAC5J,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACoB,OAAO,CAACqI,gBAAgB,CAAC2G,eAAe,CAAC,CAAC;MAChFN,QAAQ,GAAGpN,SAAS,CAAC,CAAC,CAAC,CAACoN,QAAQ;MAChCC,UAAU,GAAGrN,SAAS,CAAC,CAAC,CAAC,CAACqN,UAAU;IACxC;IACA,IAAI,CAACM,UAAU,CAACV,UAAU,GAAGA,UAAU;IACvC,IAAI,CAACU,UAAU,CAACC,YAAY,CAACR,QAAQ,CAAC;IACtC,IAAI,IAAI,CAACvO,WAAW,CAACC,IAAI,IAAI,IAAI,CAACD,WAAW,CAACE,KAAK,EAAE;MACjD,IAAIgM,aAAa,GAAG,EAAE,CAACxH,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClG,MAAM,CAACoB,OAAO,CAACqI,gBAAgB,CAAC,GAAG,GAAG5J,GAAG,CAACkK,mBAAmB,CAAC,CAAC;MACtG,KAAK,IAAI9F,EAAE,GAAG,CAAC,EAAEsM,eAAe,GAAG9C,aAAa,EAAExJ,EAAE,GAAGsM,eAAe,CAAC5N,MAAM,EAAEsB,EAAE,EAAE,EAAE;QACjF,IAAIoL,OAAO,GAAGkB,eAAe,CAACtM,EAAE,CAAC;QACjCtE,MAAM,CAAC0P,OAAO,CAAC;MACnB;IACJ;IACA,IAAImB,aAAa,GAAG,IAAI,CAACH,UAAU,CAACI,UAAU,CAACvO,KAAK,EAAEyN,UAAU,CAAC;IACjE,KAAK,IAAIhI,EAAE,GAAG,CAAC,EAAE+I,eAAe,GAAGF,aAAa,EAAE7I,EAAE,GAAG+I,eAAe,CAAC/N,MAAM,EAAEgF,EAAE,EAAE,EAAE;MACjF,IAAIgJ,OAAO,GAAGD,eAAe,CAAC/I,EAAE,CAAC;MACjC,IAAIiJ,GAAG,GAAG,IAAI,CAAC5Q,MAAM,CAAC6Q,cAAc,CAAClB,UAAU,EAAE7P,IAAI,CAAC8O,SAAS,CAAC+B,OAAO,CAAC,IAAI,CAACN,UAAU,CAACS,MAAM,CAAC1O,SAAS,CAAC,CAAC,CAAC;MAC3G,IAAI2O,UAAU,GAAGJ,OAAO,CAACpN,IAAI,CAAC0K,KAAK;MACnC,IAAID,QAAQ,GAAI+C,UAAU,GAAG,IAAI,CAAC7Q,SAAS,CAACI,SAAS,GAAI,CAAC;MAC1D,IAAIiO,kBAAkB,GAAG,IAAI,CAAC8B,UAAU,CAAC7B,wBAAwB,CAACmC,OAAO,EAAE,IAAI,CAACzQ,SAAS,CAACG,UAAU,EAAE,IAAI,CAAC;MAC3GkO,kBAAkB,CAACG,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;MAC/CtP,QAAQ,CAAC,CAACmP,kBAAkB,CAAC,EAAE1O,GAAG,CAACkK,mBAAmB,CAAC;MACvD,IAAI,CAACsG,UAAU,CAACW,kBAAkB,CAACzC,kBAAkB,EAAEoC,OAAO,EAAE,iBAAiB,EAAEZ,UAAU,CAAC;MAC9FtQ,iBAAiB,CAAC8O,kBAAkB,EAAE;QAAE,OAAO,EAAEP,QAAQ,GAAG,IAAI;QAAE,QAAQ,EAAE,KAAK;QAAE,gBAAgB,EAAE;MAAO,CAAC,CAAC;MAC9G,IAAIc,MAAM,GAAGe,SAAS,CAAC9M,QAAQ,CAAC6N,GAAG,CAAC9I,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACpD,IAAIgH,MAAM,EAAE;QACR,IAAI,CAACuB,UAAU,CAACY,aAAa,CAACnC,MAAM,EAAEP,kBAAkB,EAAE,IAAI,CAAC;QAC/D,IAAI,CAACrO,SAAS,CAACS,YAAY,CAAC0C,IAAI,CAACkL,kBAAkB,CAAC;MACxD;IACJ;EACJ,CAAC;EACDxO,UAAU,CAAC8B,SAAS,CAACqP,OAAO,GAAG,YAAY;IACvC,IAAI,CAAC,IAAI,CAAClR,MAAM,IAAI,IAAI,CAACA,MAAM,IAAI,IAAI,CAACA,MAAM,CAACmR,WAAW,EAAE;MACxD;IACJ;IACA,IAAI,CAACjR,SAAS,GAAG,CAAC,CAAC;IACnB,IAAI,CAACiB,UAAU,GAAG,CAAC,CAAC;IACpB,IAAI,CAACI,WAAW,GAAG;MAAEC,IAAI,EAAE,KAAK;MAAEC,KAAK,EAAE,KAAK;MAAEC,GAAG,EAAE,KAAK;MAAEC,MAAM,EAAE;IAAM,CAAC;IAC3E,IAAI,CAACC,WAAW,GAAG;MAAEJ,IAAI,EAAE,KAAK;MAAEC,KAAK,EAAE,KAAK;MAAEC,GAAG,EAAE,KAAK;MAAEC,MAAM,EAAE;IAAM,CAAC;EAC/E,CAAC;EACD,OAAO5B,UAAU;AACrB,CAAC,CAAC,CAAE;AACJ,SAASA,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}