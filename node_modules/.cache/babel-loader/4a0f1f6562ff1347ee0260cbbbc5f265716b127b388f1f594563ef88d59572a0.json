{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, createElement, addClass, closest, prepend, append, extend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { YearEvent } from '../event-renderer/year';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * year view\n */\nvar Year = /** @class */function (_super) {\n  __extends(Year, _super);\n  function Year(parent) {\n    var _this = _super.call(this, parent) || this;\n    _this.viewClass = 'e-year-view';\n    _this.isInverseTableSelect = false;\n    _this.yearEventModule = null;\n    return _this;\n  }\n  Year.prototype.getModuleName = function () {\n    return 'year';\n  };\n  Year.prototype.renderLayout = function (className) {\n    if (this.parent.resourceBase) {\n      this.parent.resourceBase.generateResourceLevels([{\n        renderDates: this.parent.activeView.renderDates\n      }]);\n    }\n    this.setPanel(createElement('div', {\n      className: cls.TABLE_WRAP_CLASS\n    }));\n    var viewTypeClass = this.parent.activeViewOptions.orientation === 'Horizontal' ? 'e-horizontal' : 'e-vertical';\n    addClass([this.element], [this.viewClass, viewTypeClass, className]);\n    this.renderPanel(className);\n    if (this.parent.activeViewOptions.allowVirtualScrolling) {\n      addClass([this.element], [cls.VIRTUAL_SCROLL_CLASS]);\n    }\n    var calendarTable = this.createTableLayout(cls.OUTER_TABLE_CLASS);\n    this.element.appendChild(calendarTable);\n    this.element.querySelector('table').setAttribute('role', 'presentation');\n    var calendarTBody = calendarTable.querySelector('tbody');\n    this.rowCount = this.getRowColumnCount('row');\n    this.columnCount = this.getRowColumnCount('column');\n    this.renderHeader(calendarTBody);\n    this.renderContent(calendarTBody);\n    if (this.parent.currentView !== 'Year' && this.parent.uiStateValues.isGroupAdaptive) {\n      this.generateColumnLevels();\n      this.renderResourceMobileLayout();\n    }\n    EventHandler.add(this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS), 'scroll', this.onContentScroll, this);\n    this.parent.notify(event.contentReady, {});\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Year.prototype.renderHeader = function (headerWrapper) {};\n  Year.prototype.renderContent = function (content) {\n    var tr = createElement('tr');\n    content.appendChild(tr);\n    var td = createElement('td');\n    tr.appendChild(td);\n    this.element.querySelector('tbody').appendChild(tr);\n    var contentWrapper = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    td.appendChild(contentWrapper);\n    var calendarTable = this.createTableLayout('e-calendar-table');\n    contentWrapper.appendChild(calendarTable);\n    var cTr = createElement('tr');\n    calendarTable.querySelector('tbody').appendChild(cTr);\n    var cTd = createElement('td');\n    cTr.appendChild(cTd);\n    var calendarWrapper = createElement('div', {\n      className: 'e-calendar-wrapper'\n    });\n    cTd.appendChild(calendarWrapper);\n    var months = this.getMonths();\n    for (var _i = 0, months_1 = months; _i < months_1.length; _i++) {\n      var month = months_1[_i];\n      var currentMonth = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n      var calendarElement = createElement('div', {\n        className: 'e-month-calendar e-calendar',\n        attrs: {\n          'data-role': 'calendar'\n        }\n      });\n      calendarElement.appendChild(this.renderCalendarHeader(currentMonth));\n      calendarElement.appendChild(this.renderCalendarContent(currentMonth));\n      calendarWrapper.appendChild(calendarElement);\n    }\n    this.renderDates.splice(0, 1);\n  };\n  Year.prototype.renderCalendarHeader = function (currentDate) {\n    var headerWrapper = createElement('div', {\n      className: 'e-header e-month'\n    });\n    var headerContent = createElement('div', {\n      className: 'e-day e-title'\n    });\n    if (this.parent.activeViewOptions.monthHeaderTemplate) {\n      var args = {\n        date: currentDate,\n        type: 'monthHeader'\n      };\n      this.renderTemplates(this.parent.getMonthHeaderTemplate(), args, 'monthHeaderTemplate', this.parent.activeViewOptions.monthHeaderTemplateName, headerContent);\n    } else {\n      headerContent.innerHTML = this.getMonthName(currentDate);\n    }\n    headerWrapper.appendChild(headerContent);\n    this.parent.trigger(event.renderCell, {\n      elementType: 'headerCells',\n      element: headerContent,\n      date: currentDate\n    });\n    return headerWrapper;\n  };\n  Year.prototype.renderCalendarContent = function (currentDate) {\n    var dateCollection = this.getMonthDates(currentDate);\n    var contentWrapper = createElement('div', {\n      className: 'e-content e-month'\n    });\n    var contentTable = this.createTableLayout('e-calendar-table ' + cls.CONTENT_TABLE_CLASS);\n    contentWrapper.appendChild(contentTable);\n    this.setAriaAttributes(contentTable);\n    var thead = createElement('thead', {\n      className: 'e-week-header'\n    });\n    var tr = createElement('tr');\n    var currentWeek = util.getWeekFirstDate(util.firstDateOfMonth(currentDate), this.parent.firstDayOfWeek);\n    if (this.parent.activeViewOptions.showWeekNumber) {\n      tr.appendChild(createElement('th'));\n    }\n    for (var i = 0; i < util.WEEK_LENGTH; i++) {\n      if (this.parent.activeViewOptions.dayHeaderTemplate) {\n        var th = createElement('th');\n        var args = {\n          date: currentWeek,\n          type: 'dayHeader'\n        };\n        this.renderTemplates(this.parent.getDayHeaderTemplate(), args, 'dayHeaderTemplate', this.parent.activeViewOptions.dayHeaderTemplateName, th);\n        tr.appendChild(th);\n      } else {\n        tr.appendChild(createElement('th', {\n          innerHTML: this.parent.getDayNames('narrow')[currentWeek.getDay()]\n        }));\n      }\n      var nextDay = new Date(currentWeek.getTime() + util.MS_PER_DAY);\n      currentWeek = nextDay.getDate() === currentWeek.getDate() ? util.addDays(nextDay, 1) : nextDay;\n    }\n    thead.appendChild(tr);\n    prepend([thead], contentTable);\n    var tbody = contentTable.querySelector('tbody');\n    while (dateCollection.length > 0) {\n      var weekDates = dateCollection.splice(0, util.WEEK_LENGTH);\n      var tr_1 = createElement('tr');\n      if (this.parent.activeViewOptions.showWeekNumber) {\n        var weekNumber = this.parent.getWeekNumberContent(weekDates);\n        var td = createElement('td', {\n          className: 'e-week-number',\n          attrs: {\n            'title': this.parent.localeObj.getConstant('week') + ' ' + weekNumber\n          },\n          innerHTML: weekNumber\n        });\n        tr_1.appendChild(td);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'weekNumberCells',\n          element: td\n        });\n      }\n      for (var _i = 0, weekDates_1 = weekDates; _i < weekDates_1.length; _i++) {\n        var date = weekDates_1[_i];\n        var td = createElement('td', {\n          className: 'e-cell ' + cls.WORK_CELLS_CLASS,\n          attrs: {\n            'data-date': date.getTime().toString()\n          }\n        });\n        if (this.parent.activeViewOptions.cellHeaderTemplate) {\n          var args = {\n            date: date,\n            type: 'monthCells'\n          };\n          this.renderTemplates(this.parent.getCellHeaderTemplate(), args, 'cellHeaderTemplate', this.parent.activeViewOptions.cellHeaderTemplateName, td);\n        } else {\n          var span = createElement('span', {\n            className: 'e-day',\n            innerHTML: this.parent.globalize.formatDate(date, {\n              skeleton: 'd',\n              calendar: this.parent.getCalendarMode()\n            }),\n            attrs: {\n              title: this.parent.globalize.formatDate(date, {\n                type: 'date',\n                skeleton: 'full'\n              })\n            }\n          });\n          td.appendChild(span);\n        }\n        if (this.parent.activeViewOptions.cellTemplate) {\n          var args = {\n            date: date,\n            type: 'monthCells'\n          };\n          this.renderTemplates(this.parent.getCellTemplate(), args, 'cellTemplate', this.parent.activeViewOptions.cellTemplateName, td);\n        }\n        var classList = [];\n        if (currentDate.getMonth() !== date.getMonth()) {\n          classList.push(cls.OTHERMONTH_CLASS);\n          if (td.firstElementChild && !this.parent.activeViewOptions.cellTemplate) {\n            td.firstElementChild.setAttribute('aria-disabled', 'true');\n          }\n        }\n        if (this.isCurrentDate(date) && currentDate.getMonth() === date.getMonth()) {\n          classList = classList.concat(['e-today', 'e-selected']);\n        }\n        if (classList.length > 0) {\n          addClass([td], classList);\n        }\n        tr_1.appendChild(td);\n        if (currentDate.getMonth() === date.getMonth()) {\n          this.renderDates.push(new Date(date));\n        }\n        if (!this.parent.isMinMaxDate(date)) {\n          addClass([td], cls.DISABLE_DATES);\n        } else {\n          EventHandler.add(td, 'click', this.onCellClick, this);\n          if (!this.parent.isAdaptive) {\n            EventHandler.add(td, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n          }\n        }\n        this.parent.trigger(event.renderCell, {\n          elementType: 'workCells',\n          element: td,\n          date: date\n        });\n      }\n      tbody.appendChild(tr_1);\n    }\n    return contentWrapper;\n  };\n  Year.prototype.createTableColGroup = function (count) {\n    var colGroupEle = createElement('colgroup');\n    for (var i = 0; i < count; i++) {\n      colGroupEle.appendChild(createElement('col'));\n    }\n    return colGroupEle;\n  };\n  Year.prototype.getMonthName = function (date) {\n    var month = this.parent.globalize.formatDate(date, {\n      format: this.parent.activeViewOptions.dateFormat || 'MMMM y',\n      calendar: this.parent.getCalendarMode()\n    });\n    return util.capitalizeFirstWord(month, 'multiple');\n  };\n  Year.prototype.generateColumnLevels = function () {\n    var colLevels = [];\n    var level = this.getDateSlots([this.parent.selectedDate], this.parent.activeViewOptions.workDays);\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      colLevels = this.parent.resourceBase.generateResourceLevels(level);\n      if (this.parent.uiStateValues.isGroupAdaptive) {\n        var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n        colLevels = [this.getDateSlots([this.parent.selectedDate], resourceLevel.workDays)];\n      }\n    } else {\n      colLevels.push(level);\n    }\n    colLevels.pop();\n    this.colLevels = colLevels;\n    return colLevels;\n  };\n  // eslint-disable-next-line max-len\n  Year.prototype.getDateSlots = function (renderDates, workDays, startHour, endHour) {\n    if (startHour === void 0) {\n      startHour = this.parent.workHours.start;\n    }\n    if (endHour === void 0) {\n      endHour = this.parent.workHours.end;\n    }\n    var dateCol = [{\n      date: renderDates[0],\n      type: 'dateHeader',\n      className: [cls.HEADER_CELLS_CLASS],\n      colSpan: 1,\n      workDays: workDays,\n      startHour: new Date(+this.parent.globalize.parseDate(startHour, {\n        skeleton: 'Hm'\n      })),\n      endHour: new Date(+this.parent.globalize.parseDate(endHour, {\n        skeleton: 'Hm'\n      }))\n    }];\n    return dateCol;\n  };\n  Year.prototype.getMonthDates = function (date) {\n    var startDate = util.getWeekFirstDate(util.firstDateOfMonth(date), this.parent.firstDayOfWeek);\n    var endDate = util.addDays(new Date(+startDate), 6 * util.WEEK_LENGTH);\n    var dateCollection = [];\n    for (var start = startDate; start.getTime() < endDate.getTime(); start = util.addDays(start, 1)) {\n      dateCollection.push(util.resetTime(new Date(start)));\n    }\n    return dateCollection;\n  };\n  Year.prototype.getRowColumnCount = function (type) {\n    var months = this.getMonths();\n    var year = this.parent.selectedDate.getFullYear();\n    var monthDaysCount = [];\n    for (var _i = 0, months_2 = months; _i < months_2.length; _i++) {\n      var month = months_2[_i];\n      monthDaysCount.push(new Date(year, month, 1).getDay() + new Date(year, month + 1, 0).getDate());\n    }\n    var maxCount = Math.max.apply(Math, monthDaysCount);\n    var count;\n    if (type === 'row') {\n      count = this.parent.activeViewOptions.orientation === 'Horizontal' ? months.length : maxCount;\n    } else {\n      count = this.parent.activeViewOptions.orientation === 'Horizontal' ? maxCount : months.length;\n    }\n    return count;\n  };\n  Year.prototype.isCurrentDate = function (date) {\n    return util.resetTime(new Date()).getTime() === util.resetTime(new Date(date.getTime())).getTime();\n  };\n  Year.prototype.getMonths = function () {\n    var _this = this;\n    // eslint-disable-next-line prefer-spread\n    return Array.apply(null, {\n      length: this.parent.activeViewOptions.monthsCount\n    }).map(function (value, index) {\n      return _this.parent.firstMonthOfYear + index;\n    });\n  };\n  Year.prototype.renderTemplates = function (fn, args, tName, vName, ele) {\n    var templateId = this.parent.element.id + '_' + vName + tName;\n    var template = [].slice.call(fn(args, this.parent, tName, templateId, false, undefined, undefined, this.parent.root));\n    append(template, ele);\n  };\n  Year.prototype.onCellClick = function (e) {\n    var target = closest(e.target, '.' + cls.WORK_CELLS_CLASS);\n    var startDate = this.parent.getDateFromElement(target);\n    this.parent.activeCellsData = this.parent.getCellDetails(target);\n    var isPrevious = startDate.getTime() < this.getStartDate().getTime();\n    if (isPrevious || startDate.getTime() > this.getEndDate().getTime()) {\n      this.parent.changeDate(this.parent.activeView.getNextPreviousDate(isPrevious ? 'previous' : 'next'), e);\n      var activeDate = this.parent.activeCellsData.startTime.getTime();\n      var inRange = activeDate >= this.getStartDate().getTime() && activeDate <= this.getEndDate().getTime();\n      var dateAttr = inRange ? activeDate : (isPrevious ? this.getEndDate() : this.getStartDate()).getTime();\n      var selectedCell = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + dateAttr + '\"]');\n      this.parent.selectCell(selectedCell);\n      this.parent.activeCellsData = this.parent.getCellDetails(selectedCell);\n    } else {\n      var endDate = util.addDays(new Date(startDate.getTime()), 1);\n      var filteredEvents = this.parent.eventBase.filterEvents(startDate, endDate);\n      var moreEventArgs = {\n        date: startDate,\n        event: filteredEvents,\n        element: e.target\n      };\n      if (target.classList.contains(cls.OTHERMONTH_CLASS)) {\n        target = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + target.getAttribute('data-date') + '\"]');\n      }\n      this.parent.activeCellsData = this.parent.getCellDetails(target);\n      var args = extend(this.parent.activeCellsData, {\n        cancel: false,\n        event: e,\n        name: 'cellClick'\n      });\n      this.parent.trigger(event.cellClick, args);\n      this.parent.quickPopup.moreEventClick(moreEventArgs, endDate);\n    }\n  };\n  Year.prototype.onContentScroll = function (e) {\n    var target = e.target;\n    var headerWrapper = this.getDatesHeaderElement();\n    this.parent.notify(event.virtualScroll, e);\n    if (headerWrapper) {\n      headerWrapper.firstElementChild.scrollLeft = target.scrollLeft;\n    }\n    var scrollTopSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n    var scrollTopElement = this.element.querySelector(scrollTopSelector);\n    if (scrollTopElement) {\n      scrollTopElement.scrollTop = target.scrollTop;\n    }\n    if (!this.parent.isAdaptive) {\n      this.parent.uiStateValues.top = e.target.scrollTop;\n    }\n    this.parent.uiStateValues.left = e.target.scrollLeft;\n    this.setPersistence();\n  };\n  Year.prototype.onScrollUiUpdate = function (args) {\n    var height = this.parent.element.offsetHeight - this.getHeaderBarHeight();\n    var headerWrapper = this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n    if (headerWrapper) {\n      height -= headerWrapper.offsetHeight;\n    }\n    var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    if (contentWrapper) {\n      contentWrapper.style.height = formatUnit(height);\n    }\n    if (!this.parent.isAdaptive && headerWrapper) {\n      var scrollBarWidth = util.getScrollBarWidth();\n      if (contentWrapper.offsetWidth - contentWrapper.clientWidth > 0) {\n        headerWrapper.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n        headerWrapper.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n      } else {\n        headerWrapper.firstElementChild.style[args.cssProperties.border] = '';\n        headerWrapper.style[args.cssProperties.padding] = '';\n      }\n    }\n    this.setColWidth(this.getContentAreaElement());\n    var leftPanelSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n    var leftPanelElement = this.element.querySelector(leftPanelSelector);\n    if (leftPanelElement) {\n      var isYScroll = contentWrapper.scrollWidth > contentWrapper.clientWidth;\n      leftPanelElement.style.height = formatUnit(height - (isYScroll ? 17 : 0));\n    }\n    if (!args.isPreventScrollUpdate) {\n      if (this.parent.uiStateValues.isInitial) {\n        this.parent.uiStateValues.isInitial = false;\n        this.parent.uiStateValues.top = this.parent.uiStateValues.left = 0;\n      } else {\n        if (leftPanelElement) {\n          leftPanelElement.scrollTop = this.parent.uiStateValues.top;\n        }\n        contentWrapper.scrollTop = this.parent.uiStateValues.top;\n        contentWrapper.scrollLeft = this.parent.uiStateValues.left;\n      }\n    }\n    this.retainScrollPosition();\n  };\n  Year.prototype.getStartDate = function () {\n    return new Date(this.parent.selectedDate.getFullYear(), this.parent.firstMonthOfYear % 12, 1);\n  };\n  Year.prototype.getEndDate = function () {\n    return util.addDays(util.addMonths(this.getStartDate(), this.parent.monthsCount), -1);\n  };\n  Year.prototype.startDate = function () {\n    return this.parent.currentView === 'Year' ? util.getWeekFirstDate(this.getStartDate(), this.parent.firstDayOfWeek) : this.getStartDate();\n  };\n  Year.prototype.endDate = function () {\n    return this.parent.currentView === 'Year' ? util.addDays(util.getWeekLastDate(this.getEndDate(), this.parent.firstDayOfWeek), 1) : util.addDays(this.getEndDate(), 1);\n  };\n  Year.prototype.getEndDateFromStartDate = function (start) {\n    var date = new Date(start.getTime());\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      date = util.lastDateOfMonth(date);\n    }\n    return util.addDays(new Date(date.getTime()), 1);\n  };\n  Year.prototype.getNextPreviousDate = function (type) {\n    return util.addYears(this.parent.selectedDate, type === 'next' ? 1 : -1);\n  };\n  Year.prototype.getDateRangeText = function () {\n    var startDate = this.getStartDate();\n    var endDate = this.getEndDate();\n    if (startDate.getFullYear() !== endDate.getFullYear()) {\n      return this.parent.globalize.formatDate(startDate, {\n        skeleton: 'yMMM'\n      }) + ' - ' + this.parent.globalize.formatDate(endDate, {\n        skeleton: 'yMMM'\n      });\n    } else {\n      return this.parent.globalize.formatDate(this.parent.selectedDate, {\n        skeleton: 'y'\n      });\n    }\n  };\n  Year.prototype.addEventListener = function () {\n    this.parent.on(event.scrollUiUpdate, this.onScrollUiUpdate, this);\n    this.parent.on(event.dataReady, this.onDataReady, this);\n  };\n  Year.prototype.removeEventListener = function () {\n    if (this.parent) {\n      this.parent.off(event.scrollUiUpdate, this.onScrollUiUpdate);\n      this.parent.off(event.dataReady, this.onDataReady);\n    }\n  };\n  Year.prototype.onDataReady = function (args) {\n    this.yearEventModule = new YearEvent(this.parent);\n    this.yearEventModule.renderAppointments();\n    this.parent.notify(event.eventsLoaded, args);\n  };\n  Year.prototype.scrollToDate = function (scrollDate) {\n    var date = +new Date(util.resetTime(scrollDate));\n    var element = this.element.querySelector('.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + date + '\"]');\n    if (element) {\n      element = closest(element, '.e-month-calendar');\n      this.getContentAreaElement().scrollTop = element.offsetTop;\n    }\n  };\n  Year.prototype.destroy = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    if (this.element) {\n      var contentScroll = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n      if (contentScroll) {\n        EventHandler.remove(contentScroll, 'scroll', this.onContentScroll);\n      }\n      if (this.yearEventModule) {\n        this.yearEventModule.destroy();\n        this.yearEventModule = null;\n      }\n      if (this.parent.resourceBase) {\n        this.parent.resourceBase.destroy();\n      }\n      _super.prototype.destroy.call(this);\n    }\n  };\n  return Year;\n}(ViewBase);\nexport { Year };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","EventHandler","formatUnit","createElement","addClass","closest","prepend","append","extend","ViewBase","YearEvent","util","event","cls","Year","_super","parent","_this","call","viewClass","isInverseTableSelect","yearEventModule","getModuleName","renderLayout","className","resourceBase","generateResourceLevels","renderDates","activeView","setPanel","TABLE_WRAP_CLASS","viewTypeClass","activeViewOptions","orientation","element","renderPanel","allowVirtualScrolling","VIRTUAL_SCROLL_CLASS","calendarTable","createTableLayout","OUTER_TABLE_CLASS","appendChild","querySelector","setAttribute","calendarTBody","rowCount","getRowColumnCount","columnCount","renderHeader","renderContent","currentView","uiStateValues","isGroupAdaptive","generateColumnLevels","renderResourceMobileLayout","add","CONTENT_WRAP_CLASS","onContentScroll","notify","contentReady","headerWrapper","content","tr","td","contentWrapper","cTr","cTd","calendarWrapper","months","getMonths","_i","months_1","length","month","currentMonth","Date","selectedDate","getFullYear","calendarElement","attrs","renderCalendarHeader","renderCalendarContent","splice","currentDate","headerContent","monthHeaderTemplate","args","date","type","renderTemplates","getMonthHeaderTemplate","monthHeaderTemplateName","innerHTML","getMonthName","trigger","renderCell","elementType","dateCollection","getMonthDates","contentTable","CONTENT_TABLE_CLASS","setAriaAttributes","thead","currentWeek","getWeekFirstDate","firstDateOfMonth","firstDayOfWeek","showWeekNumber","i","WEEK_LENGTH","dayHeaderTemplate","th","getDayHeaderTemplate","dayHeaderTemplateName","getDayNames","getDay","nextDay","getTime","MS_PER_DAY","getDate","addDays","tbody","weekDates","tr_1","weekNumber","getWeekNumberContent","localeObj","getConstant","weekDates_1","WORK_CELLS_CLASS","toString","cellHeaderTemplate","getCellHeaderTemplate","cellHeaderTemplateName","span","globalize","formatDate","skeleton","calendar","getCalendarMode","title","cellTemplate","getCellTemplate","cellTemplateName","classList","getMonth","push","OTHERMONTH_CLASS","firstElementChild","isCurrentDate","concat","isMinMaxDate","DISABLE_DATES","onCellClick","isAdaptive","workCellAction","cellDblClick","createTableColGroup","count","colGroupEle","format","dateFormat","capitalizeFirstWord","colLevels","level","getDateSlots","workDays","group","resources","resourceLevel","lastResourceLevel","groupIndex","pop","startHour","endHour","workHours","start","end","dateCol","HEADER_CELLS_CLASS","colSpan","parseDate","startDate","endDate","resetTime","year","monthDaysCount","months_2","maxCount","Math","max","apply","monthsCount","map","value","index","firstMonthOfYear","fn","tName","vName","ele","templateId","id","template","slice","undefined","root","e","target","getDateFromElement","activeCellsData","getCellDetails","isPrevious","getStartDate","getEndDate","changeDate","getNextPreviousDate","activeDate","startTime","inRange","dateAttr","selectedCell","selectCell","filteredEvents","eventBase","filterEvents","moreEventArgs","contains","getAttribute","cancel","name","cellClick","quickPopup","moreEventClick","getDatesHeaderElement","virtualScroll","scrollLeft","scrollTopSelector","MONTH_HEADER_WRAPPER","RESOURCE_COLUMN_WRAP_CLASS","scrollTopElement","scrollTop","top","left","setPersistence","onScrollUiUpdate","height","offsetHeight","getHeaderBarHeight","DATE_HEADER_CONTAINER_CLASS","style","scrollBarWidth","getScrollBarWidth","offsetWidth","clientWidth","cssProperties","border","padding","setColWidth","getContentAreaElement","leftPanelSelector","leftPanelElement","isYScroll","scrollWidth","isPreventScrollUpdate","isInitial","retainScrollPosition","addMonths","getWeekLastDate","getEndDateFromStartDate","lastDateOfMonth","addYears","getDateRangeText","addEventListener","on","scrollUiUpdate","dataReady","onDataReady","removeEventListener","off","renderAppointments","eventsLoaded","scrollToDate","scrollDate","offsetTop","destroy","isDestroyed","contentScroll","remove"],"sources":["/Users/anjalichaturvedi/GitHub/brew-bridge-dashboard/website/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/year.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, createElement, addClass, closest, prepend, append, extend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { YearEvent } from '../event-renderer/year';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * year view\n */\nvar Year = /** @class */ (function (_super) {\n    __extends(Year, _super);\n    function Year(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-year-view';\n        _this.isInverseTableSelect = false;\n        _this.yearEventModule = null;\n        return _this;\n    }\n    Year.prototype.getModuleName = function () {\n        return 'year';\n    };\n    Year.prototype.renderLayout = function (className) {\n        if (this.parent.resourceBase) {\n            this.parent.resourceBase.generateResourceLevels([{ renderDates: this.parent.activeView.renderDates }]);\n        }\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var viewTypeClass = this.parent.activeViewOptions.orientation === 'Horizontal' ? 'e-horizontal' : 'e-vertical';\n        addClass([this.element], [this.viewClass, viewTypeClass, className]);\n        this.renderPanel(className);\n        if (this.parent.activeViewOptions.allowVirtualScrolling) {\n            addClass([this.element], [cls.VIRTUAL_SCROLL_CLASS]);\n        }\n        var calendarTable = this.createTableLayout(cls.OUTER_TABLE_CLASS);\n        this.element.appendChild(calendarTable);\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        var calendarTBody = calendarTable.querySelector('tbody');\n        this.rowCount = this.getRowColumnCount('row');\n        this.columnCount = this.getRowColumnCount('column');\n        this.renderHeader(calendarTBody);\n        this.renderContent(calendarTBody);\n        if (this.parent.currentView !== 'Year' && this.parent.uiStateValues.isGroupAdaptive) {\n            this.generateColumnLevels();\n            this.renderResourceMobileLayout();\n        }\n        EventHandler.add(this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS), 'scroll', this.onContentScroll, this);\n        this.parent.notify(event.contentReady, {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Year.prototype.renderHeader = function (headerWrapper) { };\n    Year.prototype.renderContent = function (content) {\n        var tr = createElement('tr');\n        content.appendChild(tr);\n        var td = createElement('td');\n        tr.appendChild(td);\n        this.element.querySelector('tbody').appendChild(tr);\n        var contentWrapper = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        td.appendChild(contentWrapper);\n        var calendarTable = this.createTableLayout('e-calendar-table');\n        contentWrapper.appendChild(calendarTable);\n        var cTr = createElement('tr');\n        calendarTable.querySelector('tbody').appendChild(cTr);\n        var cTd = createElement('td');\n        cTr.appendChild(cTd);\n        var calendarWrapper = createElement('div', { className: 'e-calendar-wrapper' });\n        cTd.appendChild(calendarWrapper);\n        var months = this.getMonths();\n        for (var _i = 0, months_1 = months; _i < months_1.length; _i++) {\n            var month = months_1[_i];\n            var currentMonth = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n            var calendarElement = createElement('div', {\n                className: 'e-month-calendar e-calendar',\n                attrs: { 'data-role': 'calendar' }\n            });\n            calendarElement.appendChild(this.renderCalendarHeader(currentMonth));\n            calendarElement.appendChild(this.renderCalendarContent(currentMonth));\n            calendarWrapper.appendChild(calendarElement);\n        }\n        this.renderDates.splice(0, 1);\n    };\n    Year.prototype.renderCalendarHeader = function (currentDate) {\n        var headerWrapper = createElement('div', { className: 'e-header e-month' });\n        var headerContent = createElement('div', { className: 'e-day e-title' });\n        if (this.parent.activeViewOptions.monthHeaderTemplate) {\n            var args = { date: currentDate, type: 'monthHeader' };\n            this.renderTemplates(this.parent.getMonthHeaderTemplate(), args, 'monthHeaderTemplate', this.parent.activeViewOptions.monthHeaderTemplateName, headerContent);\n        }\n        else {\n            headerContent.innerHTML = this.getMonthName(currentDate);\n        }\n        headerWrapper.appendChild(headerContent);\n        this.parent.trigger(event.renderCell, { elementType: 'headerCells', element: headerContent, date: currentDate });\n        return headerWrapper;\n    };\n    Year.prototype.renderCalendarContent = function (currentDate) {\n        var dateCollection = this.getMonthDates(currentDate);\n        var contentWrapper = createElement('div', { className: 'e-content e-month' });\n        var contentTable = this.createTableLayout('e-calendar-table ' + cls.CONTENT_TABLE_CLASS);\n        contentWrapper.appendChild(contentTable);\n        this.setAriaAttributes(contentTable);\n        var thead = createElement('thead', { className: 'e-week-header' });\n        var tr = createElement('tr');\n        var currentWeek = util.getWeekFirstDate(util.firstDateOfMonth(currentDate), this.parent.firstDayOfWeek);\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(createElement('th'));\n        }\n        for (var i = 0; i < util.WEEK_LENGTH; i++) {\n            if (this.parent.activeViewOptions.dayHeaderTemplate) {\n                var th = createElement('th');\n                var args = { date: currentWeek, type: 'dayHeader' };\n                this.renderTemplates(this.parent.getDayHeaderTemplate(), args, 'dayHeaderTemplate', this.parent.activeViewOptions.dayHeaderTemplateName, th);\n                tr.appendChild(th);\n            }\n            else {\n                tr.appendChild(createElement('th', { innerHTML: this.parent.getDayNames('narrow')[currentWeek.getDay()] }));\n            }\n            var nextDay = new Date(currentWeek.getTime() + util.MS_PER_DAY);\n            currentWeek = nextDay.getDate() === currentWeek.getDate() ? util.addDays(nextDay, 1) : nextDay;\n        }\n        thead.appendChild(tr);\n        prepend([thead], contentTable);\n        var tbody = contentTable.querySelector('tbody');\n        while (dateCollection.length > 0) {\n            var weekDates = dateCollection.splice(0, util.WEEK_LENGTH);\n            var tr_1 = createElement('tr');\n            if (this.parent.activeViewOptions.showWeekNumber) {\n                var weekNumber = this.parent.getWeekNumberContent(weekDates);\n                var td = createElement('td', {\n                    className: 'e-week-number',\n                    attrs: { 'title': this.parent.localeObj.getConstant('week') + ' ' + weekNumber },\n                    innerHTML: weekNumber\n                });\n                tr_1.appendChild(td);\n                this.parent.trigger(event.renderCell, { elementType: 'weekNumberCells', element: td });\n            }\n            for (var _i = 0, weekDates_1 = weekDates; _i < weekDates_1.length; _i++) {\n                var date = weekDates_1[_i];\n                var td = createElement('td', {\n                    className: 'e-cell ' + cls.WORK_CELLS_CLASS,\n                    attrs: { 'data-date': date.getTime().toString() }\n                });\n                if (this.parent.activeViewOptions.cellHeaderTemplate) {\n                    var args = { date: date, type: 'monthCells' };\n                    this.renderTemplates(this.parent.getCellHeaderTemplate(), args, 'cellHeaderTemplate', this.parent.activeViewOptions.cellHeaderTemplateName, td);\n                }\n                else {\n                    var span = createElement('span', {\n                        className: 'e-day', innerHTML: this.parent.globalize.formatDate(date, { skeleton: 'd', calendar: this.parent.getCalendarMode() }),\n                        attrs: { title: this.parent.globalize.formatDate(date, { type: 'date', skeleton: 'full' }) }\n                    });\n                    td.appendChild(span);\n                }\n                if (this.parent.activeViewOptions.cellTemplate) {\n                    var args = { date: date, type: 'monthCells' };\n                    this.renderTemplates(this.parent.getCellTemplate(), args, 'cellTemplate', this.parent.activeViewOptions.cellTemplateName, td);\n                }\n                var classList = [];\n                if (currentDate.getMonth() !== date.getMonth()) {\n                    classList.push(cls.OTHERMONTH_CLASS);\n                    if (td.firstElementChild && !this.parent.activeViewOptions.cellTemplate) {\n                        td.firstElementChild.setAttribute('aria-disabled', 'true');\n                    }\n                }\n                if (this.isCurrentDate(date) && currentDate.getMonth() === date.getMonth()) {\n                    classList = classList.concat(['e-today', 'e-selected']);\n                }\n                if (classList.length > 0) {\n                    addClass([td], classList);\n                }\n                tr_1.appendChild(td);\n                if (currentDate.getMonth() === date.getMonth()) {\n                    this.renderDates.push(new Date(date));\n                }\n                if (!this.parent.isMinMaxDate(date)) {\n                    addClass([td], cls.DISABLE_DATES);\n                }\n                else {\n                    EventHandler.add(td, 'click', this.onCellClick, this);\n                    if (!this.parent.isAdaptive) {\n                        EventHandler.add(td, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n                    }\n                }\n                this.parent.trigger(event.renderCell, { elementType: 'workCells', element: td, date: date });\n            }\n            tbody.appendChild(tr_1);\n        }\n        return contentWrapper;\n    };\n    Year.prototype.createTableColGroup = function (count) {\n        var colGroupEle = createElement('colgroup');\n        for (var i = 0; i < count; i++) {\n            colGroupEle.appendChild(createElement('col'));\n        }\n        return colGroupEle;\n    };\n    Year.prototype.getMonthName = function (date) {\n        var month = this.parent.globalize.formatDate(date, {\n            format: this.parent.activeViewOptions.dateFormat || 'MMMM y',\n            calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(month, 'multiple');\n    };\n    Year.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots([this.parent.selectedDate], this.parent.activeViewOptions.workDays);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            colLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.uiStateValues.isGroupAdaptive) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                colLevels = [this.getDateSlots([this.parent.selectedDate], resourceLevel.workDays)];\n            }\n        }\n        else {\n            colLevels.push(level);\n        }\n        colLevels.pop();\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    // eslint-disable-next-line max-len\n    Year.prototype.getDateSlots = function (renderDates, workDays, startHour, endHour) {\n        if (startHour === void 0) { startHour = this.parent.workHours.start; }\n        if (endHour === void 0) { endHour = this.parent.workHours.end; }\n        var dateCol = [{\n                date: renderDates[0], type: 'dateHeader', className: [cls.HEADER_CELLS_CLASS], colSpan: 1, workDays: workDays,\n                startHour: new Date(+this.parent.globalize.parseDate(startHour, { skeleton: 'Hm' })),\n                endHour: new Date(+this.parent.globalize.parseDate(endHour, { skeleton: 'Hm' }))\n            }];\n        return dateCol;\n    };\n    Year.prototype.getMonthDates = function (date) {\n        var startDate = util.getWeekFirstDate(util.firstDateOfMonth(date), this.parent.firstDayOfWeek);\n        var endDate = util.addDays(new Date(+startDate), (6 * util.WEEK_LENGTH));\n        var dateCollection = [];\n        for (var start = startDate; start.getTime() < endDate.getTime(); start = util.addDays(start, 1)) {\n            dateCollection.push(util.resetTime(new Date(start)));\n        }\n        return dateCollection;\n    };\n    Year.prototype.getRowColumnCount = function (type) {\n        var months = this.getMonths();\n        var year = this.parent.selectedDate.getFullYear();\n        var monthDaysCount = [];\n        for (var _i = 0, months_2 = months; _i < months_2.length; _i++) {\n            var month = months_2[_i];\n            monthDaysCount.push(new Date(year, month, 1).getDay() + new Date(year, month + 1, 0).getDate());\n        }\n        var maxCount = Math.max.apply(Math, monthDaysCount);\n        var count;\n        if (type === 'row') {\n            count = this.parent.activeViewOptions.orientation === 'Horizontal' ? months.length : maxCount;\n        }\n        else {\n            count = this.parent.activeViewOptions.orientation === 'Horizontal' ? maxCount : months.length;\n        }\n        return count;\n    };\n    Year.prototype.isCurrentDate = function (date) {\n        return util.resetTime(new Date()).getTime() === util.resetTime(new Date(date.getTime())).getTime();\n    };\n    Year.prototype.getMonths = function () {\n        var _this = this;\n        // eslint-disable-next-line prefer-spread\n        return Array.apply(null, { length: this.parent.activeViewOptions.monthsCount }).map(function (value, index) {\n            return _this.parent.firstMonthOfYear + index;\n        });\n    };\n    Year.prototype.renderTemplates = function (fn, args, tName, vName, ele) {\n        var templateId = this.parent.element.id + '_' + vName + tName;\n        var template = [].slice.call(fn(args, this.parent, tName, templateId, false, undefined, undefined, this.parent.root));\n        append(template, ele);\n    };\n    Year.prototype.onCellClick = function (e) {\n        var target = closest(e.target, '.' + cls.WORK_CELLS_CLASS);\n        var startDate = this.parent.getDateFromElement(target);\n        this.parent.activeCellsData = this.parent.getCellDetails(target);\n        var isPrevious = startDate.getTime() < this.getStartDate().getTime();\n        if (isPrevious || startDate.getTime() > this.getEndDate().getTime()) {\n            this.parent.changeDate(this.parent.activeView.getNextPreviousDate(isPrevious ? 'previous' : 'next'), e);\n            var activeDate = this.parent.activeCellsData.startTime.getTime();\n            var inRange = activeDate >= this.getStartDate().getTime() && activeDate <= this.getEndDate().getTime();\n            var dateAttr = inRange ? activeDate : (isPrevious ? this.getEndDate() : this.getStartDate()).getTime();\n            var selectedCell = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + dateAttr + '\"]');\n            this.parent.selectCell(selectedCell);\n            this.parent.activeCellsData = this.parent.getCellDetails(selectedCell);\n        }\n        else {\n            var endDate = util.addDays(new Date(startDate.getTime()), 1);\n            var filteredEvents = this.parent.eventBase.filterEvents(startDate, endDate);\n            var moreEventArgs = { date: startDate, event: filteredEvents, element: e.target };\n            if (target.classList.contains(cls.OTHERMONTH_CLASS)) {\n                target = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + target.getAttribute('data-date') + '\"]');\n            }\n            this.parent.activeCellsData = this.parent.getCellDetails(target);\n            var args = extend(this.parent.activeCellsData, { cancel: false, event: e, name: 'cellClick' });\n            this.parent.trigger(event.cellClick, args);\n            this.parent.quickPopup.moreEventClick(moreEventArgs, endDate);\n        }\n    };\n    Year.prototype.onContentScroll = function (e) {\n        var target = e.target;\n        var headerWrapper = this.getDatesHeaderElement();\n        this.parent.notify(event.virtualScroll, e);\n        if (headerWrapper) {\n            headerWrapper.firstElementChild.scrollLeft = target.scrollLeft;\n        }\n        var scrollTopSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n        var scrollTopElement = this.element.querySelector(scrollTopSelector);\n        if (scrollTopElement) {\n            scrollTopElement.scrollTop = target.scrollTop;\n        }\n        if (!this.parent.isAdaptive) {\n            this.parent.uiStateValues.top = e.target.scrollTop;\n        }\n        this.parent.uiStateValues.left = e.target.scrollLeft;\n        this.setPersistence();\n    };\n    Year.prototype.onScrollUiUpdate = function (args) {\n        var height = this.parent.element.offsetHeight - this.getHeaderBarHeight();\n        var headerWrapper = this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n        if (headerWrapper) {\n            height -= headerWrapper.offsetHeight;\n        }\n        var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (contentWrapper) {\n            contentWrapper.style.height = formatUnit(height);\n        }\n        if (!this.parent.isAdaptive && headerWrapper) {\n            var scrollBarWidth = util.getScrollBarWidth();\n            if (contentWrapper.offsetWidth - contentWrapper.clientWidth > 0) {\n                headerWrapper.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n                headerWrapper.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n            }\n            else {\n                headerWrapper.firstElementChild.style[args.cssProperties.border] = '';\n                headerWrapper.style[args.cssProperties.padding] = '';\n            }\n        }\n        this.setColWidth(this.getContentAreaElement());\n        var leftPanelSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n        var leftPanelElement = this.element.querySelector(leftPanelSelector);\n        if (leftPanelElement) {\n            var isYScroll = contentWrapper.scrollWidth > contentWrapper.clientWidth;\n            leftPanelElement.style.height = formatUnit(height - (isYScroll ? 17 : 0));\n        }\n        if (!args.isPreventScrollUpdate) {\n            if (this.parent.uiStateValues.isInitial) {\n                this.parent.uiStateValues.isInitial = false;\n                this.parent.uiStateValues.top = this.parent.uiStateValues.left = 0;\n            }\n            else {\n                if (leftPanelElement) {\n                    leftPanelElement.scrollTop = this.parent.uiStateValues.top;\n                }\n                contentWrapper.scrollTop = this.parent.uiStateValues.top;\n                contentWrapper.scrollLeft = this.parent.uiStateValues.left;\n            }\n        }\n        this.retainScrollPosition();\n    };\n    Year.prototype.getStartDate = function () {\n        return new Date(this.parent.selectedDate.getFullYear(), this.parent.firstMonthOfYear % 12, 1);\n    };\n    Year.prototype.getEndDate = function () {\n        return util.addDays(util.addMonths(this.getStartDate(), this.parent.monthsCount), -1);\n    };\n    Year.prototype.startDate = function () {\n        return this.parent.currentView === 'Year' ? util.getWeekFirstDate(this.getStartDate(), this.parent.firstDayOfWeek) : this.getStartDate();\n    };\n    Year.prototype.endDate = function () {\n        return this.parent.currentView === 'Year' ? util.addDays(util.getWeekLastDate(this.getEndDate(), this.parent.firstDayOfWeek), 1) :\n            util.addDays(this.getEndDate(), 1);\n    };\n    Year.prototype.getEndDateFromStartDate = function (start) {\n        var date = new Date(start.getTime());\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            date = util.lastDateOfMonth(date);\n        }\n        return util.addDays(new Date(date.getTime()), 1);\n    };\n    Year.prototype.getNextPreviousDate = function (type) {\n        return util.addYears(this.parent.selectedDate, ((type === 'next') ? 1 : -1));\n    };\n    Year.prototype.getDateRangeText = function () {\n        var startDate = this.getStartDate();\n        var endDate = this.getEndDate();\n        if (startDate.getFullYear() !== endDate.getFullYear()) {\n            return this.parent.globalize.formatDate(startDate, { skeleton: 'yMMM' }) + ' - ' + this.parent.globalize.formatDate(endDate, { skeleton: 'yMMM' });\n        }\n        else {\n            return this.parent.globalize.formatDate(this.parent.selectedDate, { skeleton: 'y' });\n        }\n    };\n    Year.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.onScrollUiUpdate, this);\n        this.parent.on(event.dataReady, this.onDataReady, this);\n    };\n    Year.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.onScrollUiUpdate);\n            this.parent.off(event.dataReady, this.onDataReady);\n        }\n    };\n    Year.prototype.onDataReady = function (args) {\n        this.yearEventModule = new YearEvent(this.parent);\n        this.yearEventModule.renderAppointments();\n        this.parent.notify(event.eventsLoaded, args);\n    };\n    Year.prototype.scrollToDate = function (scrollDate) {\n        var date = +new Date(util.resetTime(scrollDate));\n        var element = this.element.querySelector('.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + date + '\"]');\n        if (element) {\n            element = closest(element, '.e-month-calendar');\n            this.getContentAreaElement().scrollTop = element.offsetTop;\n        }\n    };\n    Year.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            var contentScroll = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            if (contentScroll) {\n                EventHandler.remove(contentScroll, 'scroll', this.onContentScroll);\n            }\n            if (this.yearEventModule) {\n                this.yearEventModule.destroy();\n                this.yearEventModule = null;\n            }\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return Year;\n}(ViewBase));\nexport { Year };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}