{"ast":null,"code":"// victory-vendor note: This module is still CommonJS, so not part of victory-vendor.\nimport { voronoi as d3Voronoi } from \"d3-voronoi\";\nimport { Helpers, LabelHelpers, Scale, Domain, Data } from \"victory-core\";\n\n// Re-export for tests\nexport { d3Voronoi as _internalD3Voronoi };\nconst getVoronoi = (props, range, scale) => {\n  const minRange = [Math.min(...range.x), Math.min(...range.y)];\n  const maxRange = [Math.max(...range.x), Math.max(...range.y)];\n  const angleAccessor = d => {\n    const x = scale.x(d._x1 !== undefined ? d._x1 : d._x);\n    return -1 * x + Math.PI / 2;\n  };\n  const xAccessor = d => {\n    return props.horizontal ? scale.y(d._y1 !== undefined ? d._y1 : d._y) : scale.x(d._x1 !== undefined ? d._x1 : d._x);\n  };\n  const yAccessor = d => {\n    return props.horizontal ? scale.x(d._x1 !== undefined ? d._x1 : d._x) : scale.y(d._y1 !== undefined ? d._y1 : d._y);\n  };\n  return d3Voronoi().x(d => props.polar ? angleAccessor(d) : xAccessor(d)).y(d => yAccessor(d)).extent([minRange, maxRange]);\n};\nconst getCalculatedValues = props => {\n  const defaultStyles = props.theme && props.theme.voronoi && props.theme.voronoi.style ? props.theme.voronoi.style : {};\n  const style = Helpers.getStyles(props.style, defaultStyles);\n  const range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  const domain = {\n    x: Domain.getDomain(props, \"x\"),\n    y: Domain.getDomain(props, \"y\")\n  };\n  const scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  let data = Data.getData(props);\n  data = Data.formatDataFromDomain(data, domain);\n  // Manually remove data with null _x or _y values.\n  // Otherwise, we hit null error in: d3-voronoi/src/Cell.js\n  data = data.filter(datum => {\n    if (datum._x === null) {\n      return false;\n    }\n    if (datum._y === null) {\n      return false;\n    }\n    return true;\n  });\n  const voronoi = getVoronoi(props, range, scale);\n  const polygons = voronoi.polygons(data);\n  const origin = props.polar ? props.origin || Helpers.getPolarOrigin(props) : undefined;\n  return {\n    domain,\n    data,\n    scale,\n    style,\n    polygons,\n    origin\n  };\n};\nexport const getBaseProps = (initialProps, fallbackProps) => {\n  const modifiedProps = Helpers.modifyProps(initialProps, fallbackProps, \"scatter\");\n  const props = Object.assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  const {\n    data,\n    domain,\n    events,\n    height,\n    origin,\n    padding,\n    polar,\n    polygons,\n    scale,\n    sharedEvents,\n    standalone,\n    style,\n    theme,\n    width,\n    labels,\n    name\n  } = props;\n  const initialChildProps = {\n    parent: {\n      style: style.parent,\n      scale,\n      domain,\n      data,\n      standalone,\n      height,\n      width,\n      theme,\n      origin,\n      polar,\n      padding,\n      name\n    }\n  };\n  return data.reduce((childProps, datum, index) => {\n    const polygon = polygons[index]?.filter(value => value !== \"data\");\n    const eventKey = !Helpers.isNil(datum.eventKey) ? datum.eventKey : index;\n    const {\n      x,\n      y\n    } = Helpers.scalePoint(props, datum);\n    const dataProps = {\n      x,\n      y,\n      datum,\n      data,\n      index,\n      scale,\n      polygon,\n      origin,\n      size: props.size,\n      style: style.data\n    };\n    childProps[eventKey] = {\n      data: dataProps\n    };\n    const text = LabelHelpers.getText(props, datum, index);\n    if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n      childProps[eventKey].labels = LabelHelpers.getProps(props, index);\n    }\n    return childProps;\n  }, initialChildProps);\n};","map":{"version":3,"names":["voronoi","d3Voronoi","Helpers","LabelHelpers","Scale","Domain","Data","_internalD3Voronoi","getVoronoi","props","range","scale","minRange","Math","min","x","y","maxRange","max","angleAccessor","d","_x1","undefined","_x","PI","xAccessor","horizontal","_y1","_y","yAccessor","polar","extent","getCalculatedValues","defaultStyles","theme","style","getStyles","getRange","domain","getDomain","getBaseScale","data","getData","formatDataFromDomain","filter","datum","polygons","origin","getPolarOrigin","getBaseProps","initialProps","fallbackProps","modifiedProps","modifyProps","Object","assign","events","height","padding","sharedEvents","standalone","width","labels","name","initialChildProps","parent","reduce","childProps","index","polygon","value","eventKey","isNil","scalePoint","dataProps","size","text","getText","getProps"],"sources":["/Users/anjalichaturvedi/GitHub/brew-bridge-dashboard/website/node_modules/victory-voronoi/es/helper-methods.js"],"sourcesContent":["// victory-vendor note: This module is still CommonJS, so not part of victory-vendor.\nimport { voronoi as d3Voronoi } from \"d3-voronoi\";\nimport { Helpers, LabelHelpers, Scale, Domain, Data } from \"victory-core\";\n\n// Re-export for tests\nexport { d3Voronoi as _internalD3Voronoi };\nconst getVoronoi = (props, range, scale) => {\n  const minRange = [Math.min(...range.x), Math.min(...range.y)];\n  const maxRange = [Math.max(...range.x), Math.max(...range.y)];\n  const angleAccessor = d => {\n    const x = scale.x(d._x1 !== undefined ? d._x1 : d._x);\n    return -1 * x + Math.PI / 2;\n  };\n  const xAccessor = d => {\n    return props.horizontal ? scale.y(d._y1 !== undefined ? d._y1 : d._y) : scale.x(d._x1 !== undefined ? d._x1 : d._x);\n  };\n  const yAccessor = d => {\n    return props.horizontal ? scale.x(d._x1 !== undefined ? d._x1 : d._x) : scale.y(d._y1 !== undefined ? d._y1 : d._y);\n  };\n  return d3Voronoi().x(d => props.polar ? angleAccessor(d) : xAccessor(d)).y(d => yAccessor(d)).extent([minRange, maxRange]);\n};\nconst getCalculatedValues = props => {\n  const defaultStyles = props.theme && props.theme.voronoi && props.theme.voronoi.style ? props.theme.voronoi.style : {};\n  const style = Helpers.getStyles(props.style, defaultStyles);\n  const range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  const domain = {\n    x: Domain.getDomain(props, \"x\"),\n    y: Domain.getDomain(props, \"y\")\n  };\n  const scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  let data = Data.getData(props);\n  data = Data.formatDataFromDomain(data, domain);\n  // Manually remove data with null _x or _y values.\n  // Otherwise, we hit null error in: d3-voronoi/src/Cell.js\n  data = data.filter(datum => {\n    if (datum._x === null) {\n      return false;\n    }\n    if (datum._y === null) {\n      return false;\n    }\n    return true;\n  });\n  const voronoi = getVoronoi(props, range, scale);\n  const polygons = voronoi.polygons(data);\n  const origin = props.polar ? props.origin || Helpers.getPolarOrigin(props) : undefined;\n  return {\n    domain,\n    data,\n    scale,\n    style,\n    polygons,\n    origin\n  };\n};\nexport const getBaseProps = (initialProps, fallbackProps) => {\n  const modifiedProps = Helpers.modifyProps(initialProps, fallbackProps, \"scatter\");\n  const props = Object.assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  const {\n    data,\n    domain,\n    events,\n    height,\n    origin,\n    padding,\n    polar,\n    polygons,\n    scale,\n    sharedEvents,\n    standalone,\n    style,\n    theme,\n    width,\n    labels,\n    name\n  } = props;\n  const initialChildProps = {\n    parent: {\n      style: style.parent,\n      scale,\n      domain,\n      data,\n      standalone,\n      height,\n      width,\n      theme,\n      origin,\n      polar,\n      padding,\n      name\n    }\n  };\n  return data.reduce((childProps, datum, index) => {\n    const polygon = polygons[index]?.filter(value => value !== \"data\");\n    const eventKey = !Helpers.isNil(datum.eventKey) ? datum.eventKey : index;\n    const {\n      x,\n      y\n    } = Helpers.scalePoint(props, datum);\n    const dataProps = {\n      x,\n      y,\n      datum,\n      data,\n      index,\n      scale,\n      polygon,\n      origin,\n      size: props.size,\n      style: style.data\n    };\n    childProps[eventKey] = {\n      data: dataProps\n    };\n    const text = LabelHelpers.getText(props, datum, index);\n    if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n      childProps[eventKey].labels = LabelHelpers.getProps(props, index);\n    }\n    return childProps;\n  }, initialChildProps);\n};"],"mappings":"AAAA;AACA,SAASA,OAAO,IAAIC,SAAS,QAAQ,YAAY;AACjD,SAASC,OAAO,EAAEC,YAAY,EAAEC,KAAK,EAAEC,MAAM,EAAEC,IAAI,QAAQ,cAAc;;AAEzE;AACA,SAASL,SAAS,IAAIM,kBAAkB;AACxC,MAAMC,UAAU,GAAGA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,KAAK;EAC1C,MAAMC,QAAQ,GAAG,CAACC,IAAI,CAACC,GAAG,CAAC,GAAGJ,KAAK,CAACK,CAAC,CAAC,EAAEF,IAAI,CAACC,GAAG,CAAC,GAAGJ,KAAK,CAACM,CAAC,CAAC,CAAC;EAC7D,MAAMC,QAAQ,GAAG,CAACJ,IAAI,CAACK,GAAG,CAAC,GAAGR,KAAK,CAACK,CAAC,CAAC,EAAEF,IAAI,CAACK,GAAG,CAAC,GAAGR,KAAK,CAACM,CAAC,CAAC,CAAC;EAC7D,MAAMG,aAAa,GAAGC,CAAC,IAAI;IACzB,MAAML,CAAC,GAAGJ,KAAK,CAACI,CAAC,CAACK,CAAC,CAACC,GAAG,KAAKC,SAAS,GAAGF,CAAC,CAACC,GAAG,GAAGD,CAAC,CAACG,EAAE,CAAC;IACrD,OAAO,CAAC,CAAC,GAAGR,CAAC,GAAGF,IAAI,CAACW,EAAE,GAAG,CAAC;EAC7B,CAAC;EACD,MAAMC,SAAS,GAAGL,CAAC,IAAI;IACrB,OAAOX,KAAK,CAACiB,UAAU,GAAGf,KAAK,CAACK,CAAC,CAACI,CAAC,CAACO,GAAG,KAAKL,SAAS,GAAGF,CAAC,CAACO,GAAG,GAAGP,CAAC,CAACQ,EAAE,CAAC,GAAGjB,KAAK,CAACI,CAAC,CAACK,CAAC,CAACC,GAAG,KAAKC,SAAS,GAAGF,CAAC,CAACC,GAAG,GAAGD,CAAC,CAACG,EAAE,CAAC;EACrH,CAAC;EACD,MAAMM,SAAS,GAAGT,CAAC,IAAI;IACrB,OAAOX,KAAK,CAACiB,UAAU,GAAGf,KAAK,CAACI,CAAC,CAACK,CAAC,CAACC,GAAG,KAAKC,SAAS,GAAGF,CAAC,CAACC,GAAG,GAAGD,CAAC,CAACG,EAAE,CAAC,GAAGZ,KAAK,CAACK,CAAC,CAACI,CAAC,CAACO,GAAG,KAAKL,SAAS,GAAGF,CAAC,CAACO,GAAG,GAAGP,CAAC,CAACQ,EAAE,CAAC;EACrH,CAAC;EACD,OAAO3B,SAAS,CAAC,CAAC,CAACc,CAAC,CAACK,CAAC,IAAIX,KAAK,CAACqB,KAAK,GAAGX,aAAa,CAACC,CAAC,CAAC,GAAGK,SAAS,CAACL,CAAC,CAAC,CAAC,CAACJ,CAAC,CAACI,CAAC,IAAIS,SAAS,CAACT,CAAC,CAAC,CAAC,CAACW,MAAM,CAAC,CAACnB,QAAQ,EAAEK,QAAQ,CAAC,CAAC;AAC5H,CAAC;AACD,MAAMe,mBAAmB,GAAGvB,KAAK,IAAI;EACnC,MAAMwB,aAAa,GAAGxB,KAAK,CAACyB,KAAK,IAAIzB,KAAK,CAACyB,KAAK,CAAClC,OAAO,IAAIS,KAAK,CAACyB,KAAK,CAAClC,OAAO,CAACmC,KAAK,GAAG1B,KAAK,CAACyB,KAAK,CAAClC,OAAO,CAACmC,KAAK,GAAG,CAAC,CAAC;EACtH,MAAMA,KAAK,GAAGjC,OAAO,CAACkC,SAAS,CAAC3B,KAAK,CAAC0B,KAAK,EAAEF,aAAa,CAAC;EAC3D,MAAMvB,KAAK,GAAG;IACZK,CAAC,EAAEb,OAAO,CAACmC,QAAQ,CAAC5B,KAAK,EAAE,GAAG,CAAC;IAC/BO,CAAC,EAAEd,OAAO,CAACmC,QAAQ,CAAC5B,KAAK,EAAE,GAAG;EAChC,CAAC;EACD,MAAM6B,MAAM,GAAG;IACbvB,CAAC,EAAEV,MAAM,CAACkC,SAAS,CAAC9B,KAAK,EAAE,GAAG,CAAC;IAC/BO,CAAC,EAAEX,MAAM,CAACkC,SAAS,CAAC9B,KAAK,EAAE,GAAG;EAChC,CAAC;EACD,MAAME,KAAK,GAAG;IACZI,CAAC,EAAEX,KAAK,CAACoC,YAAY,CAAC/B,KAAK,EAAE,GAAG,CAAC,CAAC6B,MAAM,CAACA,MAAM,CAACvB,CAAC,CAAC,CAACL,KAAK,CAACD,KAAK,CAACiB,UAAU,GAAGhB,KAAK,CAACM,CAAC,GAAGN,KAAK,CAACK,CAAC,CAAC;IAC9FC,CAAC,EAAEZ,KAAK,CAACoC,YAAY,CAAC/B,KAAK,EAAE,GAAG,CAAC,CAAC6B,MAAM,CAACA,MAAM,CAACtB,CAAC,CAAC,CAACN,KAAK,CAACD,KAAK,CAACiB,UAAU,GAAGhB,KAAK,CAACK,CAAC,GAAGL,KAAK,CAACM,CAAC;EAC/F,CAAC;EACD,IAAIyB,IAAI,GAAGnC,IAAI,CAACoC,OAAO,CAACjC,KAAK,CAAC;EAC9BgC,IAAI,GAAGnC,IAAI,CAACqC,oBAAoB,CAACF,IAAI,EAAEH,MAAM,CAAC;EAC9C;EACA;EACAG,IAAI,GAAGA,IAAI,CAACG,MAAM,CAACC,KAAK,IAAI;IAC1B,IAAIA,KAAK,CAACtB,EAAE,KAAK,IAAI,EAAE;MACrB,OAAO,KAAK;IACd;IACA,IAAIsB,KAAK,CAACjB,EAAE,KAAK,IAAI,EAAE;MACrB,OAAO,KAAK;IACd;IACA,OAAO,IAAI;EACb,CAAC,CAAC;EACF,MAAM5B,OAAO,GAAGQ,UAAU,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,CAAC;EAC/C,MAAMmC,QAAQ,GAAG9C,OAAO,CAAC8C,QAAQ,CAACL,IAAI,CAAC;EACvC,MAAMM,MAAM,GAAGtC,KAAK,CAACqB,KAAK,GAAGrB,KAAK,CAACsC,MAAM,IAAI7C,OAAO,CAAC8C,cAAc,CAACvC,KAAK,CAAC,GAAGa,SAAS;EACtF,OAAO;IACLgB,MAAM;IACNG,IAAI;IACJ9B,KAAK;IACLwB,KAAK;IACLW,QAAQ;IACRC;EACF,CAAC;AACH,CAAC;AACD,OAAO,MAAME,YAAY,GAAGA,CAACC,YAAY,EAAEC,aAAa,KAAK;EAC3D,MAAMC,aAAa,GAAGlD,OAAO,CAACmD,WAAW,CAACH,YAAY,EAAEC,aAAa,EAAE,SAAS,CAAC;EACjF,MAAM1C,KAAK,GAAG6C,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEH,aAAa,EAAEpB,mBAAmB,CAACoB,aAAa,CAAC,CAAC;EAClF,MAAM;IACJX,IAAI;IACJH,MAAM;IACNkB,MAAM;IACNC,MAAM;IACNV,MAAM;IACNW,OAAO;IACP5B,KAAK;IACLgB,QAAQ;IACRnC,KAAK;IACLgD,YAAY;IACZC,UAAU;IACVzB,KAAK;IACLD,KAAK;IACL2B,KAAK;IACLC,MAAM;IACNC;EACF,CAAC,GAAGtD,KAAK;EACT,MAAMuD,iBAAiB,GAAG;IACxBC,MAAM,EAAE;MACN9B,KAAK,EAAEA,KAAK,CAAC8B,MAAM;MACnBtD,KAAK;MACL2B,MAAM;MACNG,IAAI;MACJmB,UAAU;MACVH,MAAM;MACNI,KAAK;MACL3B,KAAK;MACLa,MAAM;MACNjB,KAAK;MACL4B,OAAO;MACPK;IACF;EACF,CAAC;EACD,OAAOtB,IAAI,CAACyB,MAAM,CAAC,CAACC,UAAU,EAAEtB,KAAK,EAAEuB,KAAK,KAAK;IAC/C,MAAMC,OAAO,GAAGvB,QAAQ,CAACsB,KAAK,CAAC,EAAExB,MAAM,CAAC0B,KAAK,IAAIA,KAAK,KAAK,MAAM,CAAC;IAClE,MAAMC,QAAQ,GAAG,CAACrE,OAAO,CAACsE,KAAK,CAAC3B,KAAK,CAAC0B,QAAQ,CAAC,GAAG1B,KAAK,CAAC0B,QAAQ,GAAGH,KAAK;IACxE,MAAM;MACJrD,CAAC;MACDC;IACF,CAAC,GAAGd,OAAO,CAACuE,UAAU,CAAChE,KAAK,EAAEoC,KAAK,CAAC;IACpC,MAAM6B,SAAS,GAAG;MAChB3D,CAAC;MACDC,CAAC;MACD6B,KAAK;MACLJ,IAAI;MACJ2B,KAAK;MACLzD,KAAK;MACL0D,OAAO;MACPtB,MAAM;MACN4B,IAAI,EAAElE,KAAK,CAACkE,IAAI;MAChBxC,KAAK,EAAEA,KAAK,CAACM;IACf,CAAC;IACD0B,UAAU,CAACI,QAAQ,CAAC,GAAG;MACrB9B,IAAI,EAAEiC;IACR,CAAC;IACD,MAAME,IAAI,GAAGzE,YAAY,CAAC0E,OAAO,CAACpE,KAAK,EAAEoC,KAAK,EAAEuB,KAAK,CAAC;IACtD,IAAIQ,IAAI,KAAKtD,SAAS,IAAIsD,IAAI,KAAK,IAAI,IAAId,MAAM,KAAKN,MAAM,IAAIG,YAAY,CAAC,EAAE;MAC7EQ,UAAU,CAACI,QAAQ,CAAC,CAACT,MAAM,GAAG3D,YAAY,CAAC2E,QAAQ,CAACrE,KAAK,EAAE2D,KAAK,CAAC;IACnE;IACA,OAAOD,UAAU;EACnB,CAAC,EAAEH,iBAAiB,CAAC;AACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}