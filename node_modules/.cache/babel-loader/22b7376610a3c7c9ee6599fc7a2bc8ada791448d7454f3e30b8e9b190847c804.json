{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, Browser, EventHandler, remove, closest, extend, formatUnit, setStyleAttribute, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ActionBase } from '../actions/action-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Schedule events resize actions\n */\nvar Resize = /** @class */function (_super) {\n  __extends(Resize, _super);\n  function Resize() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Resize.prototype.wireResizeEvent = function (element) {\n    var resizeElement = [].slice.call(element.querySelectorAll('.' + cls.EVENT_RESIZE_CLASS));\n    for (var _i = 0, resizeElement_1 = resizeElement; _i < resizeElement_1.length; _i++) {\n      var element_1 = resizeElement_1[_i];\n      EventHandler.add(element_1, Browser.touchStartEvent, this.resizeStart, this);\n    }\n  };\n  Resize.prototype.resizeHelper = function () {\n    if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.activeViewOptions.group.allowGroupEdit) {\n      for (var i = 0, len = this.actionObj.originalElement.length; i < len; i++) {\n        var cloneElement = this.createCloneElement(this.actionObj.originalElement[parseInt(i.toString(), 10)]);\n        this.actionObj.cloneElement[parseInt(i.toString(), 10)] = cloneElement;\n        if (this.actionObj.element === this.actionObj.originalElement[parseInt(i.toString(), 10)]) {\n          this.actionObj.clone = cloneElement;\n        }\n      }\n    } else {\n      if (this.actionObj.element) {\n        this.actionObj.clone = this.createCloneElement(this.actionObj.element);\n      }\n      this.actionObj.cloneElement = [this.actionObj.clone];\n      this.actionObj.originalElement = [this.actionObj.element];\n    }\n  };\n  Resize.prototype.resizeStart = function (e) {\n    var _this = this;\n    if (e && e.type === 'touchstart' && (!this.parent.uiStateValues.isTapHold || !closest(e.target, '.' + cls.APPOINTMENT_BORDER))) {\n      return;\n    }\n    this.actionObj.action = 'resize';\n    this.actionObj.slotInterval = this.parent.activeViewOptions.timeScale.interval / this.parent.activeViewOptions.timeScale.slotCount;\n    this.actionObj.interval = this.actionObj.slotInterval;\n    var resizeTarget = closest(e.target, '.' + cls.EVENT_RESIZE_CLASS);\n    this.actionObj.element = closest(resizeTarget, '.' + cls.APPOINTMENT_CLASS);\n    this.actionObj.event = this.parent.eventBase.getEventByGuid(this.actionObj.element.getAttribute('data-guid'));\n    var eventObj = extend({}, this.actionObj.event, null, true);\n    var resizeArgs = {\n      cancel: false,\n      data: eventObj,\n      element: this.actionObj.element,\n      event: e,\n      interval: this.actionObj.interval,\n      scroll: {\n        enable: true,\n        scrollBy: 30,\n        timeDelay: 100\n      }\n    };\n    this.parent.trigger(event.resizeStart, resizeArgs, function (resizeEventArgs) {\n      if (resizeEventArgs.cancel) {\n        return;\n      }\n      _this.actionClass('addClass');\n      _this.parent.uiStateValues.action = true;\n      _this.resizeEdges = {\n        left: resizeTarget.classList.contains(cls.LEFT_RESIZE_HANDLER),\n        right: resizeTarget.classList.contains(cls.RIGHT_RESIZE_HANDLER),\n        top: resizeTarget.classList.contains(cls.TOP_RESIZE_HANDLER),\n        bottom: resizeTarget.classList.contains(cls.BOTTOM_RESIZE_HANDLER)\n      };\n      _this.actionObj.groupIndex = _this.parent.uiStateValues.isGroupAdaptive ? _this.parent.uiStateValues.groupIndex : 0;\n      var workCell = _this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n      _this.actionObj.cellWidth = util.getElementWidth(workCell);\n      _this.actionObj.cellHeight = util.getElementHeight(workCell);\n      var hRows = _this.parent.activeViewOptions.headerRows.map(function (row) {\n        return row.option;\n      });\n      if (_this.parent.activeView.isTimelineView() && hRows.length > 0 && ['Date', 'Hour'].indexOf(hRows.slice(-1)[0]) < 0) {\n        var tr = _this.parent.getContentTable().querySelector('tr');\n        var noOfDays = 0;\n        var tdCollections = [].slice.call(tr.children);\n        for (var _i = 0, tdCollections_1 = tdCollections; _i < tdCollections_1.length; _i++) {\n          var td = tdCollections_1[_i];\n          noOfDays += parseInt(td.getAttribute('colspan'), 10);\n        }\n        var trRect = tr.getBoundingClientRect();\n        _this.actionObj.cellWidth = trRect.width / noOfDays;\n        _this.actionObj.cellHeight = trRect.height;\n      }\n      var pages = _this.parent.eventBase.getPageCoordinates(e);\n      _this.actionObj.X = pages.pageX;\n      _this.actionObj.Y = pages.pageY;\n      _this.actionObj.groupIndex = parseInt(_this.actionObj.element.getAttribute('data-group-index') || '0', 10);\n      _this.actionObj.interval = resizeEventArgs.interval;\n      _this.actionObj.scroll = resizeEventArgs.scroll;\n      _this.actionObj.start = new Date(eventObj[_this.parent.eventFields.startTime].getTime());\n      _this.actionObj.end = new Date(eventObj[_this.parent.eventFields.endTime].getTime());\n      _this.actionObj.originalElement = _this.getOriginalElement(_this.actionObj.element);\n      if (_this.parent.currentView === 'Month') {\n        _this.daysVariation = -1;\n        _this.monthEvent = new MonthEvent(_this.parent);\n      }\n      var viewElement = _this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n      _this.scrollArgs = {\n        element: viewElement,\n        width: viewElement.scrollWidth,\n        height: viewElement.scrollHeight\n      };\n      // 883565 - To fix the resizing not working issue at the last column of the timeline view\n      if (['Month', 'TimelineYear'].indexOf(_this.parent.currentView) < 0) {\n        var scrollWidth = Math.round(_this.scrollArgs.width / _this.actionObj.cellWidth) * _this.actionObj.cellWidth;\n        _this.scrollArgs.width = _this.scrollArgs.width < scrollWidth ? scrollWidth : _this.scrollArgs.width;\n      }\n      EventHandler.add(document, Browser.touchMoveEvent, _this.resizing, _this);\n      EventHandler.add(document, Browser.touchEndEvent, _this.resizeStop, _this);\n    });\n  };\n  Resize.prototype.resizing = function (e) {\n    if (e && e.type === 'touchmove') {\n      e.preventDefault();\n    }\n    if (this.parent.quickPopup) {\n      this.parent.quickPopup.quickPopupHide();\n    }\n    if (this.parent.element.querySelectorAll('.' + cls.RESIZE_CLONE_CLASS).length === 0) {\n      this.resizeHelper();\n    }\n    if (!isNullOrUndefined(e.target) && e.target.classList.contains(cls.DISABLE_DATES)) {\n      return;\n    }\n    var pages = this.parent.eventBase.getPageCoordinates(e);\n    if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear') {\n      var doc = document.documentElement;\n      var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n      var top_1 = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      this.actionObj.pageX = pages.pageX - left;\n      this.actionObj.pageY = pages.pageY - top_1;\n    } else {\n      this.actionObj.pageX = pages.pageX;\n      this.actionObj.pageY = pages.pageY;\n    }\n    this.updateScrollPosition(e);\n    this.updateResizingDirection(e);\n    var eventObj = extend({}, this.actionObj.event, null, true);\n    var resizeArgs = {\n      cancel: false,\n      data: eventObj,\n      element: this.actionObj.element,\n      event: e,\n      startTime: this.actionObj.start,\n      endTime: this.actionObj.end\n    };\n    if (this.parent.group.resources.length > 0) {\n      resizeArgs.groupIndex = this.actionObj.groupIndex;\n    }\n    this.parent.trigger(event.resizing, resizeArgs);\n  };\n  Resize.prototype.updateResizingDirection = function (e) {\n    if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear') {\n      this.monthResizing();\n      return;\n    }\n    var resizeValidation = this.resizeValidation(e);\n    if (this.resizeEdges.left) {\n      if (resizeValidation) {\n        var leftStyles = this.getLeftRightStyles(e, true);\n        if (parseInt(leftStyles.width, 10) < 1) {\n          return;\n        }\n        for (var _i = 0, _a = this.actionObj.cloneElement; _i < _a.length; _i++) {\n          var cloneElement = _a[_i];\n          setStyleAttribute(cloneElement, leftStyles);\n          addClass([cloneElement], cls.LEFT_RESIZE_HANDLER);\n        }\n      }\n      this.horizontalResizing(!this.parent.enableRtl);\n    }\n    if (this.resizeEdges.right) {\n      if (resizeValidation) {\n        var rightStyles = this.getLeftRightStyles(e, false);\n        if (parseInt(rightStyles.width, 10) < 1) {\n          return;\n        }\n        for (var _b = 0, _c = this.actionObj.cloneElement; _b < _c.length; _b++) {\n          var cloneElement = _c[_b];\n          setStyleAttribute(cloneElement, rightStyles);\n          addClass([cloneElement], cls.RIGHT_RESIZE_HANDLER);\n        }\n      }\n      this.horizontalResizing(this.parent.enableRtl);\n    }\n    if (this.resizeEdges.top) {\n      if (resizeValidation) {\n        var topStyles = this.getTopBottomStyles(e, true);\n        if (parseInt(topStyles.height, 10) < 1) {\n          return;\n        }\n        for (var _d = 0, _e = this.actionObj.cloneElement; _d < _e.length; _d++) {\n          var cloneElement = _e[_d];\n          setStyleAttribute(cloneElement, topStyles);\n          addClass([cloneElement], cls.TOP_RESIZE_HANDLER);\n        }\n      }\n      this.verticalResizing(true);\n    }\n    if (this.resizeEdges.bottom) {\n      if (resizeValidation) {\n        var bottomStyles = this.getTopBottomStyles(e, false);\n        if (parseInt(bottomStyles.height, 10) < 1) {\n          return;\n        }\n        for (var _f = 0, _g = this.actionObj.cloneElement; _f < _g.length; _f++) {\n          var cloneElement = _g[_f];\n          setStyleAttribute(cloneElement, bottomStyles);\n          addClass([cloneElement], cls.BOTTOM_RESIZE_HANDLER);\n        }\n      }\n      this.verticalResizing(false);\n    }\n  };\n  Resize.prototype.monthResizing = function () {\n    this.removeCloneElement();\n    if (isNullOrUndefined(this.actionObj.pageX) || isNullOrUndefined(this.actionObj.pageY)) {\n      return;\n    }\n    var td = document.elementFromPoint(this.actionObj.pageX, this.actionObj.pageY);\n    if (isNullOrUndefined(td)) {\n      return;\n    }\n    var resizeTime = this.parent.getDateFromElement(td);\n    var isSameCell = this.parent.activeViewOptions.group.resources.length > 0 ? parseInt(td.getAttribute('data-group-index'), 10) === this.actionObj.groupIndex : true;\n    var startTime = new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime());\n    var endTime = new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());\n    if (!this.parent.enableRtl && this.resizeEdges.left || this.parent.enableRtl && this.resizeEdges.right || this.resizeEdges.top) {\n      startTime = resizeTime;\n    } else if (!this.parent.enableRtl && this.resizeEdges.right || this.parent.enableRtl && this.resizeEdges.left || this.resizeEdges.bottom) {\n      endTime = util.addDays(resizeTime, 1);\n    }\n    if (isSameCell && startTime < endTime) {\n      this.actionObj.start = startTime;\n      this.actionObj.end = endTime;\n      var event_1 = this.getUpdatedEvent(this.actionObj.start, this.actionObj.end, this.actionObj.event);\n      if (this.parent.currentView === 'TimelineYear') {\n        this.yearEventsRendering(event_1);\n      } else {\n        this.dynamicEventsRendering(event_1);\n      }\n      this.updateOriginalElement(this.actionObj.clone);\n    }\n  };\n  Resize.prototype.yearEventsRendering = function (event) {\n    var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n    for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n      var wrapper = eventWrappers_1[_i];\n      remove(wrapper);\n    }\n    var endDate = new Date(event[this.parent.eventFields.endTime]);\n    var monthDiff = 0;\n    if (this.parent.activeViewOptions.group.resources.length === 0) {\n      monthDiff = this.getMonthDiff(event[this.parent.eventFields.startTime], util.addDays(endDate, -1));\n    }\n    for (var i = 0; i <= monthDiff; i++) {\n      var eventObj = void 0;\n      if (this.parent.activeViewOptions.group.resources.length === 0) {\n        eventObj = this.getEventCount(event, this.actionObj.start.getMonth() + i);\n      } else {\n        eventObj = extend({}, event, null, true);\n        endDate = this.resizeEdges.left || this.resizeEdges.right ? util.addDays(endDate, -1) : endDate;\n        eventObj.count = this.getMonthDiff(event[this.parent.eventFields.startTime], endDate) + 1;\n      }\n      this.dynamicYearlyEventsRendering(eventObj, true);\n    }\n  };\n  Resize.prototype.getMonthDiff = function (startDate, endDate) {\n    var months;\n    months = (endDate.getFullYear() - startDate.getFullYear()) * 12;\n    months -= startDate.getMonth();\n    months += endDate.getMonth();\n    return months <= 0 ? 0 : months;\n  };\n  Resize.prototype.getEventCount = function (eventObj, month) {\n    var eventData = extend({}, eventObj, null, true);\n    var eventStart = eventData[this.parent.eventFields.startTime];\n    var eventEnd = eventData[this.parent.eventFields.endTime];\n    var monthStart = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n    var monthEnd = util.addDays(new Date(this.parent.selectedDate.getFullYear(), month + 1, 0), 1);\n    var count = 1;\n    if (eventStart.getTime() < monthStart.getTime()) {\n      eventData[this.parent.eventFields.startTime] = monthStart;\n    }\n    if (eventEnd.getTime() > monthEnd.getTime()) {\n      eventData[this.parent.eventFields.endTime] = monthEnd;\n    }\n    if (this.parent.activeViewOptions.group.resources.length === 0) {\n      count = Math.ceil((eventData[this.parent.eventFields.endTime].getTime() - eventData[this.parent.eventFields.startTime].getTime()) / util.MS_PER_DAY);\n    }\n    eventData.count = count;\n    return eventData;\n  };\n  Resize.prototype.resizeStop = function (e) {\n    var _this = this;\n    EventHandler.remove(document, Browser.touchMoveEvent, this.resizing);\n    EventHandler.remove(document, Browser.touchEndEvent, this.resizeStop);\n    clearInterval(this.actionObj.scrollInterval);\n    this.actionObj.scrollInterval = null;\n    this.removeCloneElementClasses();\n    this.removeCloneElement();\n    this.actionClass('removeClass');\n    this.parent.uiStateValues.action = this.parent.uiStateValues.isTapHold = false;\n    var resizeArgs = {\n      cancel: false,\n      data: this.getChangedData(),\n      element: this.actionObj.element,\n      event: e\n    };\n    this.parent.trigger(event.resizeStop, resizeArgs, function (resizeEventArgs) {\n      if (resizeEventArgs.cancel) {\n        return;\n      }\n      if (_this.parent.isSpecificResourceEvents()) {\n        _this.parent.crudModule.crudObj.sourceEvent = [_this.parent.resourceBase.lastResourceLevel[parseInt(resizeEventArgs.element.getAttribute('data-group-index'), 10)]];\n        _this.parent.crudModule.crudObj.targetEvent = _this.parent.crudModule.crudObj.sourceEvent;\n        _this.parent.crudModule.crudObj.isCrudAction = true;\n      }\n      _this.saveChangedData(resizeEventArgs);\n    });\n  };\n  Resize.prototype.verticalResizing = function (isTop) {\n    var offsetValue = this.actionObj.clone.offsetTop;\n    if (!isTop) {\n      offsetValue += this.actionObj.clone.offsetHeight;\n    }\n    var minutes = offsetValue / this.actionObj.cellHeight * this.actionObj.slotInterval;\n    var element = this.actionObj.clone.offsetParent;\n    if (isNullOrUndefined(element)) {\n      return;\n    }\n    var resizeTime = util.resetTime(this.parent.getDateFromElement(element));\n    resizeTime.setHours(this.parent.activeView.getStartHour().getHours());\n    resizeTime.setMinutes(minutes + this.parent.activeView.getStartHour().getMinutes());\n    if (isTop) {\n      this.actionObj.start = this.calculateIntervalTime(resizeTime);\n    } else {\n      this.actionObj.end = this.calculateIntervalTime(resizeTime);\n    }\n    this.updateTimePosition(resizeTime);\n  };\n  Resize.prototype.horizontalResizing = function (isLeft) {\n    var eventStart = new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime());\n    var eventEnd = new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());\n    var resizeTime;\n    var isDateHeader = false;\n    var headerName = this.parent.currentView;\n    var isTimeViews = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek'].indexOf(this.parent.currentView) > -1;\n    var isTimelineMonth = this.parent.currentView === 'TimelineMonth';\n    var isWithoutScale = isTimelineMonth || isTimeViews && !this.parent.activeViewOptions.timeScale.enable;\n    if (this.parent.activeView.isTimelineView()) {\n      var tr = this.parent.getContentTable().querySelector('tr');\n      if (this.parent.activeViewOptions.headerRows.length > 0) {\n        var rows = this.parent.activeViewOptions.headerRows.map(function (row) {\n          return row.option;\n        });\n        headerName = rows.slice(-1)[0];\n        if (isTimelineMonth && headerName === 'Hour') {\n          headerName = rows.slice(-2)[0] || 'Month';\n        }\n      }\n      resizeTime = isLeft ? eventStart : eventEnd;\n      var cellIndex = 0;\n      var tdCollections = [].slice.call(tr.children);\n      var isLastCell = false;\n      var pixelsPerMinute = this.actionObj.cellWidth / (this.parent.activeViewOptions.timeScale.interval / this.parent.activeViewOptions.timeScale.slotCount);\n      var offset = parseFloat(this.parent.enableRtl ? this.actionObj.clone.style.right : this.actionObj.clone.style.left);\n      offset = Math.round(offset / pixelsPerMinute) * pixelsPerMinute;\n      if (['Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1) {\n        var noOfDays = 0;\n        for (var _i = 0, tdCollections_2 = tdCollections; _i < tdCollections_2.length; _i++) {\n          var td = tdCollections_2[_i];\n          noOfDays += parseInt(td.getAttribute('colspan'), 10);\n        }\n        var offsetValue = this.parent.enableRtl ? parseInt(this.actionObj.clone.style.right, 10) : parseInt(this.actionObj.clone.style.left, 10);\n        offsetValue = Math.round(offsetValue / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n        if (!isLeft) {\n          offsetValue += util.getElementWidth(this.actionObj.clone) - this.actionObj.cellWidth;\n        }\n        cellIndex = Math.floor(offsetValue / Math.floor(util.getElementWidth(tr) / noOfDays));\n        isDateHeader = isTimeViews && headerName === 'Date';\n        cellIndex = isLeft ? cellIndex : isTimelineMonth ? cellIndex + 1 : cellIndex;\n        isLastCell = cellIndex === tdCollections.length;\n        cellIndex = cellIndex < 0 ? 0 : cellIndex >= noOfDays ? noOfDays - 1 : cellIndex;\n      } else {\n        var cellWidth = this.actionObj.cellWidth;\n        cellIndex = isLeft ? Math.floor(offset / this.actionObj.cellWidth) : Math.ceil((offset + (util.getElementWidth(this.actionObj.clone) - cellWidth)) / this.actionObj.cellWidth);\n        if (this.parent.enableRtl) {\n          var cellOffsetWidth = 0;\n          if (headerName === 'TimelineMonth' || !this.parent.activeViewOptions.timeScale.enable && !isTimelineMonth) {\n            cellOffsetWidth = this.actionObj.cellWidth;\n          }\n          var offsetWidth = Math.floor(offset / this.actionObj.cellWidth) * this.actionObj.cellWidth + (isLeft ? 0 : util.getElementWidth(this.actionObj.clone) - cellOffsetWidth);\n          cellIndex = Math.floor(offsetWidth / this.actionObj.cellWidth);\n        }\n        isLastCell = cellIndex === tdCollections.length;\n        cellIndex = this.getIndex(cellIndex);\n      }\n      var resizeDate = void 0;\n      if (['Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1) {\n        resizeDate = new Date(this.parent.activeView.renderDates[parseInt(cellIndex.toString(), 10)].getTime());\n      } else {\n        resizeDate = this.parent.getDateFromElement(tr.children[parseInt(cellIndex.toString(), 10)]);\n      }\n      if (['TimelineMonth', 'Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1 || !this.parent.activeViewOptions.timeScale.enable) {\n        resizeTime = new Date(resizeDate.setHours(resizeTime.getHours(), resizeTime.getMinutes(), resizeTime.getSeconds()));\n      } else {\n        if (!isLeft) {\n          offset += util.getElementWidth(this.actionObj.clone);\n        }\n        var spanMinutes = Math.ceil(this.actionObj.slotInterval / this.actionObj.cellWidth * (offset - Math.floor(offset / this.actionObj.cellWidth) * this.actionObj.cellWidth));\n        spanMinutes = isLastCell || !isLeft && spanMinutes === 0 ? this.actionObj.slotInterval : spanMinutes;\n        resizeTime = new Date(resizeDate.getTime());\n        resizeTime.setMinutes(resizeTime.getMinutes() + spanMinutes);\n        this.updateTimePosition(resizeTime);\n      }\n    } else {\n      var cloneIndex = closest(this.actionObj.clone, 'td').cellIndex;\n      var originalWidth = Math.ceil((isLeft ? util.getElementWidth(this.actionObj.element) : 0) / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n      var noOfDays = Math.ceil((util.getElementWidth(this.actionObj.clone) - originalWidth) / this.actionObj.cellWidth);\n      var tr = closest(this.actionObj.clone, 'tr');\n      var dayIndex = isLeft ? cloneIndex - noOfDays : cloneIndex + noOfDays - 1;\n      dayIndex = this.getIndex(dayIndex);\n      resizeTime = this.parent.getDateFromElement(tr.children[parseInt(dayIndex.toString(), 10)]);\n      if (isLeft) {\n        resizeTime.setHours(eventStart.getHours(), eventStart.getMinutes(), eventStart.getSeconds());\n      } else {\n        resizeTime.setHours(eventEnd.getHours(), eventEnd.getMinutes(), eventEnd.getSeconds());\n      }\n    }\n    var isNotHourSlot = ['TimelineMonth', 'Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1 || !this.parent.activeViewOptions.timeScale.enable;\n    if (isLeft) {\n      if (eventEnd.getTime() - resizeTime.getTime() <= 0) {\n        resizeTime = isWithoutScale ? util.resetTime(eventEnd) : eventStart;\n      }\n      this.actionObj.start = !isNotHourSlot ? this.calculateIntervalTime(resizeTime) : resizeTime;\n    } else {\n      var isTimeScaleViews = isTimeViews && this.parent.activeViewOptions.timeScale.enable;\n      var resizeEnd = (!isTimeScaleViews || isDateHeader || isTimeViews && ['Week', 'Month', 'Year'].indexOf(headerName) > -1) && resizeTime.getHours() === 0 && resizeTime.getMinutes() === 0 ? util.addDays(resizeTime, 1) : resizeTime;\n      if (isWithoutScale && resizeEnd.getTime() - eventStart.getTime() <= 0) {\n        resizeEnd = util.addDays(util.resetTime(eventStart), 1);\n      }\n      this.actionObj.end = !isNotHourSlot ? this.calculateIntervalTime(resizeEnd) : resizeEnd;\n    }\n  };\n  Resize.prototype.getTopBottomStyles = function (e, isTop) {\n    var viewElement = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    var slotInterval = this.actionObj.cellHeight / this.actionObj.slotInterval * this.actionObj.interval;\n    var clnHeight = isTop ? this.actionObj.element.offsetHeight + (this.actionObj.Y - this.actionObj.pageY) : this.actionObj.element.offsetHeight + (this.actionObj.pageY - this.actionObj.Y);\n    var clnTop = isTop ? this.actionObj.element.offsetTop - (this.actionObj.Y - this.actionObj.pageY) : this.actionObj.clone.offsetTop;\n    clnHeight = clnTop < 0 ? this.actionObj.clone.offsetHeight : this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight > this.scrollArgs.height ? this.actionObj.clone.offsetHeight : clnHeight;\n    clnTop = clnTop < 0 ? 0 : clnTop;\n    clnTop = isTop ? Math.floor(clnTop / slotInterval) * slotInterval : clnTop;\n    clnHeight = clnTop + clnHeight >= viewElement.scrollHeight ? viewElement.scrollHeight - clnTop : Math.ceil(clnHeight / slotInterval) * slotInterval;\n    if (!isTop && this.actionObj.clone.offsetTop + clnHeight >= this.parent.getContentTable().offsetHeight) {\n      clnHeight = this.parent.getContentTable().offsetHeight - this.actionObj.clone.offsetTop;\n    }\n    var styles = {\n      height: formatUnit(clnHeight < this.actionObj.cellHeight ? Math.floor(clnHeight / slotInterval) * slotInterval : clnHeight),\n      top: formatUnit(clnHeight < this.actionObj.cellHeight && isTop ? Math.ceil(clnTop / slotInterval) * slotInterval : clnTop),\n      left: '0px',\n      right: '0px',\n      width: '100%'\n    };\n    return styles;\n  };\n  Resize.prototype.getLeftRightStyles = function (e, isLeft) {\n    var styles = {};\n    var isTimelineView = this.parent.activeView.isTimelineView();\n    var isTimeViews = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek'].indexOf(this.parent.currentView) > -1 && this.parent.activeViewOptions.timeScale.enable;\n    var slotInterval = this.actionObj.cellWidth / this.actionObj.slotInterval * this.actionObj.interval;\n    var pageWidth = isLeft ? this.actionObj.X - this.actionObj.pageX : this.actionObj.pageX - this.actionObj.X;\n    var targetWidth = isTimelineView ? util.getElementWidth(this.actionObj.element) / this.actionObj.cellWidth * this.actionObj.cellWidth : this.parent.currentView === 'Month' ? util.getElementWidth(this.actionObj.element) : Math.ceil(util.getElementWidth(this.actionObj.element) / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n    var offsetWidth = targetWidth + Math.ceil(pageWidth / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n    var left = this.parent.enableRtl ? parseInt(this.actionObj.element.style.right, 10) : this.actionObj.clone.offsetLeft;\n    if (isTimeViews) {\n      offsetWidth = targetWidth + Math.ceil(pageWidth / slotInterval) * slotInterval;\n      if (!isLeft) {\n        var roundedLeft = (+parseFloat(this.actionObj.element.style[this.parent.enableRtl ? 'right' : 'left'])).toFixed(1);\n        var roundedWidth = Math.round(targetWidth / slotInterval) * slotInterval;\n        if (roundedLeft !== left.toFixed(1) || roundedWidth !== targetWidth) {\n          offsetWidth = Math.round((left + offsetWidth) / slotInterval) * slotInterval - left;\n        }\n      }\n      this.actionObj.event[this.parent.eventFields.isAllDay] = false;\n    }\n    var width = !isLeft && offsetWidth + this.actionObj.clone.offsetLeft > this.scrollArgs.width ? util.getElementWidth(this.actionObj.clone) : offsetWidth < this.actionObj.cellWidth ? offsetWidth : offsetWidth;\n    if (this.parent.enableRtl) {\n      var rightValue = isTimelineView ? parseInt(this.actionObj.element.style.right, 10) : -(offsetWidth - this.actionObj.cellWidth);\n      rightValue = isTimelineView ? rightValue : isLeft ? 0 : rightValue > 0 ? 0 : rightValue;\n      if (isTimelineView && !isLeft) {\n        rightValue = rightValue - Math.ceil((this.actionObj.pageX - this.actionObj.X) / slotInterval) * slotInterval;\n        if (rightValue < 0) {\n          rightValue = parseInt(this.actionObj.clone.style.right, 10);\n          width = parseInt(this.actionObj.clone.style.width, 10);\n        }\n      }\n      rightValue = rightValue >= this.scrollArgs.width ? this.scrollArgs.width - this.actionObj.cellWidth : rightValue;\n      styles.right = formatUnit(rightValue);\n      width = width + rightValue > this.scrollArgs.width ? util.getElementWidth(this.actionObj.clone) : width;\n    } else {\n      var offsetLeft = isLeft ? this.actionObj.element.offsetLeft - (this.actionObj.X - this.actionObj.pageX) : this.parent.enableRtl ? this.actionObj.element.offsetLeft : 0;\n      if (isTimelineView) {\n        offsetLeft = isLeft ? offsetLeft : parseInt(this.actionObj.clone.style.left, 10);\n        if (this.parent.enableRtl) {\n          offsetLeft = !isLeft ? this.actionObj.pageX < this.actionObj.X - util.getElementWidth(this.actionObj.clone) ? parseInt(this.actionObj.clone.style.right, 10) : offsetLeft : offsetLeft;\n        } else {\n          offsetLeft = isLeft ? this.actionObj.pageX > this.actionObj.X + util.getElementWidth(this.actionObj.clone) && util.getElementWidth(this.actionObj.clone) === this.actionObj.cellWidth ? parseInt(this.actionObj.clone.style.left, 10) : offsetLeft : offsetLeft;\n        }\n      }\n      var leftValue = offsetLeft;\n      offsetLeft = isTimelineView ? isTimeViews ? isLeft ? this.actionObj.element.offsetLeft - Math.ceil((this.actionObj.element.offsetLeft - offsetLeft) / slotInterval) * slotInterval : offsetLeft : Math.floor(offsetLeft / this.actionObj.cellWidth) * this.actionObj.cellWidth : Math.ceil(Math.abs(offsetLeft) / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n      if (offsetLeft < 0) {\n        if (isTimelineView && isLeft && offsetLeft % slotInterval) {\n          offsetLeft = parseInt(this.actionObj.clone.style.left, 10);\n          width = parseInt(this.actionObj.clone.style.width, 10);\n        } else {\n          offsetLeft = 0;\n          width = util.getElementWidth(this.actionObj.clone);\n        }\n      }\n      var cloneWidth = Math.ceil(util.getElementWidth(this.actionObj.clone) / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n      if (isLeft) {\n        styles.left = formatUnit(isTimelineView ? offsetLeft : isLeft ? leftValue < 0 ? -offsetLeft : Math.ceil((targetWidth - cloneWidth) / this.actionObj.cellWidth) * this.actionObj.cellWidth : offsetLeft);\n      }\n    }\n    styles.width = formatUnit(width);\n    return styles;\n  };\n  Resize.prototype.resizeValidation = function (e) {\n    var pages = this.parent.eventBase.getPageCoordinates(e);\n    var viewDimension = this.getContentAreaDimension();\n    var isTimeScale = this.parent.activeView.isTimelineView() && this.parent.activeViewOptions.timeScale.enable;\n    var cellWidth = this.actionObj.cellWidth;\n    var resizeValidation = false;\n    if (this.resizeEdges.left) {\n      if (pages.pageX < viewDimension.leftOffset && pages.pageX >= viewDimension.left && isTimeScale) {\n        cellWidth = 0;\n      }\n      resizeValidation = pages.pageX - cellWidth >= viewDimension.left;\n    }\n    if (this.resizeEdges.right) {\n      if (pages.pageX > viewDimension.rightOffset && pages.pageX <= viewDimension.right && isTimeScale) {\n        cellWidth = 0;\n      }\n      resizeValidation = pages.pageX + cellWidth <= viewDimension.right;\n    }\n    if (this.resizeEdges.top) {\n      resizeValidation = this.actionObj.clone.offsetTop >= viewDimension.top;\n    }\n    if (this.resizeEdges.bottom) {\n      resizeValidation = this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight <= this.scrollArgs.height;\n    }\n    return resizeValidation;\n  };\n  /**\n   * Get module name\n   *\n   * @returns {string} Returns the module name..\n   */\n  Resize.prototype.getModuleName = function () {\n    return 'resize';\n  };\n  return Resize;\n}(ActionBase);\nexport { Resize };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","addClass","Browser","EventHandler","remove","closest","extend","formatUnit","setStyleAttribute","isNullOrUndefined","ActionBase","MonthEvent","util","event","cls","Resize","_super","apply","arguments","wireResizeEvent","element","resizeElement","slice","call","querySelectorAll","EVENT_RESIZE_CLASS","_i","resizeElement_1","length","element_1","add","touchStartEvent","resizeStart","resizeHelper","parent","activeViewOptions","group","resources","allowGroupEdit","i","len","actionObj","originalElement","cloneElement","createCloneElement","parseInt","toString","clone","e","_this","type","uiStateValues","isTapHold","target","APPOINTMENT_BORDER","action","slotInterval","timeScale","interval","slotCount","resizeTarget","APPOINTMENT_CLASS","eventBase","getEventByGuid","getAttribute","eventObj","resizeArgs","cancel","data","scroll","enable","scrollBy","timeDelay","trigger","resizeEventArgs","actionClass","resizeEdges","left","classList","contains","LEFT_RESIZE_HANDLER","right","RIGHT_RESIZE_HANDLER","top","TOP_RESIZE_HANDLER","bottom","BOTTOM_RESIZE_HANDLER","groupIndex","isGroupAdaptive","workCell","querySelector","WORK_CELLS_CLASS","cellWidth","getElementWidth","cellHeight","getElementHeight","hRows","headerRows","map","row","option","activeView","isTimelineView","indexOf","tr","getContentTable","noOfDays","tdCollections","children","tdCollections_1","td","trRect","getBoundingClientRect","width","height","pages","getPageCoordinates","X","pageX","Y","pageY","start","Date","eventFields","startTime","getTime","end","endTime","getOriginalElement","currentView","daysVariation","monthEvent","viewElement","CONTENT_WRAP_CLASS","scrollArgs","scrollWidth","scrollHeight","Math","round","document","touchMoveEvent","resizing","touchEndEvent","resizeStop","preventDefault","quickPopup","quickPopupHide","RESIZE_CLONE_CLASS","DISABLE_DATES","doc","documentElement","window","pageXOffset","scrollLeft","clientLeft","top_1","pageYOffset","scrollTop","clientTop","updateScrollPosition","updateResizingDirection","monthResizing","resizeValidation","leftStyles","getLeftRightStyles","_a","horizontalResizing","enableRtl","rightStyles","_b","_c","topStyles","getTopBottomStyles","_d","_e","verticalResizing","bottomStyles","_f","_g","removeCloneElement","elementFromPoint","resizeTime","getDateFromElement","isSameCell","addDays","event_1","getUpdatedEvent","yearEventsRendering","dynamicEventsRendering","updateOriginalElement","eventWrappers","CLONE_ELEMENT_CLASS","eventWrappers_1","wrapper","endDate","monthDiff","getMonthDiff","getEventCount","getMonth","count","dynamicYearlyEventsRendering","startDate","months","getFullYear","month","eventData","eventStart","eventEnd","monthStart","selectedDate","monthEnd","ceil","MS_PER_DAY","clearInterval","scrollInterval","removeCloneElementClasses","getChangedData","isSpecificResourceEvents","crudModule","crudObj","sourceEvent","resourceBase","lastResourceLevel","targetEvent","isCrudAction","saveChangedData","isTop","offsetValue","offsetTop","offsetHeight","minutes","offsetParent","resetTime","setHours","getStartHour","getHours","setMinutes","getMinutes","calculateIntervalTime","updateTimePosition","isLeft","isDateHeader","headerName","isTimeViews","isTimelineMonth","isWithoutScale","rows","cellIndex","isLastCell","pixelsPerMinute","offset","parseFloat","style","tdCollections_2","floor","cellOffsetWidth","offsetWidth","getIndex","resizeDate","renderDates","getSeconds","spanMinutes","cloneIndex","originalWidth","dayIndex","isNotHourSlot","isTimeScaleViews","resizeEnd","clnHeight","clnTop","styles","pageWidth","targetWidth","offsetLeft","roundedLeft","toFixed","roundedWidth","isAllDay","rightValue","leftValue","abs","cloneWidth","viewDimension","getContentAreaDimension","isTimeScale","leftOffset","rightOffset","getModuleName"],"sources":["/Users/anjalichaturvedi/GitHub/brew-bridge-dashboard/website/node_modules/@syncfusion/ej2-schedule/src/schedule/actions/resize.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, Browser, EventHandler, remove, closest, extend, formatUnit, setStyleAttribute, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ActionBase } from '../actions/action-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Schedule events resize actions\n */\nvar Resize = /** @class */ (function (_super) {\n    __extends(Resize, _super);\n    function Resize() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Resize.prototype.wireResizeEvent = function (element) {\n        var resizeElement = [].slice.call(element.querySelectorAll('.' + cls.EVENT_RESIZE_CLASS));\n        for (var _i = 0, resizeElement_1 = resizeElement; _i < resizeElement_1.length; _i++) {\n            var element_1 = resizeElement_1[_i];\n            EventHandler.add(element_1, Browser.touchStartEvent, this.resizeStart, this);\n        }\n    };\n    Resize.prototype.resizeHelper = function () {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.activeViewOptions.group.allowGroupEdit) {\n            for (var i = 0, len = this.actionObj.originalElement.length; i < len; i++) {\n                var cloneElement = this.createCloneElement(this.actionObj.originalElement[parseInt(i.toString(), 10)]);\n                this.actionObj.cloneElement[parseInt(i.toString(), 10)] = cloneElement;\n                if (this.actionObj.element === this.actionObj.originalElement[parseInt(i.toString(), 10)]) {\n                    this.actionObj.clone = cloneElement;\n                }\n            }\n        }\n        else {\n            if (this.actionObj.element) {\n                this.actionObj.clone = this.createCloneElement(this.actionObj.element);\n            }\n            this.actionObj.cloneElement = [this.actionObj.clone];\n            this.actionObj.originalElement = [this.actionObj.element];\n        }\n    };\n    Resize.prototype.resizeStart = function (e) {\n        var _this = this;\n        if (e && e.type === 'touchstart' && (!this.parent.uiStateValues.isTapHold ||\n            !closest(e.target, '.' + cls.APPOINTMENT_BORDER))) {\n            return;\n        }\n        this.actionObj.action = 'resize';\n        this.actionObj.slotInterval = this.parent.activeViewOptions.timeScale.interval / this.parent.activeViewOptions.timeScale.slotCount;\n        this.actionObj.interval = this.actionObj.slotInterval;\n        var resizeTarget = closest(e.target, '.' + cls.EVENT_RESIZE_CLASS);\n        this.actionObj.element = closest(resizeTarget, '.' + cls.APPOINTMENT_CLASS);\n        this.actionObj.event = this.parent.eventBase.getEventByGuid(this.actionObj.element.getAttribute('data-guid'));\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        var resizeArgs = {\n            cancel: false,\n            data: eventObj,\n            element: this.actionObj.element,\n            event: e,\n            interval: this.actionObj.interval,\n            scroll: { enable: true, scrollBy: 30, timeDelay: 100 }\n        };\n        this.parent.trigger(event.resizeStart, resizeArgs, function (resizeEventArgs) {\n            if (resizeEventArgs.cancel) {\n                return;\n            }\n            _this.actionClass('addClass');\n            _this.parent.uiStateValues.action = true;\n            _this.resizeEdges = {\n                left: resizeTarget.classList.contains(cls.LEFT_RESIZE_HANDLER),\n                right: resizeTarget.classList.contains(cls.RIGHT_RESIZE_HANDLER),\n                top: resizeTarget.classList.contains(cls.TOP_RESIZE_HANDLER),\n                bottom: resizeTarget.classList.contains(cls.BOTTOM_RESIZE_HANDLER)\n            };\n            _this.actionObj.groupIndex = _this.parent.uiStateValues.isGroupAdaptive ? _this.parent.uiStateValues.groupIndex : 0;\n            var workCell = _this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n            _this.actionObj.cellWidth = util.getElementWidth(workCell);\n            _this.actionObj.cellHeight = util.getElementHeight(workCell);\n            var hRows = _this.parent.activeViewOptions.headerRows.map(function (row) { return row.option; });\n            if (_this.parent.activeView.isTimelineView() && hRows.length > 0 && ['Date', 'Hour'].indexOf(hRows.slice(-1)[0]) < 0) {\n                var tr = _this.parent.getContentTable().querySelector('tr');\n                var noOfDays = 0;\n                var tdCollections = [].slice.call(tr.children);\n                for (var _i = 0, tdCollections_1 = tdCollections; _i < tdCollections_1.length; _i++) {\n                    var td = tdCollections_1[_i];\n                    noOfDays += parseInt(td.getAttribute('colspan'), 10);\n                }\n                var trRect = tr.getBoundingClientRect();\n                _this.actionObj.cellWidth = trRect.width / noOfDays;\n                _this.actionObj.cellHeight = trRect.height;\n            }\n            var pages = _this.parent.eventBase.getPageCoordinates(e);\n            _this.actionObj.X = pages.pageX;\n            _this.actionObj.Y = pages.pageY;\n            _this.actionObj.groupIndex = parseInt(_this.actionObj.element.getAttribute('data-group-index') || '0', 10);\n            _this.actionObj.interval = resizeEventArgs.interval;\n            _this.actionObj.scroll = resizeEventArgs.scroll;\n            _this.actionObj.start = new Date(eventObj[_this.parent.eventFields.startTime].getTime());\n            _this.actionObj.end = new Date(eventObj[_this.parent.eventFields.endTime].getTime());\n            _this.actionObj.originalElement = _this.getOriginalElement(_this.actionObj.element);\n            if (_this.parent.currentView === 'Month') {\n                _this.daysVariation = -1;\n                _this.monthEvent = new MonthEvent(_this.parent);\n            }\n            var viewElement = _this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            _this.scrollArgs = { element: viewElement, width: viewElement.scrollWidth, height: viewElement.scrollHeight };\n            // 883565 - To fix the resizing not working issue at the last column of the timeline view\n            if (['Month', 'TimelineYear'].indexOf(_this.parent.currentView) < 0) {\n                var scrollWidth = Math.round(_this.scrollArgs.width / _this.actionObj.cellWidth) * _this.actionObj.cellWidth;\n                _this.scrollArgs.width = _this.scrollArgs.width < scrollWidth ? scrollWidth : _this.scrollArgs.width;\n            }\n            EventHandler.add(document, Browser.touchMoveEvent, _this.resizing, _this);\n            EventHandler.add(document, Browser.touchEndEvent, _this.resizeStop, _this);\n        });\n    };\n    Resize.prototype.resizing = function (e) {\n        if (e && e.type === 'touchmove') {\n            e.preventDefault();\n        }\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide();\n        }\n        if (this.parent.element.querySelectorAll('.' + cls.RESIZE_CLONE_CLASS).length === 0) {\n            this.resizeHelper();\n        }\n        if ((!isNullOrUndefined(e.target)) && e.target.classList.contains(cls.DISABLE_DATES)) {\n            return;\n        }\n        var pages = this.parent.eventBase.getPageCoordinates(e);\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear') {\n            var doc = document.documentElement;\n            var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n            var top_1 = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n            this.actionObj.pageX = pages.pageX - left;\n            this.actionObj.pageY = pages.pageY - top_1;\n        }\n        else {\n            this.actionObj.pageX = pages.pageX;\n            this.actionObj.pageY = pages.pageY;\n        }\n        this.updateScrollPosition(e);\n        this.updateResizingDirection(e);\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        var resizeArgs = {\n            cancel: false,\n            data: eventObj,\n            element: this.actionObj.element,\n            event: e,\n            startTime: this.actionObj.start,\n            endTime: this.actionObj.end\n        };\n        if (this.parent.group.resources.length > 0) {\n            resizeArgs.groupIndex = this.actionObj.groupIndex;\n        }\n        this.parent.trigger(event.resizing, resizeArgs);\n    };\n    Resize.prototype.updateResizingDirection = function (e) {\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear') {\n            this.monthResizing();\n            return;\n        }\n        var resizeValidation = this.resizeValidation(e);\n        if (this.resizeEdges.left) {\n            if (resizeValidation) {\n                var leftStyles = this.getLeftRightStyles(e, true);\n                if (parseInt(leftStyles.width, 10) < 1) {\n                    return;\n                }\n                for (var _i = 0, _a = this.actionObj.cloneElement; _i < _a.length; _i++) {\n                    var cloneElement = _a[_i];\n                    setStyleAttribute(cloneElement, leftStyles);\n                    addClass([cloneElement], cls.LEFT_RESIZE_HANDLER);\n                }\n            }\n            this.horizontalResizing(!this.parent.enableRtl);\n        }\n        if (this.resizeEdges.right) {\n            if (resizeValidation) {\n                var rightStyles = this.getLeftRightStyles(e, false);\n                if (parseInt(rightStyles.width, 10) < 1) {\n                    return;\n                }\n                for (var _b = 0, _c = this.actionObj.cloneElement; _b < _c.length; _b++) {\n                    var cloneElement = _c[_b];\n                    setStyleAttribute(cloneElement, rightStyles);\n                    addClass([cloneElement], cls.RIGHT_RESIZE_HANDLER);\n                }\n            }\n            this.horizontalResizing(this.parent.enableRtl);\n        }\n        if (this.resizeEdges.top) {\n            if (resizeValidation) {\n                var topStyles = this.getTopBottomStyles(e, true);\n                if (parseInt(topStyles.height, 10) < 1) {\n                    return;\n                }\n                for (var _d = 0, _e = this.actionObj.cloneElement; _d < _e.length; _d++) {\n                    var cloneElement = _e[_d];\n                    setStyleAttribute(cloneElement, topStyles);\n                    addClass([cloneElement], cls.TOP_RESIZE_HANDLER);\n                }\n            }\n            this.verticalResizing(true);\n        }\n        if (this.resizeEdges.bottom) {\n            if (resizeValidation) {\n                var bottomStyles = this.getTopBottomStyles(e, false);\n                if (parseInt(bottomStyles.height, 10) < 1) {\n                    return;\n                }\n                for (var _f = 0, _g = this.actionObj.cloneElement; _f < _g.length; _f++) {\n                    var cloneElement = _g[_f];\n                    setStyleAttribute(cloneElement, bottomStyles);\n                    addClass([cloneElement], cls.BOTTOM_RESIZE_HANDLER);\n                }\n            }\n            this.verticalResizing(false);\n        }\n    };\n    Resize.prototype.monthResizing = function () {\n        this.removeCloneElement();\n        if (isNullOrUndefined(this.actionObj.pageX) || isNullOrUndefined(this.actionObj.pageY)) {\n            return;\n        }\n        var td = document.elementFromPoint(this.actionObj.pageX, this.actionObj.pageY);\n        if (isNullOrUndefined(td)) {\n            return;\n        }\n        var resizeTime = this.parent.getDateFromElement(td);\n        var isSameCell = this.parent.activeViewOptions.group.resources.length > 0 ?\n            parseInt(td.getAttribute('data-group-index'), 10) === this.actionObj.groupIndex : true;\n        var startTime = new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime());\n        var endTime = new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());\n        if ((!this.parent.enableRtl && this.resizeEdges.left) || (this.parent.enableRtl && this.resizeEdges.right)\n            || this.resizeEdges.top) {\n            startTime = resizeTime;\n        }\n        else if ((!this.parent.enableRtl && this.resizeEdges.right) || (this.parent.enableRtl && this.resizeEdges.left)\n            || this.resizeEdges.bottom) {\n            endTime = util.addDays(resizeTime, 1);\n        }\n        if (isSameCell && startTime < endTime) {\n            this.actionObj.start = startTime;\n            this.actionObj.end = endTime;\n            var event_1 = this.getUpdatedEvent(this.actionObj.start, this.actionObj.end, this.actionObj.event);\n            if (this.parent.currentView === 'TimelineYear') {\n                this.yearEventsRendering(event_1);\n            }\n            else {\n                this.dynamicEventsRendering(event_1);\n            }\n            this.updateOriginalElement(this.actionObj.clone);\n        }\n    };\n    Resize.prototype.yearEventsRendering = function (event) {\n        var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n        for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n            var wrapper = eventWrappers_1[_i];\n            remove(wrapper);\n        }\n        var endDate = new Date(event[this.parent.eventFields.endTime]);\n        var monthDiff = 0;\n        if (this.parent.activeViewOptions.group.resources.length === 0) {\n            monthDiff = this.getMonthDiff(event[this.parent.eventFields.startTime], util.addDays(endDate, -1));\n        }\n        for (var i = 0; i <= monthDiff; i++) {\n            var eventObj = void 0;\n            if (this.parent.activeViewOptions.group.resources.length === 0) {\n                eventObj = this.getEventCount(event, this.actionObj.start.getMonth() + i);\n            }\n            else {\n                eventObj = extend({}, event, null, true);\n                endDate = this.resizeEdges.left || this.resizeEdges.right ? util.addDays(endDate, -1) : endDate;\n                eventObj.count = this.getMonthDiff(event[this.parent.eventFields.startTime], endDate) + 1;\n            }\n            this.dynamicYearlyEventsRendering(eventObj, true);\n        }\n    };\n    Resize.prototype.getMonthDiff = function (startDate, endDate) {\n        var months;\n        months = (endDate.getFullYear() - startDate.getFullYear()) * 12;\n        months -= startDate.getMonth();\n        months += endDate.getMonth();\n        return months <= 0 ? 0 : months;\n    };\n    Resize.prototype.getEventCount = function (eventObj, month) {\n        var eventData = extend({}, eventObj, null, true);\n        var eventStart = eventData[this.parent.eventFields.startTime];\n        var eventEnd = eventData[this.parent.eventFields.endTime];\n        var monthStart = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n        var monthEnd = util.addDays(new Date(this.parent.selectedDate.getFullYear(), month + 1, 0), 1);\n        var count = 1;\n        if (eventStart.getTime() < monthStart.getTime()) {\n            eventData[this.parent.eventFields.startTime] = monthStart;\n        }\n        if (eventEnd.getTime() > monthEnd.getTime()) {\n            eventData[this.parent.eventFields.endTime] = monthEnd;\n        }\n        if (this.parent.activeViewOptions.group.resources.length === 0) {\n            count = Math.ceil((eventData[this.parent.eventFields.endTime].getTime() -\n                eventData[this.parent.eventFields.startTime].getTime()) / util.MS_PER_DAY);\n        }\n        eventData.count = count;\n        return eventData;\n    };\n    Resize.prototype.resizeStop = function (e) {\n        var _this = this;\n        EventHandler.remove(document, Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(document, Browser.touchEndEvent, this.resizeStop);\n        clearInterval(this.actionObj.scrollInterval);\n        this.actionObj.scrollInterval = null;\n        this.removeCloneElementClasses();\n        this.removeCloneElement();\n        this.actionClass('removeClass');\n        this.parent.uiStateValues.action = this.parent.uiStateValues.isTapHold = false;\n        var resizeArgs = { cancel: false, data: this.getChangedData(), element: this.actionObj.element, event: e };\n        this.parent.trigger(event.resizeStop, resizeArgs, function (resizeEventArgs) {\n            if (resizeEventArgs.cancel) {\n                return;\n            }\n            if (_this.parent.isSpecificResourceEvents()) {\n                _this.parent.crudModule.crudObj.sourceEvent =\n                    [_this.parent.resourceBase.lastResourceLevel[parseInt(resizeEventArgs.element.getAttribute('data-group-index'), 10)]];\n                _this.parent.crudModule.crudObj.targetEvent = _this.parent.crudModule.crudObj.sourceEvent;\n                _this.parent.crudModule.crudObj.isCrudAction = true;\n            }\n            _this.saveChangedData(resizeEventArgs);\n        });\n    };\n    Resize.prototype.verticalResizing = function (isTop) {\n        var offsetValue = this.actionObj.clone.offsetTop;\n        if (!isTop) {\n            offsetValue += this.actionObj.clone.offsetHeight;\n        }\n        var minutes = (offsetValue / this.actionObj.cellHeight) * this.actionObj.slotInterval;\n        var element = this.actionObj.clone.offsetParent;\n        if (isNullOrUndefined(element)) {\n            return;\n        }\n        var resizeTime = util.resetTime(this.parent.getDateFromElement(element));\n        resizeTime.setHours(this.parent.activeView.getStartHour().getHours());\n        resizeTime.setMinutes(minutes + this.parent.activeView.getStartHour().getMinutes());\n        if (isTop) {\n            this.actionObj.start = this.calculateIntervalTime(resizeTime);\n        }\n        else {\n            this.actionObj.end = this.calculateIntervalTime(resizeTime);\n        }\n        this.updateTimePosition(resizeTime);\n    };\n    Resize.prototype.horizontalResizing = function (isLeft) {\n        var eventStart = new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime());\n        var eventEnd = new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());\n        var resizeTime;\n        var isDateHeader = false;\n        var headerName = this.parent.currentView;\n        var isTimeViews = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek'].indexOf(this.parent.currentView) > -1;\n        var isTimelineMonth = this.parent.currentView === 'TimelineMonth';\n        var isWithoutScale = isTimelineMonth || isTimeViews && !this.parent.activeViewOptions.timeScale.enable;\n        if (this.parent.activeView.isTimelineView()) {\n            var tr = this.parent.getContentTable().querySelector('tr');\n            if (this.parent.activeViewOptions.headerRows.length > 0) {\n                var rows = this.parent.activeViewOptions.headerRows.map(function (row) { return row.option; });\n                headerName = rows.slice(-1)[0];\n                if (isTimelineMonth && headerName === 'Hour') {\n                    headerName = rows.slice(-2)[0] || 'Month';\n                }\n            }\n            resizeTime = isLeft ? eventStart : eventEnd;\n            var cellIndex = 0;\n            var tdCollections = [].slice.call(tr.children);\n            var isLastCell = false;\n            var pixelsPerMinute = this.actionObj.cellWidth / (this.parent.activeViewOptions.timeScale.interval /\n                this.parent.activeViewOptions.timeScale.slotCount);\n            var offset = parseFloat(this.parent.enableRtl ? this.actionObj.clone.style.right :\n                this.actionObj.clone.style.left);\n            offset = Math.round(offset / pixelsPerMinute) * pixelsPerMinute;\n            if (['Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1) {\n                var noOfDays = 0;\n                for (var _i = 0, tdCollections_2 = tdCollections; _i < tdCollections_2.length; _i++) {\n                    var td = tdCollections_2[_i];\n                    noOfDays += parseInt(td.getAttribute('colspan'), 10);\n                }\n                var offsetValue = this.parent.enableRtl ? parseInt(this.actionObj.clone.style.right, 10) :\n                    parseInt(this.actionObj.clone.style.left, 10);\n                offsetValue = Math.round(offsetValue / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n                if (!isLeft) {\n                    offsetValue += (util.getElementWidth(this.actionObj.clone) - this.actionObj.cellWidth);\n                }\n                cellIndex = Math.floor(offsetValue / Math.floor(util.getElementWidth(tr) / noOfDays));\n                isDateHeader = isTimeViews && headerName === 'Date';\n                cellIndex = isLeft ? cellIndex : isTimelineMonth ? cellIndex + 1 : cellIndex;\n                isLastCell = cellIndex === tdCollections.length;\n                cellIndex = (cellIndex < 0) ? 0 : (cellIndex >= noOfDays) ? noOfDays - 1 : cellIndex;\n            }\n            else {\n                var cellWidth = this.actionObj.cellWidth;\n                cellIndex = isLeft ? Math.floor(offset / this.actionObj.cellWidth) :\n                    Math.ceil((offset + (util.getElementWidth(this.actionObj.clone) - cellWidth)) / this.actionObj.cellWidth);\n                if (this.parent.enableRtl) {\n                    var cellOffsetWidth = 0;\n                    if (headerName === 'TimelineMonth' || (!this.parent.activeViewOptions.timeScale.enable &&\n                        !isTimelineMonth)) {\n                        cellOffsetWidth = this.actionObj.cellWidth;\n                    }\n                    var offsetWidth = (Math.floor(offset / this.actionObj.cellWidth) *\n                        this.actionObj.cellWidth) + (isLeft ? 0 : util.getElementWidth(this.actionObj.clone) - cellOffsetWidth);\n                    cellIndex = Math.floor(offsetWidth / this.actionObj.cellWidth);\n                }\n                isLastCell = cellIndex === tdCollections.length;\n                cellIndex = this.getIndex(cellIndex);\n            }\n            var resizeDate = void 0;\n            if (['Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1) {\n                resizeDate = new Date(this.parent.activeView.renderDates[parseInt(cellIndex.toString(), 10)].getTime());\n            }\n            else {\n                resizeDate = this.parent.getDateFromElement(tr.children[parseInt(cellIndex.toString(), 10)]);\n            }\n            if (['TimelineMonth', 'Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1 ||\n                !this.parent.activeViewOptions.timeScale.enable) {\n                resizeTime = new Date(resizeDate.setHours(resizeTime.getHours(), resizeTime.getMinutes(), resizeTime.getSeconds()));\n            }\n            else {\n                if (!isLeft) {\n                    offset += util.getElementWidth(this.actionObj.clone);\n                }\n                var spanMinutes = Math.ceil((this.actionObj.slotInterval / this.actionObj.cellWidth) *\n                    (offset - Math.floor(offset / this.actionObj.cellWidth) * this.actionObj.cellWidth));\n                spanMinutes = (isLastCell || (!isLeft && spanMinutes === 0)) ? this.actionObj.slotInterval : spanMinutes;\n                resizeTime = new Date(resizeDate.getTime());\n                resizeTime.setMinutes(resizeTime.getMinutes() + spanMinutes);\n                this.updateTimePosition(resizeTime);\n            }\n        }\n        else {\n            var cloneIndex = closest(this.actionObj.clone, 'td').cellIndex;\n            var originalWidth = Math.ceil((isLeft ? util.getElementWidth(this.actionObj.element) : 0) /\n                this.actionObj.cellWidth) * this.actionObj.cellWidth;\n            var noOfDays = Math.ceil((util.getElementWidth(this.actionObj.clone) - originalWidth) /\n                this.actionObj.cellWidth);\n            var tr = closest(this.actionObj.clone, 'tr');\n            var dayIndex = isLeft ? cloneIndex - noOfDays : cloneIndex + noOfDays - 1;\n            dayIndex = this.getIndex(dayIndex);\n            resizeTime = this.parent.getDateFromElement(tr.children[parseInt(dayIndex.toString(), 10)]);\n            if (isLeft) {\n                resizeTime.setHours(eventStart.getHours(), eventStart.getMinutes(), eventStart.getSeconds());\n            }\n            else {\n                resizeTime.setHours(eventEnd.getHours(), eventEnd.getMinutes(), eventEnd.getSeconds());\n            }\n        }\n        var isNotHourSlot = ['TimelineMonth', 'Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1 ||\n            !this.parent.activeViewOptions.timeScale.enable;\n        if (isLeft) {\n            if ((eventEnd.getTime() - resizeTime.getTime()) <= 0) {\n                resizeTime = isWithoutScale ? util.resetTime(eventEnd) : eventStart;\n            }\n            this.actionObj.start = !isNotHourSlot ? this.calculateIntervalTime(resizeTime) : resizeTime;\n        }\n        else {\n            var isTimeScaleViews = isTimeViews && this.parent.activeViewOptions.timeScale.enable;\n            var resizeEnd = ((!isTimeScaleViews || isDateHeader || isTimeViews && ['Week', 'Month', 'Year'].indexOf(headerName) > -1)\n                && resizeTime.getHours() === 0 && resizeTime.getMinutes() === 0) ? util.addDays(resizeTime, 1) : resizeTime;\n            if (isWithoutScale && (resizeEnd.getTime() - eventStart.getTime()) <= 0) {\n                resizeEnd = util.addDays(util.resetTime(eventStart), 1);\n            }\n            this.actionObj.end = !isNotHourSlot ? this.calculateIntervalTime(resizeEnd) : resizeEnd;\n        }\n    };\n    Resize.prototype.getTopBottomStyles = function (e, isTop) {\n        var viewElement = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var slotInterval = (this.actionObj.cellHeight / this.actionObj.slotInterval) * this.actionObj.interval;\n        var clnHeight = isTop ? this.actionObj.element.offsetHeight + (this.actionObj.Y - this.actionObj.pageY) :\n            this.actionObj.element.offsetHeight + (this.actionObj.pageY - this.actionObj.Y);\n        var clnTop = isTop ? this.actionObj.element.offsetTop -\n            (this.actionObj.Y - this.actionObj.pageY) : this.actionObj.clone.offsetTop;\n        clnHeight = (clnTop < 0) ? this.actionObj.clone.offsetHeight :\n            (this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight) > this.scrollArgs.height ?\n                this.actionObj.clone.offsetHeight : clnHeight;\n        clnTop = (clnTop < 0) ? 0 : clnTop;\n        clnTop = isTop ? Math.floor(clnTop / slotInterval) * slotInterval : clnTop;\n        clnHeight = clnTop + clnHeight >= viewElement.scrollHeight ? viewElement.scrollHeight - clnTop :\n            Math.ceil(clnHeight / slotInterval) * slotInterval;\n        if (!isTop && this.actionObj.clone.offsetTop + clnHeight >= this.parent.getContentTable().offsetHeight) {\n            clnHeight = this.parent.getContentTable().offsetHeight - this.actionObj.clone.offsetTop;\n        }\n        var styles = {\n            height: formatUnit(clnHeight < this.actionObj.cellHeight ? Math.floor(clnHeight / slotInterval) * slotInterval : clnHeight),\n            top: formatUnit((clnHeight < this.actionObj.cellHeight && isTop) ? Math.ceil(clnTop / slotInterval) * slotInterval : clnTop),\n            left: '0px', right: '0px', width: '100%'\n        };\n        return styles;\n    };\n    Resize.prototype.getLeftRightStyles = function (e, isLeft) {\n        var styles = {};\n        var isTimelineView = this.parent.activeView.isTimelineView();\n        var isTimeViews = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek'].indexOf(this.parent.currentView) > -1 &&\n            this.parent.activeViewOptions.timeScale.enable;\n        var slotInterval = (this.actionObj.cellWidth / this.actionObj.slotInterval) * this.actionObj.interval;\n        var pageWidth = isLeft ? (this.actionObj.X - this.actionObj.pageX) : (this.actionObj.pageX - this.actionObj.X);\n        var targetWidth = isTimelineView ?\n            (util.getElementWidth(this.actionObj.element) / this.actionObj.cellWidth) * this.actionObj.cellWidth :\n            this.parent.currentView === 'Month' ? util.getElementWidth(this.actionObj.element) :\n                Math.ceil(util.getElementWidth(this.actionObj.element) / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n        var offsetWidth = targetWidth + (Math.ceil(pageWidth / this.actionObj.cellWidth) * this.actionObj.cellWidth);\n        var left = (this.parent.enableRtl) ? parseInt(this.actionObj.element.style.right, 10) : this.actionObj.clone.offsetLeft;\n        if (isTimeViews) {\n            offsetWidth = targetWidth + (Math.ceil(pageWidth / slotInterval) * slotInterval);\n            if (!isLeft) {\n                var roundedLeft = (+parseFloat(this.actionObj.element.style[this.parent.enableRtl ? 'right' : 'left'])).toFixed(1);\n                var roundedWidth = Math.round(targetWidth / slotInterval) * slotInterval;\n                if (roundedLeft !== left.toFixed(1) || roundedWidth !== targetWidth) {\n                    offsetWidth = (Math.round((left + offsetWidth) / slotInterval) * slotInterval) - left;\n                }\n            }\n            this.actionObj.event[this.parent.eventFields.isAllDay] = false;\n        }\n        var width = !isLeft && ((offsetWidth + this.actionObj.clone.offsetLeft > this.scrollArgs.width)) ?\n            util.getElementWidth(this.actionObj.clone) : (offsetWidth < this.actionObj.cellWidth) ? offsetWidth : offsetWidth;\n        if (this.parent.enableRtl) {\n            var rightValue = isTimelineView ? parseInt(this.actionObj.element.style.right, 10) :\n                -(offsetWidth - this.actionObj.cellWidth);\n            rightValue = isTimelineView ? rightValue : isLeft ? 0 : rightValue > 0 ? 0 : rightValue;\n            if (isTimelineView && !isLeft) {\n                rightValue = rightValue - (Math.ceil((this.actionObj.pageX - this.actionObj.X) / slotInterval) * slotInterval);\n                if (rightValue < 0) {\n                    rightValue = parseInt(this.actionObj.clone.style.right, 10);\n                    width = parseInt(this.actionObj.clone.style.width, 10);\n                }\n            }\n            rightValue = rightValue >= this.scrollArgs.width ? this.scrollArgs.width - this.actionObj.cellWidth : rightValue;\n            styles.right = formatUnit(rightValue);\n            width = width + rightValue > this.scrollArgs.width ? util.getElementWidth(this.actionObj.clone) : width;\n        }\n        else {\n            var offsetLeft = isLeft ? this.actionObj.element.offsetLeft - (this.actionObj.X - this.actionObj.pageX) :\n                this.parent.enableRtl ? this.actionObj.element.offsetLeft : 0;\n            if (isTimelineView) {\n                offsetLeft = isLeft ? offsetLeft : parseInt(this.actionObj.clone.style.left, 10);\n                if (this.parent.enableRtl) {\n                    offsetLeft = !isLeft ? (this.actionObj.pageX < this.actionObj.X - util.getElementWidth(this.actionObj.clone))\n                        ? parseInt(this.actionObj.clone.style.right, 10) : offsetLeft : offsetLeft;\n                }\n                else {\n                    offsetLeft = isLeft ? (this.actionObj.pageX > this.actionObj.X + util.getElementWidth(this.actionObj.clone) &&\n                        util.getElementWidth(this.actionObj.clone) === this.actionObj.cellWidth) ?\n                        parseInt(this.actionObj.clone.style.left, 10) : offsetLeft : offsetLeft;\n                }\n            }\n            var leftValue = offsetLeft;\n            offsetLeft = isTimelineView ? isTimeViews ? isLeft ? this.actionObj.element.offsetLeft -\n                (Math.ceil((this.actionObj.element.offsetLeft - offsetLeft) / slotInterval) * slotInterval) : offsetLeft :\n                Math.floor(offsetLeft / this.actionObj.cellWidth) * this.actionObj.cellWidth :\n                Math.ceil(Math.abs(offsetLeft) / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n            if (offsetLeft < 0) {\n                if (isTimelineView && isLeft && (offsetLeft % slotInterval)) {\n                    offsetLeft = parseInt(this.actionObj.clone.style.left, 10);\n                    width = parseInt(this.actionObj.clone.style.width, 10);\n                }\n                else {\n                    offsetLeft = 0;\n                    width = util.getElementWidth(this.actionObj.clone);\n                }\n            }\n            var cloneWidth = Math.ceil(util.getElementWidth(this.actionObj.clone) / this.actionObj.cellWidth) *\n                this.actionObj.cellWidth;\n            if (isLeft) {\n                styles.left = formatUnit(isTimelineView ? offsetLeft : isLeft ? leftValue < 0 ? -offsetLeft :\n                    (Math.ceil((targetWidth - cloneWidth) / this.actionObj.cellWidth) * this.actionObj.cellWidth) : offsetLeft);\n            }\n        }\n        styles.width = formatUnit(width);\n        return styles;\n    };\n    Resize.prototype.resizeValidation = function (e) {\n        var pages = this.parent.eventBase.getPageCoordinates(e);\n        var viewDimension = this.getContentAreaDimension();\n        var isTimeScale = this.parent.activeView.isTimelineView() && this.parent.activeViewOptions.timeScale.enable;\n        var cellWidth = this.actionObj.cellWidth;\n        var resizeValidation = false;\n        if (this.resizeEdges.left) {\n            if (pages.pageX < viewDimension.leftOffset && pages.pageX >= viewDimension.left && isTimeScale) {\n                cellWidth = 0;\n            }\n            resizeValidation = (pages.pageX - cellWidth) >= viewDimension.left;\n        }\n        if (this.resizeEdges.right) {\n            if (pages.pageX > viewDimension.rightOffset && pages.pageX <= viewDimension.right && isTimeScale) {\n                cellWidth = 0;\n            }\n            resizeValidation = (pages.pageX + cellWidth) <= viewDimension.right;\n        }\n        if (this.resizeEdges.top) {\n            resizeValidation = this.actionObj.clone.offsetTop >= viewDimension.top;\n        }\n        if (this.resizeEdges.bottom) {\n            resizeValidation = (this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight) <= this.scrollArgs.height;\n        }\n        return resizeValidation;\n    };\n    /**\n     * Get module name\n     *\n     * @returns {string} Returns the module name..\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    return Resize;\n}(ActionBase));\nexport { Resize };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}