{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../stepper-base/stepper-base-model.d.ts'/>\nimport { attributes, NotifyPropertyChanges, L10n, append, isNullOrUndefined, getUniqueID, Complex, KeyboardEvents, ChildProperty, Property, EventHandler, Event, addClass, remove, removeClass, initializeCSPTemplate, select, compile } from '@syncfusion/ej2-base';\nimport { StepperBase, StepStatus } from '../stepper-base/stepper-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nvar ITEMCONTAINER = 'e-step-container';\nvar ITEMLIST = 'e-stepper-steps';\nvar ICONCSS = 'e-indicator';\nvar TEXTCSS = 'e-step-text-container';\nvar STEPLABEL = 'e-step-label-container';\nvar OPTIONAL = 'e-step-label-optional';\nvar SELECTED = 'e-step-selected';\nvar INPROGRESS = 'e-step-inprogress';\nvar NOTSTARTED = 'e-step-notstarted';\nvar FOCUS = 'e-step-focus';\nvar COMPLETED = 'e-step-completed';\nvar DISABLED = 'e-step-disabled';\nvar READONLY = 'e-stepper-readonly';\nvar PROGRESSVALUE = '--progress-value';\nvar RTL = 'e-rtl';\nvar TEMPLATE = 'e-step-template';\nvar LABELAFTER = 'e-label-after';\nvar LABELBEFORE = 'e-label-before';\nvar VERTICALSTEP = 'e-vertical';\nvar HORIZSTEP = 'e-horizontal';\nvar STEPICON = 'e-step-item';\nvar STEPTEXT = 'e-step-text';\nvar TEXT = 'e-text';\nvar STEPSLABEL = 'e-step-label';\nvar LABEL = 'e-label';\nvar STEPINDICATOR = 'e-step-type-indicator';\nvar LABELINDICATOR = 'e-step-type-label';\nvar INDICATORICON = 'e-step-indicator';\nvar STEPPERTOOLTIP = 'e-stepper-tooltip';\nvar STEPPERIPROGRESSTIP = 'e-step-inprogress-tip';\n/**\n * Defines the step progress animation of the Stepper.\n */\nvar StepperAnimationSettings = /** @class */function (_super) {\n  __extends(StepperAnimationSettings, _super);\n  function StepperAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(true)], StepperAnimationSettings.prototype, \"enable\", void 0);\n  __decorate([Property(2000)], StepperAnimationSettings.prototype, \"duration\", void 0);\n  __decorate([Property(0)], StepperAnimationSettings.prototype, \"delay\", void 0);\n  return StepperAnimationSettings;\n}(ChildProperty);\nexport { StepperAnimationSettings };\n/**\n * Defines the label position in the Stepper.\n */\nexport var StepLabelPosition;\n(function (StepLabelPosition) {\n  /**\n   * Displays the label on top position regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"Top\"] = \"Top\";\n  /**\n   * Displays the label on bottom position regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"Bottom\"] = \"Bottom\";\n  /**\n   * Displays the label on left side regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"Start\"] = \"Start\";\n  /**\n   * Displays the label on right side regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"End\"] = \"End\";\n})(StepLabelPosition || (StepLabelPosition = {}));\n/**\n * Defines whether steps are display with only indicator, only labels or combination of both.\n */\nexport var StepType;\n(function (StepType) {\n  /**\n   * Steps are shown indicator with label defined.\n   */\n  StepType[\"Default\"] = \"Default\";\n  /**\n   * Steps are shown with only label.\n   */\n  StepType[\"Label\"] = \"Label\";\n  /**\n   * Steps are shown with only indicator.\n   */\n  StepType[\"Indicator\"] = \"Indicator\";\n})(StepType || (StepType = {}));\n/**\n * The Stepper component visualizes several steps and indicates the current progress by highlighting already completed steps.\n *\n * ```html\n * <nav id=\"stepper\"></nav>\n * ```\n * ```typescript\n * <script>\n *   let stepperObj: Stepper = new Stepper({steps : [{}, {}, {}, {}, {}]});\n *   stepperObj.appendTo('#stepper');\n * </script>\n * ```\n */\nvar Stepper = /** @class */function (_super) {\n  __extends(Stepper, _super);\n  /**\n   * * Constructor for creating the Stepper component.\n   *\n   * @param {StepperModel} options - Specifies the Stepper model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function Stepper(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.stepperItemElements = [];\n    return _this;\n  }\n  Stepper.prototype.preRender = function () {\n    if (!this.element.id) {\n      this.element.id = getUniqueID('e-' + this.getModuleName());\n    }\n    var localeText = {\n      optional: 'Optional'\n    };\n    this.l10n = new L10n('stepper', localeText, this.locale);\n    this.keyConfigs = {\n      downarrow: 'downarrow',\n      leftarrow: 'leftarrow',\n      rightarrow: 'rightarrow',\n      uparrow: 'uparrow',\n      space: 'space',\n      enter: 'enter',\n      home: 'home',\n      end: 'end',\n      tab: 'tab',\n      shiftTab: 'shift+tab',\n      escape: 'escape'\n    };\n    this.tooltipOpen = false;\n  };\n  /**\n   * To get component name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n  Stepper.prototype.getModuleName = function () {\n    return 'stepper';\n  };\n  Stepper.prototype.render = function () {\n    this.initialize();\n    this.navigationHandler(this.activeStep, null, false);\n    this.updateStepperStatus(true);\n  };\n  Stepper.prototype.initialize = function () {\n    var _this = this;\n    this.element.setAttribute('aria-label', this.element.id);\n    this.updatePosition();\n    this.stepperItemList = this.createElement('ol', {\n      className: ITEMLIST\n    });\n    this.updateOrientaion(this.element);\n    this.updateStepType();\n    this.element.appendChild(this.stepperItemList);\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.trim().split(' '));\n    }\n    if (this.readOnly) {\n      this.element.classList.add(READONLY);\n    }\n    if (this.enableRtl) {\n      this.element.classList.add(RTL);\n    }\n    this.wireEvents();\n    this.updateTemplateFunction();\n    this.renderItems();\n    if (this.steps.length > 0) {\n      if (this.steps.length > 1) {\n        if (this.isAngular && this.template) {\n          setTimeout(function () {\n            _this.renderProgressBar(_this.element);\n          });\n        } else {\n          this.renderProgressBar(this.element);\n        }\n      }\n      this.checkValidStep();\n      this.updateAnimation();\n      this.updateTooltip();\n      this.wireKeyboardEvent();\n    }\n  };\n  Stepper.prototype.updatePosition = function () {\n    this.progressBarPosition = this.beforeLabelWidth = this.textEleWidth = 0;\n  };\n  Stepper.prototype.renderDefault = function (index) {\n    return !this.steps[parseInt(index.toString(), 10)].iconCss && !this.steps[parseInt(index.toString(), 10)].text && !this.steps[parseInt(index.toString(), 10)].label ? true : false;\n  };\n  Stepper.prototype.updateAnimation = function () {\n    var progressEle = this.element.querySelector('.e-progressbar-value');\n    if (this.animation.enable) {\n      if (this.animation.duration >= 0) {\n        if (progressEle) {\n          progressEle.style.setProperty('--duration', this.animation.duration + 'ms');\n        }\n      }\n      if (this.animation.delay >= 0) {\n        if (progressEle) {\n          progressEle.style.setProperty('--delay', this.animation.delay + 'ms');\n        }\n      }\n    } else {\n      if (progressEle) {\n        progressEle.style.setProperty('--delay', 0 + 'ms');\n        progressEle.style.setProperty('--duration', 0 + 'ms');\n      }\n    }\n  };\n  Stepper.prototype.updateStepType = function () {\n    if (!isNullOrUndefined(this.stepType) && (this.stepType.toLowerCase() === 'indicator' || this.stepType.toLowerCase() === 'label' || this.stepType.toLowerCase() === 'default')) {\n      if (this.stepType.toLowerCase() !== 'default') {\n        this.element.classList.add('e-step-type-' + this.stepType.toLowerCase());\n      }\n      if ((this.stepType.toLowerCase() === 'indicator' || 'label') && this.labelContainer) {\n        this.clearLabelPosition();\n      }\n    }\n  };\n  Stepper.prototype.wireEvents = function () {\n    var _this = this;\n    EventHandler.add(window, 'resize', function () {\n      if (_this.stepperItemList && _this.progressbar && _this.element.classList.contains(HORIZSTEP)) {\n        _this.setProgressPosition(_this.element, true);\n      }\n    }, this);\n    EventHandler.add(window, 'click', function () {\n      _this.updateStepFocus();\n    }, this);\n  };\n  Stepper.prototype.updateStepFocus = function () {\n    if (this.isKeyNavFocus) {\n      this.isKeyNavFocus = false;\n      var isFocus = this.element.querySelector('.' + FOCUS);\n      if (isFocus) {\n        isFocus.classList.remove(FOCUS);\n        this.element.classList.remove('e-steps-focus');\n      }\n    }\n  };\n  Stepper.prototype.updateStepperStatus = function (isInitial) {\n    for (var index = 0; index < this.steps.length; index++) {\n      var item = this.steps[parseInt(index.toString(), 10)];\n      var status_1 = item.status.toLowerCase();\n      if (isInitial && this.activeStep === 0 && index === 0) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        item.status = StepStatus.InProgress;\n        this.isProtectedOnChange = prevOnChange;\n      }\n      if (item && status_1 !== 'notstarted' && index === this.activeStep) {\n        for (var i = 0; i < this.steps.length; i++) {\n          var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n          itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          if (status_1 === 'completed') {\n            this.updateStatusClass(i, index, itemElement);\n          } else {\n            this.updateStatusClass(i, index, itemElement, true);\n          }\n          this.isProtectedOnChange = prevOnChange;\n        }\n      } else if (item && status_1 !== 'notstarted' && index !== this.activeStep) {\n        this.navigationHandler(this.activeStep, null, true);\n      }\n    }\n  };\n  Stepper.prototype.updateStatusClass = function (currentStep, index, ele, isInprogress) {\n    var stepItem = this.steps[parseInt(currentStep.toString(), 10)];\n    if (currentStep < index) {\n      ele.classList.add(COMPLETED);\n      stepItem.status = StepStatus.Completed;\n    } else if (currentStep === index) {\n      ele.classList.add(isInprogress ? INPROGRESS : COMPLETED, SELECTED);\n    } else {\n      ele.classList.add(NOTSTARTED);\n    }\n  };\n  Stepper.prototype.renderItems = function () {\n    var _this = this;\n    for (var index = 0; index < this.steps.length; index++) {\n      this.stepperItemContainer = this.createElement('li', {\n        className: ITEMCONTAINER\n      });\n      this.stepperItemContainer.classList[index === 0 ? 'add' : 'remove'](SELECTED, INPROGRESS);\n      this.stepperItemContainer.classList[index !== 0 ? 'add' : 'remove'](NOTSTARTED);\n      if (this.element.classList.contains(HORIZSTEP)) {\n        this.stepperItemContainer.style.setProperty('--max-width', 100 / this.steps.length + '%');\n      }\n      var stepSpan = this.createElement('span', {\n        className: 'e-step'\n      });\n      var item = this.steps[parseInt(index.toString(), 10)];\n      if (this.renderDefault(index) && (isNullOrUndefined(this.template) || this.template === '')) {\n        var isIndicator = !this.element.classList.contains('e-step-type-default') && this.stepType.toLowerCase() === 'indicator' ? true : false;\n        if (isIndicator) {\n          stepSpan.classList.add('e-icons', INDICATORICON);\n        }\n        if (!isIndicator && item.isValid == null) {\n          stepSpan.classList.add('e-step-content');\n          stepSpan.innerHTML = (index + 1).toString();\n        }\n        this.stepperItemContainer.appendChild(stepSpan);\n      } else if (isNullOrUndefined(this.template) || this.template === '') {\n        var isRender = true;\n        if ((item.iconCss || !item.iconCss && item.text && item.label) && (!item.text && !item.label || !this.element.classList.contains(LABELINDICATOR))) {\n          if (item.iconCss) {\n            var itemIcon = item.iconCss.trim().split(' ');\n            stepSpan.classList.add(ICONCSS);\n            for (var i = 0; i < itemIcon.length; i++) {\n              stepSpan.classList.add(itemIcon[parseInt(i.toString(), 10)]);\n            }\n            this.stepperItemContainer.classList.add(STEPICON);\n          } else if (!item.iconCss && item.text && item.label) {\n            stepSpan.classList.add(ICONCSS);\n            stepSpan.innerHTML = item.text;\n            this.stepperItemContainer.classList.add(STEPICON);\n          }\n          this.stepperItemContainer.appendChild(stepSpan);\n          if (this.element.classList.contains(HORIZSTEP) && (this.labelPosition.toLowerCase() === 'start' || this.labelPosition.toLowerCase() === 'end') && item.label || this.element.classList.contains(VERTICALSTEP) && (this.labelPosition.toLowerCase() === 'top' || this.labelPosition.toLowerCase() === 'bottom') && item.label) {\n            this.element.classList.add('e-label-' + this.labelPosition.toLowerCase());\n            var textSpan = this.createElement('span', {\n              className: TEXTCSS + ' ' + TEXT\n            });\n            textSpan.innerText = item.label;\n            this.stepperItemContainer.appendChild(textSpan);\n            this.stepperItemContainer.classList.add(STEPTEXT);\n            isRender = false;\n          }\n        }\n        if (item.text && (!item.iconCss || !this.element.classList.contains(STEPINDICATOR)) && isRender && !(item.iconCss && item.label)) {\n          if (!item.iconCss && this.element.classList.contains(STEPINDICATOR) || (!item.iconCss || this.element.classList.contains(LABELINDICATOR)) && !item.label) {\n            if (!item.iconCss && !item.label) {\n              this.element.classList.add('e-step-type-indicator');\n            }\n            this.checkValidState(item, stepSpan);\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            item.label = null;\n            this.isProtectedOnChange = prevOnChange;\n          } else {\n            var textSpan = this.createElement('span', {\n              className: TEXT\n            });\n            if (!item.label) {\n              textSpan.innerText = item.text;\n              textSpan.classList.add(TEXTCSS);\n              this.stepperItemContainer.appendChild(textSpan);\n              this.stepperItemContainer.classList.add(STEPTEXT);\n            }\n            if (item.label && this.element.classList.contains(LABELINDICATOR)) {\n              textSpan.innerText = item.label;\n            }\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            item.text = item.label ? null : item.text;\n            this.isProtectedOnChange = prevOnChange;\n          }\n        }\n        if (item.label && (!item.iconCss || !this.element.classList.contains(STEPINDICATOR)) && isRender) {\n          if (!item.iconCss && !item.text && this.element.classList.contains(STEPINDICATOR)) {\n            this.checkValidState(item, stepSpan, true);\n          } else if (!(this.element.classList.contains(LABELINDICATOR) && item.text) || this.element.classList.contains(LABELINDICATOR) && item.label) {\n            this.labelContainer = this.createElement('span', {\n              className: STEPLABEL\n            });\n            var labelSpan = this.createElement('span', {\n              className: LABEL\n            });\n            labelSpan.innerText = item.label;\n            this.labelContainer.appendChild(labelSpan);\n            this.stepperItemContainer.classList.add(STEPSLABEL);\n            this.updateLabelPosition();\n            if (!item.iconCss && !item.text && !this.stepperItemContainer.classList.contains(STEPICON) || this.element.classList.contains(LABELINDICATOR)) {\n              this.stepperItemContainer.classList.add('e-step-label-only');\n              if (item.isValid !== null) {\n                var iconSpan = this.createElement('span', {\n                  className: 'e-step-validation-icon e-icons'\n                });\n                this.labelContainer.appendChild(iconSpan);\n              }\n            }\n          }\n        }\n      }\n      if (item.optional) {\n        var optionalSpan = this.createElement('span', {\n          className: OPTIONAL\n        });\n        this.l10n.setLocale(this.locale);\n        var optionalContent = this.l10n.getConstant('optional');\n        optionalSpan.innerText = optionalContent;\n        if (item.label && this.labelContainer && (this.element.classList.contains(LABELAFTER) && !this.stepperItemContainer.classList.contains('e-step-label-only') || this.element.classList.contains(HORIZSTEP) && this.element.classList.contains(LABELBEFORE) && !this.stepperItemContainer.classList.contains('e-step-label-only')) || this.element.classList.contains(VERTICALSTEP) && this.element.classList.contains(LABELBEFORE)) {\n          this.labelContainer.appendChild(optionalSpan);\n        } else {\n          this.stepperItemContainer.appendChild(optionalSpan);\n        }\n        if (item.isValid !== null) {\n          this.stepperItemContainer.classList.add(item.isValid ? 'e-step-valid' : 'e-step-error');\n        }\n      }\n      if (item.cssClass) {\n        addClass([this.stepperItemContainer], item.cssClass.trim().split(' '));\n      }\n      if (item.disabled) {\n        this.stepperItemContainer.classList[item.disabled ? 'add' : 'remove'](DISABLED);\n        attributes(this.stepperItemContainer, {\n          'tabindex': '-1',\n          'aria-disabled': 'true'\n        });\n      }\n      if (item.isValid !== null) {\n        if (item.isValid) {\n          this.stepperItemContainer.classList.add('e-step-valid');\n        } else {\n          this.stepperItemContainer.classList.add('e-step-error');\n        }\n      }\n      this.renderItemContent(index, false);\n      if (this.stepperItemContainer.classList.contains(INPROGRESS)) {\n        attributes(this.stepperItemContainer, {\n          'tabindex': '0',\n          'aria-current': 'true'\n        });\n      } else {\n        attributes(this.stepperItemContainer, {\n          'tabindex': '-1'\n        });\n      }\n      this.wireItemsEvents(this.stepperItemContainer, index);\n      this.stepperItemElements.push(this.stepperItemContainer);\n      var eventArgs = {\n        element: this.stepperItemContainer,\n        index: index\n      };\n      this.trigger('beforeStepRender', eventArgs, function (args) {\n        _this.stepperItemList.appendChild(args.element);\n      });\n      if (this.isAngular && this.template) {\n        setTimeout(function () {\n          _this.calculateProgressBarPosition();\n        });\n      } else {\n        this.calculateProgressBarPosition();\n      }\n    }\n    if (this.element.classList.contains(VERTICALSTEP)) {\n      if (this.element.classList.contains(LABELBEFORE)) {\n        var listItems = this.stepperItemList.querySelectorAll('.' + LABEL);\n        for (var i = 0; i < listItems.length; i++) {\n          var labelEle = listItems[parseInt(i.toString(), 10)];\n          labelEle.style.setProperty('--label-width', this.beforeLabelWidth + 5 + 'px');\n        }\n      }\n    }\n  };\n  Stepper.prototype.calculateProgressBarPosition = function () {\n    var isBeforeLabel = this.element.classList.contains(LABELBEFORE) ? true : false;\n    var isStepVertical = this.element.classList.contains(VERTICALSTEP) ? true : false;\n    if (isStepVertical) {\n      var iconOnly = this.stepperItemContainer.classList.contains(STEPICON) && !this.stepperItemContainer.classList.contains(STEPTEXT) && !this.stepperItemContainer.classList.contains(STEPSLABEL) ? true : false;\n      var textEle = this.stepperItemContainer.querySelector('.' + TEXTCSS);\n      if (textEle) {\n        this.textEleWidth = this.textEleWidth < textEle.offsetWidth ? textEle.offsetWidth : this.textEleWidth;\n      }\n      if (isBeforeLabel) {\n        var itemWidth = void 0;\n        var labelWidth = this.stepperItemContainer.querySelector('.' + LABEL).offsetWidth + 15;\n        if (this.beforeLabelWidth < labelWidth) {\n          this.beforeLabelWidth = labelWidth;\n        }\n        if (this.element.querySelector('ol').lastChild.querySelector('.' + ICONCSS)) {\n          itemWidth = this.beforeLabelWidth + this.stepperItemContainer.querySelector('.' + ICONCSS).offsetWidth / 2;\n        } else if (this.stepperItemContainer.querySelector('.' + TEXTCSS)) {\n          itemWidth = this.beforeLabelWidth + this.stepperItemContainer.querySelector('.' + TEXTCSS).offsetWidth / 2;\n        }\n        if (this.progressBarPosition < itemWidth) {\n          this.progressBarPosition = itemWidth;\n        }\n      } else if (this.progressBarPosition < (iconOnly ? this.stepperItemContainer.offsetWidth : this.element.querySelector('ol').lastChild.firstChild.offsetWidth)) {\n        this.progressBarPosition = iconOnly ? this.stepperItemContainer.offsetWidth : this.element.querySelector('ol').lastChild.firstChild.offsetWidth;\n      }\n    }\n  };\n  Stepper.prototype.checkValidState = function (item, stepSpan, isLabel) {\n    if (item.isValid == null) {\n      stepSpan.classList.add('e-step-content');\n      if (isLabel) {\n        stepSpan.innerHTML = item.label;\n      } else {\n        stepSpan.innerHTML = item.label ? item.label : item.text;\n      }\n      this.stepperItemContainer.appendChild(stepSpan);\n    } else {\n      stepSpan.classList.add(ICONCSS);\n      this.stepperItemContainer.appendChild(stepSpan);\n      this.stepperItemContainer.classList.add(STEPICON);\n    }\n  };\n  Stepper.prototype.updateCurrentLabel = function () {\n    var currentLabelPos;\n    if (this.element.classList.contains(HORIZSTEP)) {\n      currentLabelPos = this.labelPosition.toLowerCase() === 'top' ? 'before' : this.labelPosition.toLowerCase() === 'bottom' ? 'after' : this.labelPosition.toLowerCase();\n    } else {\n      currentLabelPos = this.labelPosition.toLowerCase() === 'start' ? 'before' : this.labelPosition.toLowerCase() === 'end' ? 'after' : this.labelPosition.toLowerCase();\n    }\n    return currentLabelPos;\n  };\n  Stepper.prototype.updateLabelPosition = function () {\n    this.clearLabelPosition();\n    this.labelContainer.classList.add('e-label-' + this.updateCurrentLabel());\n    if (this.labelPosition.toLowerCase() === 'start' && this.orientation.toLowerCase() === 'vertical') {\n      if (this.stepperItemContainer.firstChild) {\n        this.stepperItemContainer.firstChild.before(this.labelContainer);\n      } else {\n        this.stepperItemContainer.appendChild(this.labelContainer);\n      }\n    } else {\n      this.stepperItemContainer.appendChild(this.labelContainer);\n    }\n    this.element.classList.add('e-label-' + this.updateCurrentLabel());\n  };\n  Stepper.prototype.clearLabelPosition = function () {\n    var removeCss = this.labelContainer.classList.value.match(/(e-label-[after|before]+)/g);\n    if (removeCss) {\n      removeClass([this.labelContainer], removeCss);\n      removeClass([this.element], removeCss);\n    }\n  };\n  Stepper.prototype.checkValidStep = function () {\n    for (var index = 0; index < this.steps.length; index++) {\n      var item = this.steps[parseInt(index.toString(), 10)];\n      var itemElement = this.stepperItemElements[parseInt(index.toString(), 10)];\n      if (item.isValid !== null) {\n        var indicatorEle = void 0;\n        var iconEle = void 0;\n        if (this.element.classList.contains(STEPINDICATOR) && !item.iconCss) {\n          indicatorEle = itemElement.querySelector('.' + ICONCSS);\n        } else {\n          iconEle = itemElement.querySelector('.' + ICONCSS);\n        }\n        if (!indicatorEle && this.element.classList.contains(STEPINDICATOR) && this.renderDefault(index)) {\n          indicatorEle = itemElement.querySelector('.' + INDICATORICON);\n        }\n        var textLabelIcon = itemElement.querySelector('.e-step-validation-icon');\n        var itemIcon = item.iconCss.trim().split(' ');\n        var validStep = itemElement.classList.contains('e-step-valid');\n        if (indicatorEle) {\n          indicatorEle.classList.remove(INDICATORICON);\n          if (indicatorEle.innerHTML !== '') {\n            indicatorEle.innerHTML = '';\n          }\n          indicatorEle.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info', ICONCSS);\n        }\n        if (this.renderDefault(index) && !this.element.classList.contains(STEPINDICATOR)) {\n          var stepSpan = itemElement.querySelector('.e-step');\n          stepSpan.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info', ICONCSS);\n        }\n        if (iconEle) {\n          if (iconEle.innerHTML !== '') {\n            iconEle.innerHTML = '';\n          } else if (itemIcon.length > 0) {\n            for (var i = 0; i < itemIcon.length; i++) {\n              iconEle.classList.remove(itemIcon[parseInt(i.toString(), 10)]);\n            }\n          }\n          iconEle.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info');\n        }\n        if (textLabelIcon) {\n          textLabelIcon.classList.add(validStep ? 'e-circle-check' : 'e-circle-info');\n          if (this.element.classList.contains(VERTICALSTEP)) {\n            var labelEle = itemElement.querySelector('.' + LABEL);\n            var textEle = itemElement.querySelector('.' + TEXT);\n            var itemWidth = textEle ? textEle.offsetWidth + textEle.getBoundingClientRect().left : labelEle.offsetWidth + labelEle.getBoundingClientRect().left;\n            var validationIcon = itemElement.querySelector('.e-step-validation-icon');\n            validationIcon.style.setProperty('--icon-position', itemWidth + 20 + 'px');\n          }\n        }\n      }\n    }\n  };\n  Stepper.prototype.updateTooltip = function () {\n    if (this.showTooltip) {\n      this.tooltipObj = new Tooltip({\n        target: '.e-step-container',\n        windowCollision: true,\n        opensOn: 'Custom',\n        cssClass: this.cssClass ? STEPPERTOOLTIP + ' ' + this.cssClass : STEPPERTOOLTIP,\n        position: 'TopCenter'\n      });\n      this.tooltipObj.appendTo(this.stepperItemList);\n    } else {\n      if (!isNullOrUndefined(this.tooltipObj)) {\n        this.tooltipObj.destroy();\n        this.tooltipObj = null;\n      }\n    }\n  };\n  Stepper.prototype.wireItemsEvents = function (itemElement, index) {\n    var _this = this;\n    EventHandler.add(itemElement, 'click', function (e) {\n      if (_this.linear) {\n        var linearModeValue = index - _this.activeStep;\n        if (Math.abs(linearModeValue) === 1) {\n          _this.stepClickHandler(index, e, itemElement);\n        }\n      } else {\n        _this.stepClickHandler(index, e, itemElement);\n      }\n    }, this);\n    EventHandler.add(itemElement, 'mouseover', function () {\n      return _this.openStepperTooltip(index);\n    }, this);\n    EventHandler.add(itemElement, 'mouseleave', function () {\n      return _this.closeStepperTooltip();\n    }, this);\n  };\n  Stepper.prototype.openStepperTooltip = function (index) {\n    var currentStep = this.steps[parseInt(index.toString(), 10)];\n    if (this.showTooltip && (currentStep.label || currentStep.text)) {\n      if (!this.tooltipOpen) {\n        this.updateTooltipContent(index);\n        this.tooltipObj.open(this.stepperItemElements[parseInt(index.toString(), 10)]);\n        if (this.stepType.toLocaleLowerCase() !== 'label' && (this.stepType.toLocaleLowerCase() === 'indicator' || currentStep.label !== '' && currentStep.iconCss !== '' || currentStep.label === null && currentStep.iconCss === '' && currentStep.text !== '')) {\n          var tooltipPopupClass = currentStep.status.toLowerCase() === 'inprogress' ? STEPPERTOOLTIP + \" \" + STEPPERIPROGRESSTIP + \" \" + (this.cssClass ? this.cssClass : '') : STEPPERTOOLTIP + \" \" + (this.cssClass ? this.cssClass : '');\n          this.tooltipObj.setProperties({\n            cssClass: tooltipPopupClass.trim()\n          });\n        }\n        this.tooltipOpen = true;\n      }\n    }\n  };\n  Stepper.prototype.closeStepperTooltip = function () {\n    if (this.tooltipOpen) {\n      this.tooltipObj.close();\n      this.tooltipOpen = false;\n    }\n  };\n  Stepper.prototype.updateTooltipContent = function (index) {\n    if (this.showTooltip) {\n      if (this.isReact) {\n        this.clearTemplate(['stepperTooltipTemplate']);\n      }\n      var content = void 0;\n      var currentStep = this.steps[parseInt(index.toString(), 10)];\n      if (this.tooltipTemplate) {\n        content = this.createElement('span', {\n          className: 'e-stepper-tooltip-content'\n        });\n        var templateFunction = this.getTemplateFunction(this.tooltipTemplate);\n        append(templateFunction({\n          value: currentStep\n        }, this, 'stepperTooltipTemplate', this.element.id + 'tooltipTemplate', this.isStringTemplate), content);\n        this.tooltipObj.setProperties({\n          content: content\n        }, true);\n      } else {\n        var content_1 = currentStep.label ? currentStep.label : currentStep.text;\n        this.tooltipObj.setProperties({\n          content: initializeCSPTemplate(function () {\n            return content_1;\n          })\n        }, true);\n      }\n      this.renderReactTemplates();\n    }\n  };\n  Stepper.prototype.stepClickHandler = function (index, e, itemElement) {\n    var clickEventArgs = {\n      element: itemElement,\n      event: e,\n      previousStep: this.activeStep,\n      activeStep: index\n    };\n    this.trigger('stepClick', clickEventArgs);\n    this.navigateToStep(index, e, itemElement, true);\n  };\n  Stepper.prototype.updateTemplateFunction = function () {\n    this.templateFunction = this.template ? this.getTemplateFunction(this.template) : null;\n  };\n  Stepper.prototype.renderItemContent = function (index, isrerender) {\n    var listItems = this.stepperItemList.querySelectorAll('li');\n    if (isrerender) {\n      this.removeItemContent(listItems[parseInt(index.toString(), 10)]);\n    }\n    if (this.template) {\n      if (isrerender) {\n        listItems[parseInt(index.toString(), 10)].classList.add(TEMPLATE);\n      } else {\n        this.stepperItemContainer.classList.add(TEMPLATE);\n      }\n      var item = this.steps[parseInt(index.toString(), 10)];\n      append(this.templateFunction({\n        step: item,\n        currentStep: index\n      }, this, 'stepperTemplate', this.element.id + '_stepperTemplate', this.isStringTemplate), isrerender ? listItems[parseInt(index.toString(), 10)] : this.stepperItemContainer);\n    }\n    this.renderReactTemplates();\n  };\n  Stepper.prototype.removeItemContent = function (ele) {\n    ele.classList.remove(TEMPLATE);\n    var firstChild = ele.firstElementChild;\n    for (var i = 0; i < ele.childElementCount; i++) {\n      firstChild.remove();\n    }\n  };\n  Stepper.prototype.updateContent = function () {\n    if (this.isReact) {\n      this.clearTemplate(['stepperTemplate']);\n    }\n    for (var i = 0; i < this.steps.length; i++) {\n      this.renderItemContent(i, true);\n    }\n  };\n  /**\n   * Gets template content based on the template property value.\n   *\n   * @param {string | Function} template - Template property value.\n   * @returns {Function} - Return template function.\n   * @hidden\n   */\n  Stepper.prototype.getTemplateFunction = function (template) {\n    if (typeof template === 'string') {\n      var content = '';\n      try {\n        var tempEle = select(template);\n        if (tempEle) {\n          //Return innerHTML incase of jsrenderer script else outerHTML\n          content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n        } else {\n          content = template;\n        }\n      } catch (e) {\n        content = template;\n      }\n      return compile(content);\n    } else {\n      /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n      return compile(template);\n    }\n  };\n  Stepper.prototype.navigateToStep = function (index, e, itemElement, isInteracted, isUpdated) {\n    var _this = this;\n    var eventArgs = {\n      element: itemElement,\n      event: e,\n      isInteracted: isInteracted,\n      previousStep: this.activeStep,\n      activeStep: index,\n      cancel: false\n    };\n    if (isUpdated !== false) {\n      var previousStep_1 = this.activeStep;\n      this.trigger('stepChanging', eventArgs, function (args) {\n        if (args.cancel) {\n          return;\n        }\n        _this.navigationHandler(index);\n        var eventArgs = {\n          element: itemElement,\n          event: e,\n          isInteracted: isInteracted,\n          previousStep: previousStep_1,\n          activeStep: _this.activeStep\n        };\n        _this.trigger('stepChanged', eventArgs);\n      });\n    } else {\n      this.navigationHandler(index);\n    }\n  };\n  Stepper.prototype.navigationHandler = function (index, stepStatus, isUpdated) {\n    index = index >= this.steps.length - 1 ? this.steps.length - 1 : index;\n    var Itemslength = this.stepperItemElements.length;\n    if (index >= 0 && index < Itemslength - 1) {\n      index = this.stepperItemElements[parseInt(index.toString(), 10)].classList.contains(DISABLED) ? this.activeStep : index;\n    }\n    var prevOnChange = this.isProtectedOnChange;\n    this.isProtectedOnChange = true;\n    this.activeStep = parseInt(index.toString(), 10);\n    this.isProtectedOnChange = prevOnChange;\n    for (var i = 0; i < this.steps.length; i++) {\n      var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n      var item = this.steps[parseInt(i.toString(), 10)];\n      itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n      if (i === this.activeStep) {\n        itemElement.classList.add(SELECTED);\n      }\n      if (this.activeStep >= 0 && this.progressbar) {\n        if (this.element.classList.contains(HORIZSTEP)) {\n          if ((this.element.classList.contains(LABELBEFORE) || this.element.classList.contains(LABELAFTER)) && !this.element.classList.contains(STEPINDICATOR) && this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(STEPICON)) {\n            var progressPos = this.element.querySelector('.e-stepper-progressbar');\n            var selectedEle = this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].firstChild;\n            var value = this.activeStep === 0 ? 0 : (selectedEle.offsetLeft - progressPos.offsetLeft + selectedEle.offsetWidth / 2) / progressPos.offsetWidth * 100;\n            if (this.element.classList.contains(RTL)) {\n              value = (progressPos.getBoundingClientRect().right - selectedEle.getBoundingClientRect().right + selectedEle.offsetWidth / 2) / progressPos.offsetWidth * 100;\n              this.progressbar.style.setProperty(PROGRESSVALUE, value + '%');\n            } else {\n              this.progressbar.style.setProperty(PROGRESSVALUE, value + '%');\n            }\n          } else {\n            var totalLiWidth = 0;\n            var activeLiWidth = 0;\n            for (var j = 0; j < this.stepperItemElements.length; j++) {\n              totalLiWidth = totalLiWidth + this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth;\n              if (j <= this.activeStep) {\n                if (j < this.activeStep) {\n                  activeLiWidth = activeLiWidth + this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth;\n                } else if (j === this.activeStep && j !== 0) {\n                  activeLiWidth = activeLiWidth + this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth / 2;\n                }\n              }\n            }\n            var spaceWidth = (this.stepperItemList.offsetWidth - totalLiWidth) / (this.stepperItemElements.length - 1);\n            var progressValue = (activeLiWidth + spaceWidth * this.activeStep) / this.stepperItemList.offsetWidth * 100;\n            this.progressbar.style.setProperty(PROGRESSVALUE, progressValue + '%');\n          }\n        } else {\n          this.progressbar.style.setProperty(PROGRESSVALUE, 100 / (this.steps.length - 1) * index + '%');\n        }\n      } else if (this.activeStep < 0 && this.progressbar) {\n        this.progressbar.style.setProperty(PROGRESSVALUE, 0 + '%');\n      }\n      if (i === this.activeStep) {\n        itemElement.classList.add(INPROGRESS);\n      } else if (this.activeStep > 0 && i < this.activeStep) {\n        itemElement.classList.add(COMPLETED);\n      } else {\n        itemElement.classList.add(NOTSTARTED);\n      }\n      if (itemElement.classList.contains(INPROGRESS)) {\n        attributes(itemElement, {\n          'tabindex': '0',\n          'aria-current': 'true'\n        });\n      } else {\n        attributes(itemElement, {\n          'tabindex': '-1',\n          'aria-current': 'false'\n        });\n      }\n      var prevOnChange_1 = this.isProtectedOnChange;\n      this.isProtectedOnChange = true;\n      if (isUpdated !== false) {\n        if (i < this.activeStep || this.steps.length - 1 === this.activeStep && item.status.toLowerCase() === 'completed') {\n          item.status = StepStatus.Completed;\n        } else if (i === this.activeStep) {\n          item.status = StepStatus.InProgress;\n        } else if (i > this.activeStep) {\n          item.status = StepStatus.NotStarted;\n        }\n        if (stepStatus && this.activeStep === i) {\n          item.status = stepStatus;\n        }\n        if (item.status.toLowerCase() === 'completed') {\n          itemElement.classList.remove(SELECTED, INPROGRESS, NOTSTARTED);\n          itemElement.classList.add(COMPLETED);\n        }\n        if (item.status.toLowerCase() === 'notstarted') {\n          itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED);\n          itemElement.classList.add(NOTSTARTED);\n        }\n      }\n      this.isProtectedOnChange = prevOnChange_1;\n      if (this.renderDefault(i) && this.element.classList.contains(STEPINDICATOR) && !itemElement.classList.contains('e-step-valid') && !itemElement.classList.contains('e-step-error')) {\n        if (itemElement.classList.contains(COMPLETED)) {\n          itemElement.firstChild.classList.remove('e-icons', 'e-step-indicator');\n          itemElement.firstChild.classList.add(ICONCSS, 'e-icons', 'e-check');\n        } else if (itemElement.classList.contains(INPROGRESS) || itemElement.classList.contains(NOTSTARTED)) {\n          itemElement.firstChild.classList.remove(ICONCSS, 'e-icons', 'e-check');\n          itemElement.firstChild.classList.add('e-icons', 'e-step-indicator');\n        }\n      }\n    }\n  };\n  Stepper.prototype.removeItemElements = function () {\n    for (var i = 0; i < this.stepperItemElements.length; i++) {\n      remove(this.stepperItemElements[parseInt(i.toString(), 10)]);\n    }\n    this.stepperItemElements = [];\n  };\n  Stepper.prototype.nextStep = function () {\n    if (this.activeStep !== this.steps.length - 1) {\n      this.navigateToStep(this.activeStep + 1, null, null, false);\n    }\n  };\n  Stepper.prototype.previousStep = function () {\n    if (this.activeStep > 0) {\n      this.navigateToStep(this.activeStep - 1, null, null, false);\n    }\n  };\n  Stepper.prototype.reset = function () {\n    if (this.activeStep !== 0) {\n      var isDisabled = this.stepperItemElements[0].classList.contains(DISABLED) ? true : false;\n      this.navigateToStep(isDisabled ? -1 : 0, null, null, false);\n    }\n  };\n  Stepper.prototype.updateElementClassArray = function () {\n    var classArray = [RTL, READONLY, 'e-steps-focus', LABELAFTER, LABELBEFORE, 'e-label-top', 'e-label-bottom', 'e-label-start', 'e-label-end', STEPINDICATOR, LABELINDICATOR, VERTICALSTEP, HORIZSTEP];\n    removeClass([this.element], classArray);\n  };\n  Stepper.prototype.destroy = function () {\n    var _this = this;\n    _super.prototype.destroy.call(this);\n    EventHandler.remove(window, 'resize', function () {\n      if (_this.stepperItemList && _this.progressbar) {\n        _this.setProgressPosition(_this.element, true);\n      }\n    });\n    EventHandler.remove(window, 'click', function () {\n      _this.updateStepFocus();\n    });\n    // unwires the events and detach the li elements\n    this.removeItemElements();\n    this.clearTemplate();\n    if (this.stepperItemList) {\n      remove(this.stepperItemList);\n    }\n    this.stepperItemList = null;\n    if (this.progressStep) {\n      remove(this.progressStep);\n    }\n    this.progressStep = null;\n    this.progressbar = null;\n    this.progressBarPosition = null;\n    this.stepperItemContainer = null;\n    this.textContainer = null;\n    this.labelContainer = null;\n    this.updateElementClassArray();\n    this.element.removeAttribute('aria-label');\n    if (this.showTooltip) {\n      this.tooltipObj.destroy();\n      this.tooltipObj = null;\n    }\n    if (this.keyboardModuleStepper) {\n      this.keyboardModuleStepper.destroy();\n    }\n    this.keyboardModuleStepper = null;\n  };\n  Stepper.prototype.wireKeyboardEvent = function () {\n    this.keyboardModuleStepper = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  Stepper.prototype.keyActionHandler = function (e) {\n    if (this.readOnly) {\n      return;\n    }\n    switch (e.action) {\n      case 'uparrow':\n      case 'downarrow':\n      case 'leftarrow':\n      case 'rightarrow':\n      case 'tab':\n      case 'shiftTab':\n        this.handleNavigation(this.enableRtl && this.element.classList.contains(HORIZSTEP) ? e.action === 'leftarrow' || e.action === 'tab' || e.action === 'uparrow' : e.action === 'rightarrow' || e.action === 'tab' || e.action === 'downarrow', e);\n        break;\n      case 'space':\n      case 'enter':\n      case 'escape':\n        this.handleNavigation(null, e);\n        break;\n      case 'home':\n      case 'end':\n        this.handleNavigation(null, e, this.enableRtl);\n        break;\n    }\n  };\n  Stepper.prototype.handleNavigation = function (isNextStep, e, isRTL) {\n    this.isKeyNavFocus = true;\n    this.element.classList.add('e-steps-focus');\n    var focusedEle = this.element.querySelector('.' + FOCUS);\n    if (!focusedEle) {\n      focusedEle = this.element.querySelector('.' + SELECTED);\n    }\n    var stepItems = Array.prototype.slice.call(this.stepperItemList.children);\n    var index = stepItems.indexOf(focusedEle);\n    if (e.action === 'tab' || e.action === 'shiftTab' || e.action === 'downarrow' || e.action === 'uparrow' || e.action === 'space' || e.action === 'home' || e.action === 'end') {\n      if (e.action === 'tab' && index === stepItems.length - 1 || e.action === 'shiftTab' && index === 0) {\n        if (focusedEle.classList.contains(FOCUS)) {\n          this.updateStepFocus();\n          return;\n        }\n      } else {\n        e.preventDefault();\n      }\n    }\n    if (e.action === 'escape') {\n      stepItems[parseInt(index.toString(), 10)].classList.remove(FOCUS);\n      this.element.classList.remove('e-steps-focus');\n    }\n    if (!(e.action === 'space' || e.action === 'enter')) {\n      var prevIndex = index;\n      index = isNextStep ? index + 1 : index - 1;\n      while (index >= 0 && index < stepItems.length && stepItems[parseInt(index.toString(), 10)].classList.contains(DISABLED)) {\n        index = isNextStep ? index + 1 : index - 1;\n      }\n      index = index < 0 ? 0 : index > stepItems.length - 1 ? stepItems.length - 1 : index;\n      if (stepItems[parseInt(prevIndex.toString(), 10)].classList.contains(FOCUS)) {\n        stepItems[parseInt(prevIndex.toString(), 10)].classList.remove(FOCUS);\n      }\n      if (e.action === 'home' || e.action === 'end') {\n        if (e.action === 'home') {\n          index = isRTL ? stepItems.length - 1 : 0;\n        } else {\n          index = isRTL ? 0 : stepItems.length - 1;\n        }\n      }\n      if (index >= 0 && index < stepItems.length) {\n        stepItems[parseInt(index.toString(), 10)].classList.add(FOCUS);\n      }\n    } else if (e.action === 'space' || e.action === 'enter') {\n      var isupdateFocus = false;\n      if (this.linear) {\n        var linearModeValue = this.activeStep - index;\n        if (Math.abs(linearModeValue) === 1) {\n          this.navigateToStep(index, null, null, true);\n          isupdateFocus = true;\n        }\n      } else {\n        this.navigateToStep(index, null, null, true);\n        isupdateFocus = true;\n      }\n      if (isupdateFocus) {\n        this.updateStepFocus();\n        this.stepperItemElements[index].focus();\n      }\n    }\n  };\n  Stepper.prototype.renderStepperItems = function (isUpdate, isStepType) {\n    this.updateElementClassArray();\n    this.removeItemElements();\n    this.element.querySelector('.e-stepper-progressbar').remove();\n    if (isUpdate) {\n      this.updatePosition();\n    }\n    if (isStepType) {\n      this.updateStepType();\n    }\n    if (this.readOnly && !this.element.classList.contains(READONLY)) {\n      this.element.classList.add(READONLY);\n    }\n    if (this.enableRtl && !this.element.classList.contains(RTL)) {\n      this.element.classList.add(RTL);\n    }\n    this.updateOrientaion(this.element);\n    this.renderItems();\n    this.renderProgressBar(this.element);\n    this.checkValidStep();\n    this.updateAnimation();\n    this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param  {StepperModel} newProp - Specifies new properties\n   * @param  {StepperModel} oldProp - Specifies old properties\n   * @returns {void}\n   * @private\n   */\n  Stepper.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'steps':\n          {\n            if (!(newProp.steps instanceof Array && oldProp.steps instanceof Array)) {\n              var stepCounts = Object.keys(newProp.steps);\n              for (var i = 0; i < stepCounts.length; i++) {\n                var index = parseInt(Object.keys(newProp.steps)[i], 10);\n                var changedPropsCount = Object.keys(newProp.steps[index]).length;\n                for (var j = 0; j < changedPropsCount; j++) {\n                  var property = Object.keys(newProp.steps[index])[j];\n                  if (property === 'status') {\n                    if (this.activeStep === index) {\n                      this.navigationHandler(index, newProp.steps[index].status);\n                    } else {\n                      this.steps[index].status = oldProp.steps[index].status;\n                    }\n                  } else {\n                    this.removeItemElements();\n                    this.renderItems();\n                    this.updateStepperStatus();\n                  }\n                  this.checkValidStep();\n                }\n              }\n            } else {\n              this.renderStepperItems(true, true);\n            }\n            break;\n          }\n        case 'orientation':\n          this.updateOrientaion(this.element);\n          this.renderStepperItems(true);\n          break;\n        case 'activeStep':\n          this.activeStep = newProp.activeStep > this.steps.length - 1 || newProp.activeStep < -1 ? oldProp.activeStep : this.activeStep;\n          if (this.activeStep >= 0 && this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(DISABLED)) {\n            this.activeStep = oldProp.activeStep;\n          }\n          if (this.linear) {\n            var linearModeValue = oldProp.activeStep - this.activeStep;\n            if (Math.abs(linearModeValue) === 1) {\n              this.navigateToStep(this.activeStep, null, null, true);\n            }\n          } else {\n            this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n          }\n          break;\n        case 'enableRtl':\n          this.element.classList[this.enableRtl ? 'add' : 'remove'](RTL);\n          break;\n        case 'readOnly':\n          this.element.classList[this.readOnly ? 'add' : 'remove'](READONLY);\n          break;\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.trim().split(' '));\n          }\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.trim().split(' '));\n          }\n          if (this.tooltipObj) {\n            this.tooltipObj.setProperties({\n              cssClass: this.cssClass ? STEPPERTOOLTIP + ' ' + this.cssClass : STEPPERTOOLTIP\n            });\n          }\n          break;\n        case 'labelPosition':\n          this.renderStepperItems(true);\n          break;\n        case 'showTooltip':\n          this.updateTooltip();\n          break;\n        case 'stepType':\n          this.renderStepperItems(true, true);\n          break;\n        case 'template':\n          this.updateTemplateFunction();\n          this.updateContent();\n          break;\n        case 'animation':\n          this.updateAnimation();\n          break;\n      }\n    }\n  };\n  __decorate([Property(0)], Stepper.prototype, \"activeStep\", void 0);\n  __decorate([Complex({}, StepperAnimationSettings)], Stepper.prototype, \"animation\", void 0);\n  __decorate([Property(false)], Stepper.prototype, \"linear\", void 0);\n  __decorate([Property(false)], Stepper.prototype, \"showTooltip\", void 0);\n  __decorate([Property('')], Stepper.prototype, \"template\", void 0);\n  __decorate([Property('')], Stepper.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Property(StepLabelPosition.Bottom)], Stepper.prototype, \"labelPosition\", void 0);\n  __decorate([Property(StepType.Default)], Stepper.prototype, \"stepType\", void 0);\n  __decorate([Event()], Stepper.prototype, \"stepChanged\", void 0);\n  __decorate([Event()], Stepper.prototype, \"stepChanging\", void 0);\n  __decorate([Event()], Stepper.prototype, \"stepClick\", void 0);\n  __decorate([Event()], Stepper.prototype, \"beforeStepRender\", void 0);\n  Stepper = __decorate([NotifyPropertyChanges], Stepper);\n  return Stepper;\n}(StepperBase);\nexport { Stepper };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","attributes","NotifyPropertyChanges","L10n","append","isNullOrUndefined","getUniqueID","Complex","KeyboardEvents","ChildProperty","Property","EventHandler","Event","addClass","remove","removeClass","initializeCSPTemplate","select","compile","StepperBase","StepStatus","Tooltip","ITEMCONTAINER","ITEMLIST","ICONCSS","TEXTCSS","STEPLABEL","OPTIONAL","SELECTED","INPROGRESS","NOTSTARTED","FOCUS","COMPLETED","DISABLED","READONLY","PROGRESSVALUE","RTL","TEMPLATE","LABELAFTER","LABELBEFORE","VERTICALSTEP","HORIZSTEP","STEPICON","STEPTEXT","TEXT","STEPSLABEL","LABEL","STEPINDICATOR","LABELINDICATOR","INDICATORICON","STEPPERTOOLTIP","STEPPERIPROGRESSTIP","StepperAnimationSettings","_super","apply","StepLabelPosition","StepType","Stepper","options","element","_this","call","stepperItemElements","preRender","id","getModuleName","localeText","optional","l10n","locale","keyConfigs","downarrow","leftarrow","rightarrow","uparrow","space","enter","home","end","tab","shiftTab","escape","tooltipOpen","render","initialize","navigationHandler","activeStep","updateStepperStatus","setAttribute","updatePosition","stepperItemList","createElement","className","updateOrientaion","updateStepType","appendChild","cssClass","trim","split","readOnly","classList","add","enableRtl","wireEvents","updateTemplateFunction","renderItems","steps","isAngular","template","setTimeout","renderProgressBar","checkValidStep","updateAnimation","updateTooltip","wireKeyboardEvent","progressBarPosition","beforeLabelWidth","textEleWidth","renderDefault","index","parseInt","toString","iconCss","text","label","progressEle","querySelector","animation","enable","duration","style","setProperty","delay","stepType","toLowerCase","labelContainer","clearLabelPosition","window","progressbar","contains","setProgressPosition","updateStepFocus","isKeyNavFocus","isFocus","isInitial","item","status_1","status","prevOnChange","isProtectedOnChange","InProgress","itemElement","updateStatusClass","currentStep","ele","isInprogress","stepItem","Completed","stepperItemContainer","stepSpan","isIndicator","isValid","innerHTML","isRender","itemIcon","labelPosition","textSpan","innerText","checkValidState","labelSpan","updateLabelPosition","iconSpan","optionalSpan","setLocale","optionalContent","getConstant","disabled","renderItemContent","wireItemsEvents","push","eventArgs","trigger","args","calculateProgressBarPosition","listItems","querySelectorAll","labelEle","isBeforeLabel","isStepVertical","iconOnly","textEle","offsetWidth","itemWidth","labelWidth","lastChild","firstChild","isLabel","updateCurrentLabel","currentLabelPos","orientation","before","removeCss","value","match","indicatorEle","iconEle","textLabelIcon","validStep","getBoundingClientRect","left","validationIcon","showTooltip","tooltipObj","windowCollision","opensOn","position","appendTo","destroy","e","linear","linearModeValue","Math","abs","stepClickHandler","openStepperTooltip","closeStepperTooltip","updateTooltipContent","open","toLocaleLowerCase","tooltipPopupClass","setProperties","close","isReact","clearTemplate","content","tooltipTemplate","templateFunction","getTemplateFunction","isStringTemplate","content_1","renderReactTemplates","clickEventArgs","event","previousStep","navigateToStep","isrerender","removeItemContent","step","firstElementChild","childElementCount","updateContent","tempEle","tagName","outerHTML","isInteracted","isUpdated","cancel","previousStep_1","stepStatus","Itemslength","progressPos","selectedEle","offsetLeft","right","totalLiWidth","activeLiWidth","j","spaceWidth","progressValue","prevOnChange_1","NotStarted","removeItemElements","nextStep","reset","isDisabled","updateElementClassArray","classArray","progressStep","textContainer","removeAttribute","keyboardModuleStepper","keyAction","keyActionHandler","bind","eventName","action","handleNavigation","isNextStep","isRTL","focusedEle","stepItems","slice","children","indexOf","preventDefault","prevIndex","isupdateFocus","focus","renderStepperItems","isUpdate","isStepType","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","stepCounts","changedPropsCount","property","Bottom","Default"],"sources":["/Users/anjalichaturvedi/GitHub/brew-bridge-dashboard/website/node_modules/@syncfusion/ej2-navigations/src/stepper/stepper.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../stepper-base/stepper-base-model.d.ts'/>\nimport { attributes, NotifyPropertyChanges, L10n, append, isNullOrUndefined, getUniqueID, Complex, KeyboardEvents, ChildProperty, Property, EventHandler, Event, addClass, remove, removeClass, initializeCSPTemplate, select, compile } from '@syncfusion/ej2-base';\nimport { StepperBase, StepStatus } from '../stepper-base/stepper-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nvar ITEMCONTAINER = 'e-step-container';\nvar ITEMLIST = 'e-stepper-steps';\nvar ICONCSS = 'e-indicator';\nvar TEXTCSS = 'e-step-text-container';\nvar STEPLABEL = 'e-step-label-container';\nvar OPTIONAL = 'e-step-label-optional';\nvar SELECTED = 'e-step-selected';\nvar INPROGRESS = 'e-step-inprogress';\nvar NOTSTARTED = 'e-step-notstarted';\nvar FOCUS = 'e-step-focus';\nvar COMPLETED = 'e-step-completed';\nvar DISABLED = 'e-step-disabled';\nvar READONLY = 'e-stepper-readonly';\nvar PROGRESSVALUE = '--progress-value';\nvar RTL = 'e-rtl';\nvar TEMPLATE = 'e-step-template';\nvar LABELAFTER = 'e-label-after';\nvar LABELBEFORE = 'e-label-before';\nvar VERTICALSTEP = 'e-vertical';\nvar HORIZSTEP = 'e-horizontal';\nvar STEPICON = 'e-step-item';\nvar STEPTEXT = 'e-step-text';\nvar TEXT = 'e-text';\nvar STEPSLABEL = 'e-step-label';\nvar LABEL = 'e-label';\nvar STEPINDICATOR = 'e-step-type-indicator';\nvar LABELINDICATOR = 'e-step-type-label';\nvar INDICATORICON = 'e-step-indicator';\nvar STEPPERTOOLTIP = 'e-stepper-tooltip';\nvar STEPPERIPROGRESSTIP = 'e-step-inprogress-tip';\n/**\n * Defines the step progress animation of the Stepper.\n */\nvar StepperAnimationSettings = /** @class */ (function (_super) {\n    __extends(StepperAnimationSettings, _super);\n    function StepperAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], StepperAnimationSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(2000)\n    ], StepperAnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], StepperAnimationSettings.prototype, \"delay\", void 0);\n    return StepperAnimationSettings;\n}(ChildProperty));\nexport { StepperAnimationSettings };\n/**\n * Defines the label position in the Stepper.\n */\nexport var StepLabelPosition;\n(function (StepLabelPosition) {\n    /**\n     * Displays the label on top position regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"Top\"] = \"Top\";\n    /**\n     * Displays the label on bottom position regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"Bottom\"] = \"Bottom\";\n    /**\n     * Displays the label on left side regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"Start\"] = \"Start\";\n    /**\n     * Displays the label on right side regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"End\"] = \"End\";\n})(StepLabelPosition || (StepLabelPosition = {}));\n/**\n * Defines whether steps are display with only indicator, only labels or combination of both.\n */\nexport var StepType;\n(function (StepType) {\n    /**\n     * Steps are shown indicator with label defined.\n     */\n    StepType[\"Default\"] = \"Default\";\n    /**\n     * Steps are shown with only label.\n     */\n    StepType[\"Label\"] = \"Label\";\n    /**\n     * Steps are shown with only indicator.\n     */\n    StepType[\"Indicator\"] = \"Indicator\";\n})(StepType || (StepType = {}));\n/**\n * The Stepper component visualizes several steps and indicates the current progress by highlighting already completed steps.\n *\n * ```html\n * <nav id=\"stepper\"></nav>\n * ```\n * ```typescript\n * <script>\n *   let stepperObj: Stepper = new Stepper({steps : [{}, {}, {}, {}, {}]});\n *   stepperObj.appendTo('#stepper');\n * </script>\n * ```\n */\nvar Stepper = /** @class */ (function (_super) {\n    __extends(Stepper, _super);\n    /**\n     * * Constructor for creating the Stepper component.\n     *\n     * @param {StepperModel} options - Specifies the Stepper model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Stepper(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.stepperItemElements = [];\n        return _this;\n    }\n    Stepper.prototype.preRender = function () {\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        var localeText = { optional: 'Optional' };\n        this.l10n = new L10n('stepper', localeText, this.locale);\n        this.keyConfigs = {\n            downarrow: 'downarrow',\n            leftarrow: 'leftarrow',\n            rightarrow: 'rightarrow',\n            uparrow: 'uparrow',\n            space: 'space',\n            enter: 'enter',\n            home: 'home',\n            end: 'end',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            escape: 'escape'\n        };\n        this.tooltipOpen = false;\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    Stepper.prototype.getModuleName = function () {\n        return 'stepper';\n    };\n    Stepper.prototype.render = function () {\n        this.initialize();\n        this.navigationHandler(this.activeStep, null, false);\n        this.updateStepperStatus(true);\n    };\n    Stepper.prototype.initialize = function () {\n        var _this = this;\n        this.element.setAttribute('aria-label', this.element.id);\n        this.updatePosition();\n        this.stepperItemList = this.createElement('ol', { className: ITEMLIST });\n        this.updateOrientaion(this.element);\n        this.updateStepType();\n        this.element.appendChild(this.stepperItemList);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.trim().split(' '));\n        }\n        if (this.readOnly) {\n            this.element.classList.add(READONLY);\n        }\n        if (this.enableRtl) {\n            this.element.classList.add(RTL);\n        }\n        this.wireEvents();\n        this.updateTemplateFunction();\n        this.renderItems();\n        if (this.steps.length > 0) {\n            if (this.steps.length > 1) {\n                if (this.isAngular && this.template) {\n                    setTimeout(function () {\n                        _this.renderProgressBar(_this.element);\n                    });\n                }\n                else {\n                    this.renderProgressBar(this.element);\n                }\n            }\n            this.checkValidStep();\n            this.updateAnimation();\n            this.updateTooltip();\n            this.wireKeyboardEvent();\n        }\n    };\n    Stepper.prototype.updatePosition = function () {\n        this.progressBarPosition = this.beforeLabelWidth = this.textEleWidth = 0;\n    };\n    Stepper.prototype.renderDefault = function (index) {\n        return (!this.steps[parseInt((index).toString(), 10)].iconCss && !this.steps[parseInt((index).toString(), 10)].text &&\n            !this.steps[parseInt((index).toString(), 10)].label) ? true : false;\n    };\n    Stepper.prototype.updateAnimation = function () {\n        var progressEle = this.element.querySelector('.e-progressbar-value');\n        if (this.animation.enable) {\n            if (this.animation.duration >= 0) {\n                if (progressEle) {\n                    progressEle.style.setProperty('--duration', ((this.animation.duration) + 'ms'));\n                }\n            }\n            if (this.animation.delay >= 0) {\n                if (progressEle) {\n                    progressEle.style.setProperty('--delay', ((this.animation.delay) + 'ms'));\n                }\n            }\n        }\n        else {\n            if (progressEle) {\n                progressEle.style.setProperty('--delay', (0 + 'ms'));\n                progressEle.style.setProperty('--duration', (0 + 'ms'));\n            }\n        }\n    };\n    Stepper.prototype.updateStepType = function () {\n        if (!(isNullOrUndefined(this.stepType)) && (this.stepType.toLowerCase() === 'indicator' || this.stepType.toLowerCase() === 'label' || this.stepType.toLowerCase() === 'default')) {\n            if (this.stepType.toLowerCase() !== 'default') {\n                this.element.classList.add('e-step-type-' + this.stepType.toLowerCase());\n            }\n            if (((this.stepType.toLowerCase() === 'indicator' || 'label') && (this.labelContainer))) {\n                this.clearLabelPosition();\n            }\n        }\n    };\n    Stepper.prototype.wireEvents = function () {\n        var _this = this;\n        EventHandler.add(window, 'resize', function () {\n            if (_this.stepperItemList && _this.progressbar && _this.element.classList.contains(HORIZSTEP)) {\n                _this.setProgressPosition(_this.element, true);\n            }\n        }, this);\n        EventHandler.add(window, 'click', function () { _this.updateStepFocus(); }, this);\n    };\n    Stepper.prototype.updateStepFocus = function () {\n        if (this.isKeyNavFocus) {\n            this.isKeyNavFocus = false;\n            var isFocus = this.element.querySelector('.' + FOCUS);\n            if (isFocus) {\n                isFocus.classList.remove(FOCUS);\n                this.element.classList.remove('e-steps-focus');\n            }\n        }\n    };\n    Stepper.prototype.updateStepperStatus = function (isInitial) {\n        for (var index = 0; index < this.steps.length; index++) {\n            var item = this.steps[parseInt(index.toString(), 10)];\n            var status_1 = item.status.toLowerCase();\n            if (isInitial && this.activeStep === 0 && index === 0) {\n                var prevOnChange = this.isProtectedOnChange;\n                this.isProtectedOnChange = true;\n                item.status = StepStatus.InProgress;\n                this.isProtectedOnChange = prevOnChange;\n            }\n            if (item && status_1 !== 'notstarted' && index === this.activeStep) {\n                for (var i = 0; i < this.steps.length; i++) {\n                    var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n                    itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    if (status_1 === 'completed') {\n                        this.updateStatusClass(i, index, itemElement);\n                    }\n                    else {\n                        this.updateStatusClass(i, index, itemElement, true);\n                    }\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            else if (item && status_1 !== 'notstarted' && index !== this.activeStep) {\n                this.navigationHandler(this.activeStep, null, true);\n            }\n        }\n    };\n    Stepper.prototype.updateStatusClass = function (currentStep, index, ele, isInprogress) {\n        var stepItem = this.steps[parseInt(currentStep.toString(), 10)];\n        if (currentStep < index) {\n            ele.classList.add(COMPLETED);\n            stepItem.status = StepStatus.Completed;\n        }\n        else if (currentStep === index) {\n            ele.classList.add(isInprogress ? INPROGRESS : COMPLETED, SELECTED);\n        }\n        else {\n            ele.classList.add(NOTSTARTED);\n        }\n    };\n    Stepper.prototype.renderItems = function () {\n        var _this = this;\n        for (var index = 0; index < this.steps.length; index++) {\n            this.stepperItemContainer = this.createElement('li', { className: ITEMCONTAINER });\n            this.stepperItemContainer.classList[(index === 0) ? 'add' : 'remove'](SELECTED, INPROGRESS);\n            this.stepperItemContainer.classList[(index !== 0) ? 'add' : 'remove'](NOTSTARTED);\n            if (this.element.classList.contains(HORIZSTEP)) {\n                this.stepperItemContainer.style.setProperty('--max-width', 100 / this.steps.length + '%');\n            }\n            var stepSpan = this.createElement('span', { className: 'e-step' });\n            var item = this.steps[parseInt(index.toString(), 10)];\n            if (this.renderDefault(index) && (isNullOrUndefined(this.template) || this.template === '')) {\n                var isIndicator = (!this.element.classList.contains('e-step-type-default') && this.stepType.toLowerCase() === 'indicator') ? true : false;\n                if (isIndicator) {\n                    stepSpan.classList.add('e-icons', INDICATORICON);\n                }\n                if (!isIndicator && item.isValid == null) {\n                    stepSpan.classList.add('e-step-content');\n                    stepSpan.innerHTML = (index + 1).toString();\n                }\n                this.stepperItemContainer.appendChild(stepSpan);\n            }\n            else if (isNullOrUndefined(this.template) || this.template === '') {\n                var isRender = true;\n                if ((item.iconCss || (!item.iconCss && item.text && item.label)) && (((!item.text && !item.label) ||\n                    !this.element.classList.contains(LABELINDICATOR)))) {\n                    if (item.iconCss) {\n                        var itemIcon = item.iconCss.trim().split(' ');\n                        stepSpan.classList.add(ICONCSS);\n                        for (var i = 0; i < itemIcon.length; i++) {\n                            stepSpan.classList.add(itemIcon[parseInt(i.toString(), 10)]);\n                        }\n                        this.stepperItemContainer.classList.add(STEPICON);\n                    }\n                    else if (!item.iconCss && item.text && item.label) {\n                        stepSpan.classList.add(ICONCSS);\n                        stepSpan.innerHTML = item.text;\n                        this.stepperItemContainer.classList.add(STEPICON);\n                    }\n                    this.stepperItemContainer.appendChild(stepSpan);\n                    if ((this.element.classList.contains(HORIZSTEP) && (this.labelPosition.toLowerCase() === 'start' || this.labelPosition.toLowerCase() === 'end') && item.label) ||\n                        (this.element.classList.contains(VERTICALSTEP) && (this.labelPosition.toLowerCase() === 'top' || this.labelPosition.toLowerCase() === 'bottom') && item.label)) {\n                        this.element.classList.add('e-label-' + this.labelPosition.toLowerCase());\n                        var textSpan = this.createElement('span', { className: TEXTCSS + ' ' + TEXT });\n                        textSpan.innerText = item.label;\n                        this.stepperItemContainer.appendChild(textSpan);\n                        this.stepperItemContainer.classList.add(STEPTEXT);\n                        isRender = false;\n                    }\n                }\n                if (item.text && (!item.iconCss || !this.element.classList.contains(STEPINDICATOR)) && isRender &&\n                    !(item.iconCss && item.label)) {\n                    if ((!item.iconCss && this.element.classList.contains(STEPINDICATOR)) ||\n                        ((!item.iconCss || this.element.classList.contains(LABELINDICATOR)) && !item.label)) {\n                        if (!item.iconCss && !item.label) {\n                            this.element.classList.add('e-step-type-indicator');\n                        }\n                        this.checkValidState(item, stepSpan);\n                        var prevOnChange = this.isProtectedOnChange;\n                        this.isProtectedOnChange = true;\n                        item.label = null;\n                        this.isProtectedOnChange = prevOnChange;\n                    }\n                    else {\n                        var textSpan = this.createElement('span', { className: TEXT });\n                        if (!item.label) {\n                            textSpan.innerText = item.text;\n                            textSpan.classList.add(TEXTCSS);\n                            this.stepperItemContainer.appendChild(textSpan);\n                            this.stepperItemContainer.classList.add(STEPTEXT);\n                        }\n                        if (item.label && this.element.classList.contains(LABELINDICATOR)) {\n                            textSpan.innerText = item.label;\n                        }\n                        var prevOnChange = this.isProtectedOnChange;\n                        this.isProtectedOnChange = true;\n                        item.text = item.label ? null : item.text;\n                        this.isProtectedOnChange = prevOnChange;\n                    }\n                }\n                if (item.label && (!item.iconCss || !this.element.classList.contains(STEPINDICATOR)) && isRender) {\n                    if (!item.iconCss && !item.text && this.element.classList.contains(STEPINDICATOR)) {\n                        this.checkValidState(item, stepSpan, true);\n                    }\n                    else if ((!((this.element.classList.contains(LABELINDICATOR)) && item.text)) ||\n                        (this.element.classList.contains(LABELINDICATOR) && item.label)) {\n                        this.labelContainer = this.createElement('span', { className: STEPLABEL });\n                        var labelSpan = this.createElement('span', { className: LABEL });\n                        labelSpan.innerText = item.label;\n                        this.labelContainer.appendChild(labelSpan);\n                        this.stepperItemContainer.classList.add(STEPSLABEL);\n                        this.updateLabelPosition();\n                        if ((!item.iconCss && !item.text && !this.stepperItemContainer.classList.contains(STEPICON)) ||\n                            this.element.classList.contains(LABELINDICATOR)) {\n                            this.stepperItemContainer.classList.add('e-step-label-only');\n                            if (item.isValid !== null) {\n                                var iconSpan = this.createElement('span', { className: 'e-step-validation-icon e-icons' });\n                                this.labelContainer.appendChild(iconSpan);\n                            }\n                        }\n                    }\n                }\n            }\n            if (item.optional) {\n                var optionalSpan = this.createElement('span', { className: OPTIONAL });\n                this.l10n.setLocale(this.locale);\n                var optionalContent = this.l10n.getConstant('optional');\n                optionalSpan.innerText = optionalContent;\n                if (item.label && (this.labelContainer && ((this.element.classList.contains(LABELAFTER) && !this.stepperItemContainer.classList.contains('e-step-label-only'))\n                    || (this.element.classList.contains(HORIZSTEP) && this.element.classList.contains(LABELBEFORE) && !this.stepperItemContainer.classList.contains('e-step-label-only'))))\n                    || (this.element.classList.contains(VERTICALSTEP) && this.element.classList.contains(LABELBEFORE))) {\n                    this.labelContainer.appendChild(optionalSpan);\n                }\n                else {\n                    this.stepperItemContainer.appendChild(optionalSpan);\n                }\n                if (item.isValid !== null) {\n                    this.stepperItemContainer.classList.add(item.isValid ? 'e-step-valid' : 'e-step-error');\n                }\n            }\n            if (item.cssClass) {\n                addClass([this.stepperItemContainer], item.cssClass.trim().split(' '));\n            }\n            if (item.disabled) {\n                this.stepperItemContainer.classList[item.disabled ? 'add' : 'remove'](DISABLED);\n                attributes(this.stepperItemContainer, { 'tabindex': '-1', 'aria-disabled': 'true' });\n            }\n            if (item.isValid !== null) {\n                if (item.isValid) {\n                    this.stepperItemContainer.classList.add('e-step-valid');\n                }\n                else {\n                    this.stepperItemContainer.classList.add('e-step-error');\n                }\n            }\n            this.renderItemContent(index, false);\n            if (this.stepperItemContainer.classList.contains(INPROGRESS)) {\n                attributes(this.stepperItemContainer, { 'tabindex': '0', 'aria-current': 'true' });\n            }\n            else {\n                attributes(this.stepperItemContainer, { 'tabindex': '-1' });\n            }\n            this.wireItemsEvents(this.stepperItemContainer, index);\n            this.stepperItemElements.push(this.stepperItemContainer);\n            var eventArgs = { element: this.stepperItemContainer, index: index };\n            this.trigger('beforeStepRender', eventArgs, function (args) {\n                _this.stepperItemList.appendChild(args.element);\n            });\n            if (this.isAngular && this.template) {\n                setTimeout(function () {\n                    _this.calculateProgressBarPosition();\n                });\n            }\n            else {\n                this.calculateProgressBarPosition();\n            }\n        }\n        if (this.element.classList.contains(VERTICALSTEP)) {\n            if (this.element.classList.contains(LABELBEFORE)) {\n                var listItems = this.stepperItemList.querySelectorAll('.' + LABEL);\n                for (var i = 0; i < listItems.length; i++) {\n                    var labelEle = listItems[parseInt((i).toString(), 10)];\n                    labelEle.style.setProperty('--label-width', (this.beforeLabelWidth) + 5 + 'px');\n                }\n            }\n        }\n    };\n    Stepper.prototype.calculateProgressBarPosition = function () {\n        var isBeforeLabel = (this.element.classList.contains(LABELBEFORE)) ? true : false;\n        var isStepVertical = (this.element.classList.contains(VERTICALSTEP)) ? true : false;\n        if (isStepVertical) {\n            var iconOnly = (this.stepperItemContainer.classList.contains(STEPICON) &&\n                !this.stepperItemContainer.classList.contains(STEPTEXT) &&\n                !this.stepperItemContainer.classList.contains(STEPSLABEL)) ? true : false;\n            var textEle = (this.stepperItemContainer.querySelector('.' + TEXTCSS));\n            if (textEle) {\n                this.textEleWidth = this.textEleWidth < textEle.offsetWidth ? textEle.offsetWidth : this.textEleWidth;\n            }\n            if (isBeforeLabel) {\n                var itemWidth = void 0;\n                var labelWidth = this.stepperItemContainer.querySelector('.' + LABEL).offsetWidth + 15;\n                if (this.beforeLabelWidth < labelWidth) {\n                    this.beforeLabelWidth = labelWidth;\n                }\n                if (this.element.querySelector('ol').lastChild.querySelector('.' + ICONCSS)) {\n                    itemWidth = (this.beforeLabelWidth + (this.stepperItemContainer.querySelector('.' + ICONCSS).offsetWidth / 2));\n                }\n                else if (this.stepperItemContainer.querySelector('.' + TEXTCSS)) {\n                    itemWidth = (this.beforeLabelWidth + (this.stepperItemContainer.querySelector('.' + TEXTCSS).offsetWidth / 2));\n                }\n                if (this.progressBarPosition < itemWidth) {\n                    this.progressBarPosition = itemWidth;\n                }\n            }\n            else if (this.progressBarPosition < (iconOnly ? this.stepperItemContainer.offsetWidth : this.element.querySelector('ol').lastChild.firstChild.offsetWidth)) {\n                this.progressBarPosition = iconOnly ? this.stepperItemContainer.offsetWidth : this.element.querySelector('ol').lastChild.firstChild.offsetWidth;\n            }\n        }\n    };\n    Stepper.prototype.checkValidState = function (item, stepSpan, isLabel) {\n        if (item.isValid == null) {\n            stepSpan.classList.add('e-step-content');\n            if (isLabel) {\n                stepSpan.innerHTML = item.label;\n            }\n            else {\n                stepSpan.innerHTML = item.label ? item.label : item.text;\n            }\n            this.stepperItemContainer.appendChild(stepSpan);\n        }\n        else {\n            stepSpan.classList.add(ICONCSS);\n            this.stepperItemContainer.appendChild(stepSpan);\n            this.stepperItemContainer.classList.add(STEPICON);\n        }\n    };\n    Stepper.prototype.updateCurrentLabel = function () {\n        var currentLabelPos;\n        if (this.element.classList.contains(HORIZSTEP)) {\n            currentLabelPos = this.labelPosition.toLowerCase() === 'top' ? 'before' : this.labelPosition.toLowerCase() === 'bottom' ? 'after' : this.labelPosition.toLowerCase();\n        }\n        else {\n            currentLabelPos = this.labelPosition.toLowerCase() === 'start' ? 'before' : this.labelPosition.toLowerCase() === 'end' ? 'after' : this.labelPosition.toLowerCase();\n        }\n        return currentLabelPos;\n    };\n    Stepper.prototype.updateLabelPosition = function () {\n        this.clearLabelPosition();\n        this.labelContainer.classList.add('e-label-' + this.updateCurrentLabel());\n        if (this.labelPosition.toLowerCase() === 'start' && this.orientation.toLowerCase() === 'vertical') {\n            if (this.stepperItemContainer.firstChild) {\n                this.stepperItemContainer.firstChild.before(this.labelContainer);\n            }\n            else {\n                this.stepperItemContainer.appendChild(this.labelContainer);\n            }\n        }\n        else {\n            this.stepperItemContainer.appendChild(this.labelContainer);\n        }\n        this.element.classList.add('e-label-' + this.updateCurrentLabel());\n    };\n    Stepper.prototype.clearLabelPosition = function () {\n        var removeCss = this.labelContainer.classList.value.match(/(e-label-[after|before]+)/g);\n        if (removeCss) {\n            removeClass([this.labelContainer], removeCss);\n            removeClass([this.element], removeCss);\n        }\n    };\n    Stepper.prototype.checkValidStep = function () {\n        for (var index = 0; index < this.steps.length; index++) {\n            var item = this.steps[parseInt(index.toString(), 10)];\n            var itemElement = this.stepperItemElements[parseInt(index.toString(), 10)];\n            if (item.isValid !== null) {\n                var indicatorEle = void 0;\n                var iconEle = void 0;\n                if (this.element.classList.contains(STEPINDICATOR) && !item.iconCss) {\n                    indicatorEle = itemElement.querySelector('.' + ICONCSS);\n                }\n                else {\n                    iconEle = itemElement.querySelector('.' + ICONCSS);\n                }\n                if (!indicatorEle && this.element.classList.contains(STEPINDICATOR) && this.renderDefault(index)) {\n                    indicatorEle = itemElement.querySelector('.' + INDICATORICON);\n                }\n                var textLabelIcon = itemElement.querySelector('.e-step-validation-icon');\n                var itemIcon = item.iconCss.trim().split(' ');\n                var validStep = itemElement.classList.contains('e-step-valid');\n                if (indicatorEle) {\n                    indicatorEle.classList.remove(INDICATORICON);\n                    if (indicatorEle.innerHTML !== '') {\n                        indicatorEle.innerHTML = '';\n                    }\n                    indicatorEle.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info', ICONCSS);\n                }\n                if (this.renderDefault(index) && !this.element.classList.contains(STEPINDICATOR)) {\n                    var stepSpan = itemElement.querySelector('.e-step');\n                    stepSpan.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info', ICONCSS);\n                }\n                if (iconEle) {\n                    if (iconEle.innerHTML !== '') {\n                        iconEle.innerHTML = '';\n                    }\n                    else if (itemIcon.length > 0) {\n                        for (var i = 0; i < itemIcon.length; i++) {\n                            iconEle.classList.remove(itemIcon[parseInt(i.toString(), 10)]);\n                        }\n                    }\n                    iconEle.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info');\n                }\n                if (textLabelIcon) {\n                    textLabelIcon.classList.add(validStep ? 'e-circle-check' : 'e-circle-info');\n                    if (this.element.classList.contains(VERTICALSTEP)) {\n                        var labelEle = itemElement.querySelector('.' + LABEL);\n                        var textEle = itemElement.querySelector('.' + TEXT);\n                        var itemWidth = textEle ? textEle.offsetWidth + textEle.getBoundingClientRect().left :\n                            labelEle.offsetWidth + labelEle.getBoundingClientRect().left;\n                        var validationIcon = itemElement.querySelector('.e-step-validation-icon');\n                        validationIcon.style.setProperty('--icon-position', (itemWidth + 20) + 'px');\n                    }\n                }\n            }\n        }\n    };\n    Stepper.prototype.updateTooltip = function () {\n        if (this.showTooltip) {\n            this.tooltipObj = new Tooltip({\n                target: '.e-step-container', windowCollision: true,\n                opensOn: 'Custom', cssClass: this.cssClass ? (STEPPERTOOLTIP + ' ' + this.cssClass) : STEPPERTOOLTIP,\n                position: 'TopCenter'\n            });\n            this.tooltipObj.appendTo(this.stepperItemList);\n        }\n        else {\n            if (!isNullOrUndefined(this.tooltipObj)) {\n                this.tooltipObj.destroy();\n                this.tooltipObj = null;\n            }\n        }\n    };\n    Stepper.prototype.wireItemsEvents = function (itemElement, index) {\n        var _this = this;\n        EventHandler.add(itemElement, 'click', function (e) {\n            if (_this.linear) {\n                var linearModeValue = index - _this.activeStep;\n                if (Math.abs(linearModeValue) === 1) {\n                    _this.stepClickHandler(index, e, itemElement);\n                }\n            }\n            else {\n                _this.stepClickHandler(index, e, itemElement);\n            }\n        }, this);\n        EventHandler.add(itemElement, 'mouseover', function () { return _this.openStepperTooltip(index); }, this);\n        EventHandler.add(itemElement, 'mouseleave', function () { return _this.closeStepperTooltip(); }, this);\n    };\n    Stepper.prototype.openStepperTooltip = function (index) {\n        var currentStep = this.steps[parseInt(index.toString(), 10)];\n        if (this.showTooltip && (currentStep.label || currentStep.text)) {\n            if (!this.tooltipOpen) {\n                this.updateTooltipContent(index);\n                this.tooltipObj.open(this.stepperItemElements[parseInt((index).toString(), 10)]);\n                if (this.stepType.toLocaleLowerCase() !== 'label' && ((this.stepType.toLocaleLowerCase() === 'indicator') ||\n                    (currentStep.label !== '' && currentStep.iconCss !== '') || (currentStep.label === null && currentStep.iconCss === '' && currentStep.text !== ''))) {\n                    var tooltipPopupClass = currentStep.status.toLowerCase() === 'inprogress' ?\n                        STEPPERTOOLTIP + \" \" + STEPPERIPROGRESSTIP + \" \" + (this.cssClass ? this.cssClass : '') : STEPPERTOOLTIP + \" \" + (this.cssClass ? this.cssClass : '');\n                    this.tooltipObj.setProperties({ cssClass: tooltipPopupClass.trim() });\n                }\n                this.tooltipOpen = true;\n            }\n        }\n    };\n    Stepper.prototype.closeStepperTooltip = function () {\n        if (this.tooltipOpen) {\n            this.tooltipObj.close();\n            this.tooltipOpen = false;\n        }\n    };\n    Stepper.prototype.updateTooltipContent = function (index) {\n        if (this.showTooltip) {\n            if (this.isReact) {\n                this.clearTemplate(['stepperTooltipTemplate']);\n            }\n            var content = void 0;\n            var currentStep = this.steps[parseInt(index.toString(), 10)];\n            if (this.tooltipTemplate) {\n                content = this.createElement('span', { className: 'e-stepper-tooltip-content' });\n                var templateFunction = this.getTemplateFunction(this.tooltipTemplate);\n                append(templateFunction({ value: currentStep }, this, 'stepperTooltipTemplate', (this.element.id + 'tooltipTemplate'), this.isStringTemplate), content);\n                this.tooltipObj.setProperties({ content: content }, true);\n            }\n            else {\n                var content_1 = currentStep.label ? currentStep.label : currentStep.text;\n                this.tooltipObj.setProperties({ content: initializeCSPTemplate(function () { return content_1; }) }, true);\n            }\n            this.renderReactTemplates();\n        }\n    };\n    Stepper.prototype.stepClickHandler = function (index, e, itemElement) {\n        var clickEventArgs = {\n            element: itemElement, event: e, previousStep: this.activeStep,\n            activeStep: index\n        };\n        this.trigger('stepClick', clickEventArgs);\n        this.navigateToStep(index, e, itemElement, true);\n    };\n    Stepper.prototype.updateTemplateFunction = function () {\n        this.templateFunction = this.template ? this.getTemplateFunction(this.template) : null;\n    };\n    Stepper.prototype.renderItemContent = function (index, isrerender) {\n        var listItems = this.stepperItemList.querySelectorAll('li');\n        if (isrerender) {\n            this.removeItemContent(listItems[parseInt((index).toString(), 10)]);\n        }\n        if (this.template) {\n            if (isrerender) {\n                listItems[parseInt((index).toString(), 10)].classList.add(TEMPLATE);\n            }\n            else {\n                this.stepperItemContainer.classList.add(TEMPLATE);\n            }\n            var item = this.steps[parseInt(index.toString(), 10)];\n            append(this.templateFunction({ step: item, currentStep: index }, this, 'stepperTemplate', (this.element.id + '_stepperTemplate'), this.isStringTemplate), isrerender ? listItems[parseInt((index).toString(), 10)] : this.stepperItemContainer);\n        }\n        this.renderReactTemplates();\n    };\n    Stepper.prototype.removeItemContent = function (ele) {\n        ele.classList.remove(TEMPLATE);\n        var firstChild = ele.firstElementChild;\n        for (var i = 0; i < ele.childElementCount; i++) {\n            firstChild.remove();\n        }\n    };\n    Stepper.prototype.updateContent = function () {\n        if (this.isReact) {\n            this.clearTemplate(['stepperTemplate']);\n        }\n        for (var i = 0; i < this.steps.length; i++) {\n            this.renderItemContent(i, true);\n        }\n    };\n    /**\n     * Gets template content based on the template property value.\n     *\n     * @param {string | Function} template - Template property value.\n     * @returns {Function} - Return template function.\n     * @hidden\n     */\n    Stepper.prototype.getTemplateFunction = function (template) {\n        if (typeof template === 'string') {\n            var content = '';\n            try {\n                var tempEle = select(template);\n                if (tempEle) {\n                    //Return innerHTML incase of jsrenderer script else outerHTML\n                    content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n                }\n                else {\n                    content = template;\n                }\n            }\n            catch (e) {\n                content = template;\n            }\n            return compile(content);\n        }\n        else {\n            /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n            return compile(template);\n        }\n    };\n    Stepper.prototype.navigateToStep = function (index, e, itemElement, isInteracted, isUpdated) {\n        var _this = this;\n        var eventArgs = {\n            element: itemElement, event: e, isInteracted: isInteracted,\n            previousStep: this.activeStep, activeStep: index, cancel: false\n        };\n        if (isUpdated !== false) {\n            var previousStep_1 = this.activeStep;\n            this.trigger('stepChanging', eventArgs, function (args) {\n                if (args.cancel) {\n                    return;\n                }\n                _this.navigationHandler(index);\n                var eventArgs = {\n                    element: itemElement, event: e, isInteracted: isInteracted,\n                    previousStep: previousStep_1, activeStep: _this.activeStep\n                };\n                _this.trigger('stepChanged', eventArgs);\n            });\n        }\n        else {\n            this.navigationHandler(index);\n        }\n    };\n    Stepper.prototype.navigationHandler = function (index, stepStatus, isUpdated) {\n        index = (index >= this.steps.length - 1) ? this.steps.length - 1 : index;\n        var Itemslength = this.stepperItemElements.length;\n        if (index >= 0 && index < Itemslength - 1) {\n            index = this.stepperItemElements[parseInt(index.toString(), 10)].classList.contains(DISABLED) ? this.activeStep : index;\n        }\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.activeStep = parseInt(index.toString(), 10);\n        this.isProtectedOnChange = prevOnChange;\n        for (var i = 0; i < this.steps.length; i++) {\n            var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n            var item = this.steps[parseInt(i.toString(), 10)];\n            itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n            if (i === this.activeStep) {\n                itemElement.classList.add(SELECTED);\n            }\n            if (this.activeStep >= 0 && this.progressbar) {\n                if (this.element.classList.contains(HORIZSTEP)) {\n                    if ((this.element.classList.contains(LABELBEFORE) || this.element.classList.contains(LABELAFTER)) &&\n                        !this.element.classList.contains(STEPINDICATOR) &&\n                        this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(STEPICON)) {\n                        var progressPos = this.element.querySelector('.e-stepper-progressbar');\n                        var selectedEle = this.stepperItemElements[parseInt(this.activeStep.toString(), 10)]\n                            .firstChild;\n                        var value = this.activeStep === 0 ? 0 : (selectedEle.offsetLeft - progressPos.offsetLeft +\n                            (selectedEle.offsetWidth / 2)) / progressPos.offsetWidth * 100;\n                        if (this.element.classList.contains(RTL)) {\n                            value = (progressPos.getBoundingClientRect().right - selectedEle.getBoundingClientRect().right +\n                                (selectedEle.offsetWidth / 2)) / progressPos.offsetWidth * 100;\n                            this.progressbar.style.setProperty(PROGRESSVALUE, (value) + '%');\n                        }\n                        else {\n                            this.progressbar.style.setProperty(PROGRESSVALUE, (value) + '%');\n                        }\n                    }\n                    else {\n                        var totalLiWidth = 0;\n                        var activeLiWidth = 0;\n                        for (var j = 0; j < this.stepperItemElements.length; j++) {\n                            totalLiWidth = totalLiWidth + this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth;\n                            if (j <= this.activeStep) {\n                                if (j < this.activeStep) {\n                                    activeLiWidth = activeLiWidth +\n                                        this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth;\n                                }\n                                else if (j === this.activeStep && j !== 0) {\n                                    activeLiWidth = activeLiWidth +\n                                        (this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth / 2);\n                                }\n                            }\n                        }\n                        var spaceWidth = (this.stepperItemList.offsetWidth - totalLiWidth) /\n                            (this.stepperItemElements.length - 1);\n                        var progressValue = ((activeLiWidth + (spaceWidth * this.activeStep)) /\n                            this.stepperItemList.offsetWidth) * 100;\n                        this.progressbar.style.setProperty(PROGRESSVALUE, (progressValue) + '%');\n                    }\n                }\n                else {\n                    this.progressbar.style.setProperty(PROGRESSVALUE, ((100 / (this.steps.length - 1)) * index) + '%');\n                }\n            }\n            else if (this.activeStep < 0 && this.progressbar) {\n                this.progressbar.style.setProperty(PROGRESSVALUE, 0 + '%');\n            }\n            if (i === this.activeStep) {\n                itemElement.classList.add(INPROGRESS);\n            }\n            else if (this.activeStep > 0 && i < this.activeStep) {\n                itemElement.classList.add(COMPLETED);\n            }\n            else {\n                itemElement.classList.add(NOTSTARTED);\n            }\n            if (itemElement.classList.contains(INPROGRESS)) {\n                attributes(itemElement, { 'tabindex': '0', 'aria-current': 'true' });\n            }\n            else {\n                attributes(itemElement, { 'tabindex': '-1', 'aria-current': 'false' });\n            }\n            var prevOnChange_1 = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            if (isUpdated !== false) {\n                if (i < this.activeStep || (this.steps.length - 1 === this.activeStep && item.status.toLowerCase() === 'completed')) {\n                    item.status = StepStatus.Completed;\n                }\n                else if (i === this.activeStep) {\n                    item.status = StepStatus.InProgress;\n                }\n                else if (i > this.activeStep) {\n                    item.status = StepStatus.NotStarted;\n                }\n                if (stepStatus && this.activeStep === i) {\n                    item.status = stepStatus;\n                }\n                if (item.status.toLowerCase() === 'completed') {\n                    itemElement.classList.remove(SELECTED, INPROGRESS, NOTSTARTED);\n                    itemElement.classList.add(COMPLETED);\n                }\n                if (item.status.toLowerCase() === 'notstarted') {\n                    itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED);\n                    itemElement.classList.add(NOTSTARTED);\n                }\n            }\n            this.isProtectedOnChange = prevOnChange_1;\n            if (this.renderDefault(i) && this.element.classList.contains(STEPINDICATOR) && !itemElement.classList.contains('e-step-valid') && !itemElement.classList.contains('e-step-error')) {\n                if (itemElement.classList.contains(COMPLETED)) {\n                    itemElement.firstChild.classList.remove('e-icons', 'e-step-indicator');\n                    itemElement.firstChild.classList.add(ICONCSS, 'e-icons', 'e-check');\n                }\n                else if (itemElement.classList.contains(INPROGRESS) || itemElement.classList.contains(NOTSTARTED)) {\n                    itemElement.firstChild.classList.remove(ICONCSS, 'e-icons', 'e-check');\n                    itemElement.firstChild.classList.add('e-icons', 'e-step-indicator');\n                }\n            }\n        }\n    };\n    Stepper.prototype.removeItemElements = function () {\n        for (var i = 0; i < this.stepperItemElements.length; i++) {\n            remove(this.stepperItemElements[parseInt(i.toString(), 10)]);\n        }\n        this.stepperItemElements = [];\n    };\n    Stepper.prototype.nextStep = function () {\n        if (this.activeStep !== this.steps.length - 1) {\n            this.navigateToStep(this.activeStep + 1, null, null, false);\n        }\n    };\n    Stepper.prototype.previousStep = function () {\n        if (this.activeStep > 0) {\n            this.navigateToStep(this.activeStep - 1, null, null, false);\n        }\n    };\n    Stepper.prototype.reset = function () {\n        if (this.activeStep !== 0) {\n            var isDisabled = this.stepperItemElements[0].classList.contains(DISABLED) ? true : false;\n            this.navigateToStep(isDisabled ? -1 : 0, null, null, false);\n        }\n    };\n    Stepper.prototype.updateElementClassArray = function () {\n        var classArray = [RTL, READONLY, 'e-steps-focus', LABELAFTER, LABELBEFORE, 'e-label-top',\n            'e-label-bottom', 'e-label-start', 'e-label-end', STEPINDICATOR, LABELINDICATOR, VERTICALSTEP, HORIZSTEP];\n        removeClass([this.element], classArray);\n    };\n    Stepper.prototype.destroy = function () {\n        var _this = this;\n        _super.prototype.destroy.call(this);\n        EventHandler.remove(window, 'resize', function () { if (_this.stepperItemList && _this.progressbar) {\n            _this.setProgressPosition(_this.element, true);\n        } });\n        EventHandler.remove(window, 'click', function () { _this.updateStepFocus(); });\n        // unwires the events and detach the li elements\n        this.removeItemElements();\n        this.clearTemplate();\n        if (this.stepperItemList) {\n            remove(this.stepperItemList);\n        }\n        this.stepperItemList = null;\n        if (this.progressStep) {\n            remove(this.progressStep);\n        }\n        this.progressStep = null;\n        this.progressbar = null;\n        this.progressBarPosition = null;\n        this.stepperItemContainer = null;\n        this.textContainer = null;\n        this.labelContainer = null;\n        this.updateElementClassArray();\n        this.element.removeAttribute('aria-label');\n        if (this.showTooltip) {\n            this.tooltipObj.destroy();\n            this.tooltipObj = null;\n        }\n        if (this.keyboardModuleStepper) {\n            this.keyboardModuleStepper.destroy();\n        }\n        this.keyboardModuleStepper = null;\n    };\n    Stepper.prototype.wireKeyboardEvent = function () {\n        this.keyboardModuleStepper = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    Stepper.prototype.keyActionHandler = function (e) {\n        if (this.readOnly) {\n            return;\n        }\n        switch (e.action) {\n            case 'uparrow':\n            case 'downarrow':\n            case 'leftarrow':\n            case 'rightarrow':\n            case 'tab':\n            case 'shiftTab':\n                this.handleNavigation(this.enableRtl && this.element.classList.contains(HORIZSTEP) ? (e.action === 'leftarrow' || e.action === 'tab' || e.action === 'uparrow') : (e.action === 'rightarrow' || e.action === 'tab' || e.action === 'downarrow'), e);\n                break;\n            case 'space':\n            case 'enter':\n            case 'escape':\n                this.handleNavigation(null, e);\n                break;\n            case 'home':\n            case 'end':\n                this.handleNavigation(null, e, this.enableRtl);\n                break;\n        }\n    };\n    Stepper.prototype.handleNavigation = function (isNextStep, e, isRTL) {\n        this.isKeyNavFocus = true;\n        this.element.classList.add('e-steps-focus');\n        var focusedEle = this.element.querySelector('.' + FOCUS);\n        if (!focusedEle) {\n            focusedEle = this.element.querySelector('.' + SELECTED);\n        }\n        var stepItems = Array.prototype.slice.call(this.stepperItemList.children);\n        var index = stepItems.indexOf(focusedEle);\n        if (e.action === 'tab' || e.action === 'shiftTab' || e.action === 'downarrow' || e.action === 'uparrow' || e.action === 'space' || e.action === 'home' || e.action === 'end') {\n            if ((e.action === 'tab' && index === stepItems.length - 1) || (e.action === 'shiftTab' && index === 0)) {\n                if (focusedEle.classList.contains(FOCUS)) {\n                    this.updateStepFocus();\n                    return;\n                }\n            }\n            else {\n                e.preventDefault();\n            }\n        }\n        if (e.action === 'escape') {\n            stepItems[parseInt(index.toString(), 10)].classList.remove(FOCUS);\n            this.element.classList.remove('e-steps-focus');\n        }\n        if (!(e.action === 'space' || e.action === 'enter')) {\n            var prevIndex = index;\n            index = isNextStep ? index + 1 : index - 1;\n            while ((index >= 0 && index < stepItems.length) && stepItems[parseInt(index.toString(), 10)].classList.contains(DISABLED)) {\n                index = isNextStep ? index + 1 : index - 1;\n            }\n            index = (index < 0) ? 0 : (index > stepItems.length - 1) ? stepItems.length - 1 : index;\n            if (stepItems[parseInt(prevIndex.toString(), 10)].classList.contains(FOCUS)) {\n                stepItems[parseInt(prevIndex.toString(), 10)].classList.remove(FOCUS);\n            }\n            if ((e.action === 'home' || e.action === 'end')) {\n                if (e.action === 'home') {\n                    index = isRTL ? stepItems.length - 1 : 0;\n                }\n                else {\n                    index = isRTL ? 0 : stepItems.length - 1;\n                }\n            }\n            if (index >= 0 && index < stepItems.length) {\n                stepItems[parseInt(index.toString(), 10)].classList.add(FOCUS);\n            }\n        }\n        else if ((e.action === 'space' || e.action === 'enter')) {\n            var isupdateFocus = false;\n            if (this.linear) {\n                var linearModeValue = this.activeStep - index;\n                if (Math.abs(linearModeValue) === 1) {\n                    this.navigateToStep(index, null, null, true);\n                    isupdateFocus = true;\n                }\n            }\n            else {\n                this.navigateToStep(index, null, null, true);\n                isupdateFocus = true;\n            }\n            if (isupdateFocus) {\n                this.updateStepFocus();\n                this.stepperItemElements[index].focus();\n            }\n        }\n    };\n    Stepper.prototype.renderStepperItems = function (isUpdate, isStepType) {\n        this.updateElementClassArray();\n        this.removeItemElements();\n        this.element.querySelector('.e-stepper-progressbar').remove();\n        if (isUpdate) {\n            this.updatePosition();\n        }\n        if (isStepType) {\n            this.updateStepType();\n        }\n        if (this.readOnly && !this.element.classList.contains(READONLY)) {\n            this.element.classList.add(READONLY);\n        }\n        if (this.enableRtl && !this.element.classList.contains(RTL)) {\n            this.element.classList.add(RTL);\n        }\n        this.updateOrientaion(this.element);\n        this.renderItems();\n        this.renderProgressBar(this.element);\n        this.checkValidStep();\n        this.updateAnimation();\n        this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {StepperModel} newProp - Specifies new properties\n     * @param  {StepperModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Stepper.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'steps': {\n                    if (!(newProp.steps instanceof Array && oldProp.steps instanceof Array)) {\n                        var stepCounts = Object.keys(newProp.steps);\n                        for (var i = 0; i < stepCounts.length; i++) {\n                            var index = parseInt(Object.keys(newProp.steps)[i], 10);\n                            var changedPropsCount = Object.keys(newProp.steps[index]).length;\n                            for (var j = 0; j < changedPropsCount; j++) {\n                                var property = Object.keys(newProp.steps[index])[j];\n                                if (property === 'status') {\n                                    if (this.activeStep === index) {\n                                        this.navigationHandler(index, newProp.steps[index].status);\n                                    }\n                                    else {\n                                        this.steps[index].status = oldProp.steps[index].status;\n                                    }\n                                }\n                                else {\n                                    this.removeItemElements();\n                                    this.renderItems();\n                                    this.updateStepperStatus();\n                                }\n                                this.checkValidStep();\n                            }\n                        }\n                    }\n                    else {\n                        this.renderStepperItems(true, true);\n                    }\n                    break;\n                }\n                case 'orientation':\n                    this.updateOrientaion(this.element);\n                    this.renderStepperItems(true);\n                    break;\n                case 'activeStep':\n                    this.activeStep = (newProp.activeStep > this.steps.length - 1 || newProp.activeStep < -1) ?\n                        oldProp.activeStep : this.activeStep;\n                    if (this.activeStep >= 0 && this.stepperItemElements[parseInt(this.activeStep.toString(), 10)]\n                        .classList.contains(DISABLED)) {\n                        this.activeStep = oldProp.activeStep;\n                    }\n                    if (this.linear) {\n                        var linearModeValue = oldProp.activeStep - this.activeStep;\n                        if (Math.abs(linearModeValue) === 1) {\n                            this.navigateToStep(this.activeStep, null, null, true);\n                        }\n                    }\n                    else {\n                        this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n                    }\n                    break;\n                case 'enableRtl':\n                    this.element.classList[this.enableRtl ? 'add' : 'remove'](RTL);\n                    break;\n                case 'readOnly':\n                    this.element.classList[this.readOnly ? 'add' : 'remove'](READONLY);\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.trim().split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.trim().split(' '));\n                    }\n                    if (this.tooltipObj) {\n                        this.tooltipObj.setProperties({ cssClass: this.cssClass ? (STEPPERTOOLTIP + ' ' + this.cssClass) : STEPPERTOOLTIP });\n                    }\n                    break;\n                case 'labelPosition':\n                    this.renderStepperItems(true);\n                    break;\n                case 'showTooltip':\n                    this.updateTooltip();\n                    break;\n                case 'stepType':\n                    this.renderStepperItems(true, true);\n                    break;\n                case 'template':\n                    this.updateTemplateFunction();\n                    this.updateContent();\n                    break;\n                case 'animation':\n                    this.updateAnimation();\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(0)\n    ], Stepper.prototype, \"activeStep\", void 0);\n    __decorate([\n        Complex({}, StepperAnimationSettings)\n    ], Stepper.prototype, \"animation\", void 0);\n    __decorate([\n        Property(false)\n    ], Stepper.prototype, \"linear\", void 0);\n    __decorate([\n        Property(false)\n    ], Stepper.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property('')\n    ], Stepper.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], Stepper.prototype, \"tooltipTemplate\", void 0);\n    __decorate([\n        Property(StepLabelPosition.Bottom)\n    ], Stepper.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property(StepType.Default)\n    ], Stepper.prototype, \"stepType\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"stepChanged\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"stepChanging\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"stepClick\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"beforeStepRender\", void 0);\n    Stepper = __decorate([\n        NotifyPropertyChanges\n    ], Stepper);\n    return Stepper;\n}(StepperBase));\nexport { Stepper };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}